{"version":3,"sources":["jquery.canvaswrapper.js","jquery.colorhelpers.js","jquery.flot.js","jquery.flot.saturated.js","jquery.flot.browser.js","jquery.flot.drawSeries.js","jquery.flot.errorbars.js","jquery.flot.uiConstants.js","jquery.flot.logaxis.js","jquery.flot.symbol.js","jquery.flot.flatdata.js","jquery.flot.navigate.js","jquery.flot.fillbetween.js","jquery.flot.categories.js","jquery.flot.stack.js","jquery.flot.touchNavigate.js","jquery.flot.hover.js","jquery.flot.touch.js","jquery.flot.time.js","jquery.flot.axislabels.js","jquery.flot.selection.js","jquery.flot.composeImages.js","jquery.flot.legend.js"],"names":["$","Canvas","cls","container","element","getElementsByClassName","document","createElement","className","style","direction","position","left","top","appendChild","getContext","Error","context","pixelRatio","plot","browser","getPixelRatio","width","height","resize","SVGContainer","SVG","_textCache","prototype","minSize","restore","save","scale","clear","clearRect","render","cache","layerKey","hasOwnProperty","call","layer","getSVGLayer","layerCache","display","styleKey","styleCache","key","val","positions","i","active","rendered","splice","firstChild","removeChild","parentNode","length","measured","classes","svgElement","pointerEvents","createElementNS","setAttribute","bottom","right","getTextInfo","text","font","angle","textStyle","info","variant","weight","size","lineHeight","family","generateKey","indexOf","addTspanElements","textNode","createTextNode","maxWidth","setAttributeNS","fill","elementRect","getBBox","updateTransforms","transforms","transform","baseVal","forEach","t","appendItem","addText","x","y","halign","valign","textContent","cloneNode","push","textAlign","lines","split","tspan","offset","childNodes","removeText","htmlYCoord","clearCache","replace","window","Flot","jQuery","color","make","r","g","b","a","o","add","c","d","charAt","normalize","f","toString","join","clamp","min","value","max","parseInt","clone","extract","elem","css","toLowerCase","parent","nodeName","get","parse","str","res","m","exec","parseFloat","name","trim","lookupColors","aqua","azure","beige","black","blue","brown","cyan","darkblue","darkcyan","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkviolet","fuchsia","gold","green","indigo","khaki","lightblue","lightcyan","lightgreen","lightgrey","lightpink","lightyellow","lime","magenta","maroon","navy","olive","orange","pink","purple","violet","red","silver","white","yellow","defaultTickGenerator","axis","ticks","start","saturated","saturate","floorInBase","tickSize","v","Number","NaN","prev","MAX_VALUE","multiplyAdd","defaultTickFormatter","precision","oldTickDecimals","tickDecimals","expPosition","expRepTickFormatter","factor","formatted","Math","round","decimal","decimalPrecision","decimals","substr","exponentValue","tenExponent","floor","log","LN10","roundWith","updatedPrecision","recomputePrecision","toFixed","num","log10Value","abs","LOG10E","newPrecision","Plot","placeholder","data_","options_","plugins","series","options","colors","xaxis","show","mode","tickColor","inverseTransform","autoScaleMargin","autoScale","windowSize","growOnly","tickFormatter","showTickLabels","labelWidth","labelHeight","reserveSpace","tickLength","showMinorTicks","showTicks","gridLines","alignTicksWithAxis","minTickSize","below","above","boxPosition","centerX","centerY","yaxis","xaxes","yaxes","points","radius","lineWidth","fillColor","symbol","steps","bars","horizontal","barWidth","align","zero","shadowSize","highlightColor","grid","aboveData","backgroundColor","borderColor","margin","labelMargin","axisMargin","borderWidth","minBorderMargin","markings","markingsColor","markingsLineWidth","clickable","hoverable","autoHighlight","mouseActiveRadius","interaction","redrawOverlayInterval","hooks","surface","overlay","eventHolder","ctx","octx","plotOffset","plotWidth","plotHeight","processOptions","processRawData","processDatapoints","processOffset","setupGrid","adjustSeriesDataRange","setRange","drawBackground","drawSeries","drawAxis","draw","findNearbyItems","axisReserveSpace","bindEvents","drawOverlay","shutdown","eventManager","redrawTimeout","setData","getPlaceholder","getCanvas","getSurface","getEventHolder","getPlotOffset","getData","getAxes","each","concat","_","n","getXAxes","getYAxes","c2p","canvasToCartesianAxisCoords","p2c","cartesianAxisToCanvasCoords","getOptions","triggerRedrawOverlay","pointOffset","point","axisNumber","destroy","removeData","empty","executeHooks","clearTextCache","autoScaleAxis","computeRangeForDataSeries","findNearbyItem","findNearbyInterpolationPoint","computeValuePrecision","computeTickSize","addEventHandler","MINOR_TICKS_COUNT_CONSTANT","uiConstants","TICK_LENGTH_CONSTANT","initPlugins","setupCanvases","parseOptions","hook","args","apply","p","init","extend","opts","axisOptions","axisCount","fontSize","fontSizeDefault","fontDefaults","getOrCreateAxis","allAxes","oldseries","parseData","fillInSeriesOptions","processData","s","data","obj","coord","filter","pos","used","x1","undefined","y1","axes","number","neededColors","maxIndex","sc","colorPool","colorPoolSize","variation","definedColors","colori","prevSeries","topSentry","POSITIVE_INFINITY","bottomSentry","NEGATIVE_INFINITY","j","k","ps","format","updateAxis","datamin","Infinity","datamax","reusePoints","datapoints","required","computeRange","defaultValue","stack","expectedPs","pointsize","nullify","isNaN","every","range","xmin","xmax","ymin","ymax","children","hasClass","remove","unbind","existing","event","handler","priority","eventList","sort","eventData","bind","clearTimeout","setTransformationHelpers","identity","it","isFinite","delta","tp","measureTickLabels","showMajorTickLabels","showEndpointsTickLabels","legacyStyles","label","allocateAxisBoxFirstPhase","lw","lh","isXAxis","padding","innermost","outermost","found","box","allocateAxisBoxSecondPhase","adjustLayoutForThingsStickingOut","minMargin","margins","alignAxisWithGrid","ceil","isValid","showGrid","axisOpts","setupTickFormatter","allocatedAxes","grep","setupTickGeneration","setMajorTicks","snapRangeToTicks","setEndpointTicks","drawAxisLabels","widenMinMax","minimum","maximum","widen","wmin","widenedMinMax","autoScaledMin","autoScaledMax","tmp","noTicks","fixupNumberOfTicks","dec","magn","norm","getAxisTickSize","sqrt","ticksOption","Array","slice","arguments","tickGenerator","otherAxis","niceTicks","extraDec","ts","test","oticks","isFunction","newTick","type","getEndpointPrecision","anyDataInSeries","some","e","canvas1","canvas2","point1","point2","isValidEndpointTick","unshift","associatedSeries","notAllBarSeries","drawGrid","getColorOrGradient","extractRange","ranges","from","to","translate","fillStyle","fillRect","drawMarkings","xrange","yrange","xequal","yequal","subPixel","beginPath","strokeStyle","moveTo","lineTo","stroke","findEdges","alignPosition","drawTickBar","edges","xoff","yoff","drawTickMarks","minorTicks","minorTicksNr","xminor","yminor","v1","v2","step","drawGridLines","overlappedWithBorder","bw","drawBorder","bc","strokeRect","nullBox","newLabelBox","labelBoxes","overlapping","x11","y11","x12","y12","x21","y21","x22","y22","overlapsOtherLabels","previousLabelBoxes","labelBox","drawAxisLabel","tick","drawSeriesLines","drawSymbol","drawSeriesBars","drawSeriesPoints","force","useAbsoluteBarWidth","computeBarWidth","xValues","minDistance","onlyUnique","index","self","distance","mouseX","mouseY","seriesFilter","computeDistance","items","findItems","foundItems","smallestDistance","foundPoint","findNearbyPoint","seriesIndex","dataIndex","foundIndex","findNearbyBar","itemDistance","datapoint","maxDistance","mx","my","maxx","maxy","dx","dy","dist","barLeft","barRight","fillTowards","defaultBottom","posX","posY","item","comparer","x2","p1x","p1y","p2x","p2y","leftPoint","rightPoint","setTimeout","CustomEvent","dispatchEvent","trigger","spec","defaultColor","gradient","createLinearGradient","l","co","brightness","opacity","addColorStop","version","fn","linearTickGenerator","multiply","bInt","result","base","getPageXY","doc","documentElement","pageX","clientX","pageXOffset","scrollLeft","clientLeft","pageY","clientY","pageYOffset","scrollTop","clientTop","X","Y","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","isSafari","HTMLElement","safari","pushNotification","isMobileSafari","navigator","userAgent","match","isOpera","opr","addons","opera","isFirefox","InstallTrigger","isIE","documentMode","isEdge","StyleMedia","isChrome","chrome","webstore","isBlink","CSS","DrawSeries","plotLine","xoffset","yoffset","axisx","axisy","prevx","prevy","y2","plotLineArea","ypos","areaOpen","segmentStart","segmentEnd","x1old","x2old","lineJoin","dashes","setLineDash","decimate","getFillStyle","drawCircle","shadow","arc","PI","plotPoints","drawSymbolFn","decimatePoints","drawBar","fillStyleCallback","drawLeft","drawRight","drawTop","drawBottom","plotBars","filloptions","seriesColor","errorbars","xerr","err","asymmetric","upperCap","lowerCap","yerr","errors","parseErrors","exl","exu","eyl","eyu","eb","errRanges","drawSeriesErrors","ax","invertX","invertY","minmax","upper","lower","drawUpper","drawLower","sw","w","drawError","drawPath","pts","SNAPPING_CONSTANT","PANHINT_LENGTH_CONSTANT","ZOOM_DISTANCE_MARGIN","PREFERRED_LOG_TICK_VALUES","computePreferedLogTickValues","EXTENDED_LOG_TICK_VALUES","endLimit","rangeStep","log10End","log10Start","vals","power","mult","logTickGenerator","minIdx","maxIdx","logTickValues","clampAxis","lastDisplayed","inverseNoTicks","tickValue","pixelCoord","idx","idealPixelCoord","reverse","customAxis","processAxisOffset","logTickFormatter","formattedValue","lastZero","lastIndexOf","logTransform","logInverseTransform","exp","invertedTransform","invertedLogTransform","invertedLogInverseTransform","setDataminRange","map","axisName","inverted","logTicksGenerator","square","rect","rectangle","diamond","triangle","sin","cross","ellipse","plus","handlers","process1DRawData","flatdata","zoom","interactive","amount","pan","cursor","frameRate","recenter","axisZoom","plotZoom","axisPan","plotPan","panRange","zoomRange","initNevigation","panAxes","canDrag","useManualPan","smartPanLock","useSmartPan","onZoomClick","zoomOut","page","ec","center","prevCursor","panHint","panTimeout","plotState","prevDragPosition","isPanAction","onMouseWheel","maxAbsoluteDeltaOnMac","isMacScroll","originalEvent","deltaY","defaultNonMacScrollAmount","macMagicRatio","onDragEnd","preventDefault","navigationState","startPageX","startPageY","Object","keys","navigationOffset","axisMin","axisMax","diagMode","onMouseDown","onMouseUp","isLeftMouseButtonPressed","button","onDragStart","onDrag","smartPan","end","onDblClick","activate","getTouchedAxis","Event","detail","axisTouched","onClick","mousewheel","dblclick","click","h","xf","yf","offsetBelow","offsetAbove","preventEvent","minD","maxD","navigationOffsetBelow","navigationOffsetAbove","shouldSnap","adjustDeltaToSnap","lockedDirection","lockDeltaDirection","isDiagonalMode","restoreAxisOffset","initialState","prevDelta","smartLock","snap","startx","starty","endx","endy","dirX","touchPointX","touchPointY","fillBetween","findBottomSeries","allseries","id","computeFormat","plotHasId","plotData","computeFillBottoms","other","otherps","otherpoints","newpoints","px","py","intery","qx","qy","withlines","withbottom","withsteps","fromgap","categories","xCategories","yCategories","getNextIndex","categoriesTickGenerator","setupCategoriesForAxis","isArray","transformPointsOnAxis","formatColumn","findMatchingSeries","addBottomPoints","formattedPoints","stackData","needsBottom","hasBottom","keyOffset","accumulateOffset","enableTouch","touchMode","initTouchNavigation","gestureState","zoomEnable","prevDistance","prevTapTime","prevPanPosition","prevTapPosition","prevTouchedAxis","currentTouchedAxis","touchedAxis","navigationConstraint","pinch","doubleTap","addEventListener","drag","recenterPlot","removeEventListener","presetNavigationState","updateData","getPoint","updatePrevPanPosition","wasPinchEvent","updateprevPanPosition","pinchDragTimeout","setPrevDistance","pinchDistance","zoomPlot","recenterPlotOnDoubleTap","gesture","getAxis","noAxisTouched","checkAxesForDoubleTap","firstTouch","secondTouch","zoomAmount","touches","axisTouch1","axisTouch2","axisDir","t1","t2","eventType","hover","lastMouseMoveEvent","highlights","triggerCleanupEvent","generatePlothoverEvent","onMouseMove","onMouseLeave","newEvent","changedTouches","doTriggerClickHoverEvent","searchDistance","eventToTrigger","seriesFlag","triggerClickHoverEvent","unhighlight","eventname","canvasX","canvasY","auto","highlight","indexOfHighlight","hi","drawBarHighlight","drawPointHighlight","pointRadius","closePath","initHover","propagateSupportedGesture","twoTouches","currentTapStart","currentTapEnd","prevTap","currentTap","interceptedLongTap","isUnsupportedGesture","tapStartTime","longTapTriggerId","maxDistanceBetweenTaps","maxIntervalBetweenTaps","maxLongTapDistance","minLongTapDuration","pressedTapDuration","mainEventHolder","interpretGestures","updateOnMultipleTouches","isPinchEvent","executeAction","isDoubleTap","onDoubleTap","longTap","tap","touchstart","updatePrevForDoubleTap","updateCurrentForDoubleTap","updateStateForLongTapStart","touchmove","preventEventBehaviors","updateStateForLongTapEnd","touchend","noTouchActive","waitForLongTap","isLongTap","currentTime","Date","getTime","tapDuration","longTapTrigger","isTap","intervalBetweenTaps","stopPropagation","target","timezone","timeformat","twelveHourClock","monthNames","timeBase","CreateMicroSecondDate","DateType","microEpoch","newDate","oldSetTime","setTime","update","microseconds","oldGetTime","getMicroseconds","setMicroseconds","epochWithoutMicroseconds","newEpoch","setUTCMicroseconds","getUTCMicroseconds","formatDate","fmt","dayNames","strftime","leftPad","pad","formatSubSeconds","milliseconds","numberDecimalPlaces","totalMicroseconds","formattedString","magnitude","escape","hours","getHours","isAM","hours12","getDay","getMonth","getDate","getMinutes","getSeconds","getMilliseconds","getFullYear","makeUtcWrapper","addProxyMethod","sourceObj","sourceMethod","targetObj","targetMethod","utc","date","props","dateGenerator","maxDateValue","timezoneJS","setTimezone","timeUnitSizeSeconds","timeUnitSizeMilliseconds","timeUnitSizeMicroseconds","baseSpec","specMonths","specQuarters","dateTickGenerator","timeUnitSize","unit","year","setMilliseconds","setSeconds","setMinutes","setHours","setMonth","setFullYear","millisecond","second","minute","hour","day","setDate","month","quarter","carry","v1000","useQuarters","span","suffix","hourCode","log10","String","rt","axisLabels","AxisLabel","axisLabel","calculateSize","axisId","layerId","degrees","svgLayer","rotate","createSVGTransform","setTranslate","setRotate","calculateOffsets","offsets","cleanup","defaultPadding","axisLabelPadding","flotAxisName","selection","first","currentMode","savedhandlers","updateSelection","getSelection","which","body","focus","onselectstart","ondrag","setSelectionPos","selectionIsSane","triggerSelectedEvent","c1","c2","selectionDirection","p1","p2","updateMode","clearSelection","setSelection","drawSelectionDecorations","oX","oY","spacing","fullEarWidth","earWidth","visualization","displaySelectionDecorations","scalingFactor","shape","GENERALFAILURECALLBACKERROR","SUCCESSFULIMAGEPREPARATION","EMPTYARRAYOFIMAGESOURCES","NEGATIVEIMAGESIZE","composeImages","canvasOrSvgSources","destinationCanvas","validCanvasOrSvgSources","isValidSource","allImgCompositionPromises","validCanvasOrSvgSource","tempImg","Image","currentPromise","Promise","getGenerateTempImg","lastPromise","all","then","getExecuteImgComposition","failureCallback","canvasOrSvgSource","isValidFromCanvas","isValidFromContent","tagName","getBoundingClientRect","getComputedStyle","visibility","sourceDescription","sourceComponent","doGenerateTempImg","successCallbackFunc","failureCallbackFunc","onload","evt","successfullyLoaded","onabort","console","onerror","generateTempImageFromCanvasOrSvg","executeImgComposition","tempImgs","compositionResult","copyImgsToCanvas","copyCanvasToImg","canvas","img","src","toDataURL","getCSSRules","styleSheets","rulesList","rules","cssRules","rule","cssText","embedCSSRulesInSVG","svg","classList","innerHTML","copySVGToImgMostBrowsers","source","patchSVGSource","blob","Blob","domURL","URL","webkitURL","url","createObjectURL","copySVGToImgSafari","buildBinaryString","arrayBuffer","binaryString","utf8Array","Uint8Array","blockSize","binarySubString","fromCharCode","subarray","utf8BinaryString","TextEncoder","TextEncoderLite","encode","btoa","svgSource","copySVGToImg","adaptDestSizeToZoom","sources","containsSVGs","srcImgTagName","find","prepareImagesToBeComposed","destination","minX","genLeft","minY","genTop","maxX","genRight","maxY","genBottom","xCompOffset","yCompOffset","prepareImagesResult","destinationCtx","drawImage","adnotateDestImgWithBoundingClientRect","srcCanvasOrSvg","destImg","defaultOptions","legend","noColumns","labelFormatter","sorted","backgroundOpacity","insertLegend","legendEntries","html","entries","entry","labelHtml","iconHtml","xPos","yPos","svgShapeDefs","columnWidths","querySelector","columnIndex","fontStyle","fontVariant","fontWeight","fontFamily","iconWidth","getEntryIconHtml","strokeColor","strokeWidth","legendEl","appendTo","getLegendEntries","lf","reduce","validEntries","labelEval","ascending","checkOptions","opts1","opts2","prop","shouldRedraw","oldEntries","newEntries","newEntry","oldEntry","newOpts","oldOpts","oldPlotOffset","newPlotOffset"],"mappings":"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qB,IAAAA,IAAI,EAAE,UAJU;AAKhBwf,IAAAA,OAAO,EAAE;AALO,GAApB;AAOH,CA3BD,EA2BG3hB,MA3BH;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC,UAASjH,CAAT,EAAY;AACT;;AAEA,MAAIkP,OAAO,GAAG;AACVskB,IAAAA,IAAI,EAAE;AACFC,MAAAA,WAAW,EAAE,KADX;AAEFvwB,MAAAA,MAAM,EAAE,KAFN;AAGFwwB,MAAAA,MAAM,EAAE,GAHN,CAGU;;AAHV,KADI;AAMVC,IAAAA,GAAG,EAAE;AACDF,MAAAA,WAAW,EAAE,KADZ;AAEDvwB,MAAAA,MAAM,EAAE,KAFP;AAGD0wB,MAAAA,MAAM,EAAE,MAHP;AAIDC,MAAAA,SAAS,EAAE,EAJV;AAKDvkB,MAAAA,IAAI,EAAE;AALL,KANK;AAaVwkB,IAAAA,QAAQ,EAAE;AACNL,MAAAA,WAAW,EAAE;AADP,KAbA;AAgBVrkB,IAAAA,KAAK,EAAE;AACH2kB,MAAAA,QAAQ,EAAE,IADP;AACa;AAChBC,MAAAA,QAAQ,EAAE,IAFP;AAEa;AAChBC,MAAAA,OAAO,EAAE,IAHN;AAGY;AACfC,MAAAA,OAAO,EAAE,IAJN;AAIY;AACfC,MAAAA,QAAQ,EAAE,CA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","file":"jquery.flot.js","sourcesContent":["/** ## jquery.flot.canvaswrapper\n\nThis plugin contains the function for creating and manipulating both the canvas\nlayers and svg layers.\n\nThe Canvas object is a wrapper around an HTML5 canvas tag.\nThe constructor Canvas(cls, container) takes as parameters cls,\nthe list of classes to apply to the canvas adnd the containter,\nelement onto which to append the canvas. The canvas operations\ndon't work unless the canvas is attached to the DOM.\n\n### jquery.canvaswrapper.js API functions\n*/\n\n(function($) {\n    var Canvas = function(cls, container) {\n        var element = container.getElementsByClassName(cls)[0];\n\n        if (!element) {\n            element = document.createElement('canvas');\n            element.className = cls;\n            element.style.direction = 'ltr';\n            element.style.position = 'absolute';\n            element.style.left = '0px';\n            element.style.top = '0px';\n\n            container.appendChild(element);\n\n            // If HTML5 Canvas isn't available, throw\n\n            if (!element.getContext) {\n                throw new Error('Canvas is not available.');\n            }\n        }\n\n        this.element = element;\n\n        var context = this.context = element.getContext('2d');\n        this.pixelRatio = $.plot.browser.getPixelRatio(context);\n\n        // Size the canvas to match the internal dimensions of its container\n        var width = $(container).width();\n        var height = $(container).height();\n        this.resize(width, height);\n\n        // Collection of HTML div layers for text overlaid onto the canvas\n\n        this.SVGContainer = null;\n        this.SVG = {};\n\n        // Cache of text fragments and metrics, so we can avoid expensively\n        // re-calculating them when the plot is re-rendered in a loop.\n\n        this._textCache = {};\n    }\n\n    /**\n    - resize(width, height)\n\n     Resizes the canvas to the given dimensions.\n     The width represents the new width of the canvas, meanwhile the height\n     is the new height of the canvas, both of them in pixels.\n    */\n\n    Canvas.prototype.resize = function(width, height) {\n        var minSize = 10;\n        width = width < minSize ? minSize : width;\n        height = height < minSize ? minSize : height;\n\n        var element = this.element,\n            context = this.context,\n            pixelRatio = this.pixelRatio;\n\n        // Resize the canvas, increasing its density based on the display's\n        // pixel ratio; basically giving it more pixels without increasing the\n        // size of its element, to take advantage of the fact that retina\n        // displays have that many more pixels in the same advertised space.\n\n        // Resizing should reset the state (excanvas seems to be buggy though)\n\n        if (this.width !== width) {\n            element.width = width * pixelRatio;\n            element.style.width = width + 'px';\n            this.width = width;\n        }\n\n        if (this.height !== height) {\n            element.height = height * pixelRatio;\n            element.style.height = height + 'px';\n            this.height = height;\n        }\n\n        // Save the context, so we can reset in case we get replotted.  The\n        // restore ensure that we're really back at the initial state, and\n        // should be safe even if we haven't saved the initial state yet.\n\n        context.restore();\n        context.save();\n\n        // Scale the coordinate space to match the display density; so even though we\n        // may have twice as many pixels, we still want lines and other drawing to\n        // appear at the same size; the extra pixels will just make them crisper.\n\n        context.scale(pixelRatio, pixelRatio);\n    };\n\n    /**\n    - clear()\n\n     Clears the entire canvas area, not including any overlaid HTML text\n    */\n    Canvas.prototype.clear = function() {\n        this.context.clearRect(0, 0, this.width, this.height);\n    };\n\n    /**\n    - render()\n\n     Finishes rendering the canvas, including managing the text overlay.\n    */\n    Canvas.prototype.render = function() {\n        var cache = this._textCache;\n\n        // For each text layer, add elements marked as active that haven't\n        // already been rendered, and remove those that are no longer active.\n\n        for (var layerKey in cache) {\n            if (hasOwnProperty.call(cache, layerKey)) {\n                var layer = this.getSVGLayer(layerKey),\n                    layerCache = cache[layerKey];\n\n                var display = layer.style.display;\n                layer.style.display = 'none';\n\n                for (var styleKey in layerCache) {\n                    if (hasOwnProperty.call(layerCache, styleKey)) {\n                        var styleCache = layerCache[styleKey];\n                        for (var key in styleCache) {\n                            if (hasOwnProperty.call(styleCache, key)) {\n                                var val = styleCache[key],\n                                    positions = val.positions;\n\n                                for (var i = 0, position; positions[i]; i++) {\n                                    position = positions[i];\n                                    if (position.active) {\n                                        if (!position.rendered) {\n                                            layer.appendChild(position.element);\n                                            position.rendered = true;\n                                        }\n                                    } else {\n                                        positions.splice(i--, 1);\n                                        if (position.rendered) {\n                                            while (position.element.firstChild) {\n                                                position.element.removeChild(position.element.firstChild);\n                                            }\n                                            position.element.parentNode.removeChild(position.element);\n                                        }\n                                    }\n                                }\n\n                                if (positions.length === 0) {\n                                    if (val.measured) {\n                                        val.measured = false;\n                                    } else {\n                                        delete styleCache[key];\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n\n                layer.style.display = display;\n            }\n        }\n    };\n\n    /**\n    - getSVGLayer(classes)\n\n     Creates (if necessary) and returns the SVG overlay container.\n     The classes string represents the string of space-separated CSS classes\n     used to uniquely identify the text layer. It return the svg-layer div.\n    */\n    Canvas.prototype.getSVGLayer = function(classes) {\n        var layer = this.SVG[classes];\n\n        // Create the SVG layer if it doesn't exist\n\n        if (!layer) {\n            // Create the svg layer container, if it doesn't exist\n\n            var svgElement;\n\n            if (!this.SVGContainer) {\n                this.SVGContainer = document.createElement('div');\n                this.SVGContainer.className = 'flot-svg';\n                this.SVGContainer.style.position = 'absolute';\n                this.SVGContainer.style.top = '0px';\n                this.SVGContainer.style.left = '0px';\n                this.SVGContainer.style.height = '100%';\n                this.SVGContainer.style.width = '100%';\n                this.SVGContainer.style.pointerEvents = 'none';\n                this.element.parentNode.appendChild(this.SVGContainer);\n\n                svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n                svgElement.style.width = '100%';\n                svgElement.style.height = '100%';\n\n                this.SVGContainer.appendChild(svgElement);\n            } else {\n                svgElement = this.SVGContainer.firstChild;\n            }\n\n            layer = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n            layer.setAttribute('class', classes);\n            layer.style.position = 'absolute';\n            layer.style.top = '0px';\n            layer.style.left = '0px';\n            layer.style.bottom = '0px';\n            layer.style.right = '0px';\n            svgElement.appendChild(layer);\n            this.SVG[classes] = layer;\n        }\n\n        return layer;\n    };\n\n    /**\n    - getTextInfo(layer, text, font, angle, width)\n\n     Creates (if necessary) and returns a text info object.\n     The object looks like this:\n     ```js\n     {\n         width //Width of the text's wrapper div.\n         height //Height of the text's wrapper div.\n         element //The HTML div containing the text.\n         positions //Array of positions at which this text is drawn.\n      }\n      ```\n      The positions array contains objects that look like this:\n      ```js\n      {\n         active //Flag indicating whether the text should be visible.\n         rendered //Flag indicating whether the text is currently visible.\n         element //The HTML div containing the text.\n         text //The actual text and is identical with element[0].textContent.\n         x //X coordinate at which to draw the text.\n         y //Y coordinate at which to draw the text.\n      }\n      ```\n      Each position after the first receives a clone of the original element.\n      The idea is that that the width, height, and general 'identity' of the\n      text is constant no matter where it is placed; the placements are a\n      secondary property.\n\n      Canvas maintains a cache of recently-used text info objects; getTextInfo\n      either returns the cached element or creates a new entry.\n\n     The layer parameter is string of space-separated CSS classes uniquely\n     identifying the layer containing this text.\n     Text is the text string to retrieve info for.\n     Font is either a string of space-separated CSS classes or a font-spec object,\n     defining the text's font and style.\n     Angle is the angle at which to rotate the text, in degrees. Angle is currently unused,\n     it will be implemented in the future.\n     The last parameter is the Maximum width of the text before it wraps.\n     The method returns a text info object.\n    */\n    Canvas.prototype.getTextInfo = function(layer, text, font, angle, width) {\n        var textStyle, layerCache, styleCache, info;\n\n        // Cast the value to a string, in case we were given a number or such\n\n        text = '' + text;\n\n        // If the font is a font-spec object, generate a CSS font definition\n\n        if (typeof font === 'object') {\n            textStyle = font.style + ' ' + font.variant + ' ' + font.weight + ' ' + font.size + 'px/' + font.lineHeight + 'px ' + font.family;\n        } else {\n            textStyle = font;\n        }\n\n        // Retrieve (or create) the cache for the text's layer and styles\n\n        layerCache = this._textCache[layer];\n\n        if (layerCache == null) {\n            layerCache = this._textCache[layer] = {};\n        }\n\n        styleCache = layerCache[textStyle];\n\n        if (styleCache == null) {\n            styleCache = layerCache[textStyle] = {};\n        }\n\n        var key = generateKey(text);\n        info = styleCache[key];\n\n        // If we can't find a matching element in our cache, create a new one\n\n        if (!info) {\n            var element = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n            if (text.indexOf('<br>') !== -1) {\n                addTspanElements(text, element, -9999);\n            } else {\n                var textNode = document.createTextNode(text);\n                element.appendChild(textNode);\n            }\n\n            element.style.position = 'absolute';\n            element.style.maxWidth = width;\n            element.setAttributeNS(null, 'x', -9999);\n            element.setAttributeNS(null, 'y', -9999);\n\n            if (typeof font === 'object') {\n                element.style.font = textStyle;\n                element.style.fill = font.fill;\n            } else if (typeof font === 'string') {\n                element.setAttribute('class', font);\n            }\n\n            this.getSVGLayer(layer).appendChild(element);\n            var elementRect = element.getBBox();\n\n            info = styleCache[key] = {\n                width: elementRect.width,\n                height: elementRect.height,\n                measured: true,\n                element: element,\n                positions: []\n            };\n\n            //remove elements from dom\n            while (element.firstChild) {\n                element.removeChild(element.firstChild);\n            }\n            element.parentNode.removeChild(element);\n        }\n\n        info.measured = true;\n        return info;\n    };\n\n    function updateTransforms (element, transforms) {\n        element.transform.baseVal.clear();\n        if (transforms) {\n            transforms.forEach(function(t) {\n                element.transform.baseVal.appendItem(t);\n            });\n        }\n    }\n\n    /**\n    - addText (layer, x, y, text, font, angle, width, halign, valign, transforms)\n\n     Adds a text string to the canvas text overlay.\n     The text isn't drawn immediately; it is marked as rendering, which will\n     result in its addition to the canvas on the next render pass.\n\n     The layer is string of space-separated CSS classes uniquely\n     identifying the layer containing this text.\n     X and Y represents the X and Y coordinate at which to draw the text.\n     and text is the string to draw\n    */\n    Canvas.prototype.addText = function(layer, x, y, text, font, angle, width, halign, valign, transforms) {\n        var info = this.getTextInfo(layer, text, font, angle, width),\n            positions = info.positions;\n\n        // Tweak the div's position to match the text's alignment\n\n        if (halign === 'center') {\n            x -= info.width / 2;\n        } else if (halign === 'right') {\n            x -= info.width;\n        }\n\n        if (valign === 'middle') {\n            y -= info.height / 2;\n        } else if (valign === 'bottom') {\n            y -= info.height;\n        }\n\n        y += 0.75 * info.height;\n\n        // Determine whether this text already exists at this position.\n        // If so, mark it for inclusion in the next render pass.\n\n        for (var i = 0, position; positions[i]; i++) {\n            position = positions[i];\n            if (position.x === x && position.y === y && position.text === text) {\n                position.active = true;\n                // update the transforms\n                updateTransforms(position.element, transforms);\n\n                return;\n            } else if (position.active === false) {\n                position.active = true;\n                position.text = text;\n                if (text.indexOf('<br>') !== -1) {\n                    y -= 0.25 * info.height;\n                    addTspanElements(text, position.element, x);\n                } else {\n                    position.element.textContent = text;\n                }\n                position.element.setAttributeNS(null, 'x', x);\n                position.element.setAttributeNS(null, 'y', y);\n                position.x = x;\n                position.y = y;\n                // update the transforms\n                updateTransforms(position.element, transforms);\n\n                return;\n            }\n        }\n\n        // If the text doesn't exist at this position, create a new entry\n\n        // For the very first position we'll re-use the original element,\n        // while for subsequent ones we'll clone it.\n\n        position = {\n            active: true,\n            rendered: false,\n            element: positions.length ? info.element.cloneNode() : info.element,\n            text: text,\n            x: x,\n            y: y\n        };\n\n        positions.push(position);\n\n        if (text.indexOf('<br>') !== -1) {\n            y -= 0.25 * info.height;\n            addTspanElements(text, position.element, x);\n        } else {\n            position.element.textContent = text;\n        }\n\n        // Move the element to its final position within the container\n        position.element.setAttributeNS(null, 'x', x);\n        position.element.setAttributeNS(null, 'y', y);\n        position.element.style.textAlign = halign;\n        // update the transforms\n        updateTransforms(position.element, transforms);\n    };\n\n    var addTspanElements = function(text, element, x) {\n        var lines = text.split('<br>'),\n            tspan, i, offset;\n\n        for (i = 0; i < lines.length; i++) {\n            if (!element.childNodes[i]) {\n                tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n                element.appendChild(tspan);\n            } else {\n                tspan = element.childNodes[i];\n            }\n            tspan.textContent = lines[i];\n            offset = (i === 0 ? 0 : 1) + 'em';\n            tspan.setAttributeNS(null, 'dy', offset);\n            tspan.setAttributeNS(null, 'x', x);\n        }\n    }\n\n    /**\n    - removeText (layer, x, y, text, font, angle)\n\n      The function removes one or more text strings from the canvas text overlay.\n      If no parameters are given, all text within the layer is removed.\n\n      Note that the text is not immediately removed; it is simply marked as\n      inactive, which will result in its removal on the next render pass.\n      This avoids the performance penalty for 'clear and redraw' behavior,\n      where we potentially get rid of all text on a layer, but will likely\n      add back most or all of it later, as when redrawing axes, for example.\n\n      The layer is a string of space-separated CSS classes uniquely\n      identifying the layer containing this text. The following parameter are\n      X and Y coordinate of the text.\n      Text is the string to remove, while the font is either a string of space-separated CSS\n      classes or a font-spec object, defining the text's font and style.\n     */\n    Canvas.prototype.removeText = function(layer, x, y, text, font, angle) {\n        var info, htmlYCoord;\n        if (text == null) {\n            var layerCache = this._textCache[layer];\n            if (layerCache != null) {\n                for (var styleKey in layerCache) {\n                    if (hasOwnProperty.call(layerCache, styleKey)) {\n                        var styleCache = layerCache[styleKey];\n                        for (var key in styleCache) {\n                            if (hasOwnProperty.call(styleCache, key)) {\n                                var positions = styleCache[key].positions;\n                                positions.forEach(function(position) {\n                                    position.active = false;\n                                });\n                            }\n                        }\n                    }\n                }\n            }\n        } else {\n            info = this.getTextInfo(layer, text, font, angle);\n            positions = info.positions;\n            positions.forEach(function(position) {\n                htmlYCoord = y + 0.75 * info.height;\n                if (position.x === x && position.y === htmlYCoord && position.text === text) {\n                    position.active = false;\n                }\n            });\n        }\n    };\n\n    /**\n    - clearCache()\n\n     Clears the cache used to speed up the text size measurements.\n     As an (unfortunate) side effect all text within the text Layer is removed.\n     Use this function before plot.setupGrid() and plot.draw() if the plot just\n     became visible or the styles changed.\n    */\n    Canvas.prototype.clearCache = function() {\n        var cache = this._textCache;\n        for (var layerKey in cache) {\n            if (hasOwnProperty.call(cache, layerKey)) {\n                var layer = this.getSVGLayer(layerKey);\n                while (layer.firstChild) {\n                    layer.removeChild(layer.firstChild);\n                }\n            }\n        };\n\n        this._textCache = {};\n    };\n\n    function generateKey(text) {\n        return text.replace(/0|1|2|3|4|5|6|7|8|9/g, '0');\n    }\n\n    if (!window.Flot) {\n        window.Flot = {};\n    }\n\n    window.Flot.Canvas = Canvas;\n})(jQuery);\n","/* Plugin for jQuery for working with colors.\n *\n * Version 1.1.\n *\n * Inspiration from jQuery color animation plugin by John Resig.\n *\n * Released under the MIT license by Ole Laursen, October 2009.\n *\n * Examples:\n *\n *   $.color.parse(\"#fff\").scale('rgb', 0.25).add('a', -0.5).toString()\n *   var c = $.color.extract($(\"#mydiv\"), 'background-color');\n *   console.log(c.r, c.g, c.b, c.a);\n *   $.color.make(100, 50, 25, 0.4).toString() // returns \"rgba(100,50,25,0.4)\"\n *\n * Note that .scale() and .add() return the same modified object\n * instead of making a new one.\n *\n * V. 1.1: Fix error handling so e.g. parsing an empty string does\n * produce a color rather than just crashing.\n */\n\n(function($) {\n    $.color = {};\n\n    // construct color object with some convenient chainable helpers\n    $.color.make = function (r, g, b, a) {\n        var o = {};\n        o.r = r || 0;\n        o.g = g || 0;\n        o.b = b || 0;\n        o.a = a != null ? a : 1;\n\n        o.add = function (c, d) {\n            for (var i = 0; i < c.length; ++i) {\n                o[c.charAt(i)] += d;\n            }\n\n            return o.normalize();\n        };\n\n        o.scale = function (c, f) {\n            for (var i = 0; i < c.length; ++i) {\n                o[c.charAt(i)] *= f;\n            }\n\n            return o.normalize();\n        };\n\n        o.toString = function () {\n            if (o.a >= 1.0) {\n                return \"rgb(\" + [o.r, o.g, o.b].join(\",\") + \")\";\n            } else {\n                return \"rgba(\" + [o.r, o.g, o.b, o.a].join(\",\") + \")\";\n            }\n        };\n\n        o.normalize = function () {\n            function clamp(min, value, max) {\n                return value < min ? min : (value > max ? max : value);\n            }\n\n            o.r = clamp(0, parseInt(o.r), 255);\n            o.g = clamp(0, parseInt(o.g), 255);\n            o.b = clamp(0, parseInt(o.b), 255);\n            o.a = clamp(0, o.a, 1);\n            return o;\n        };\n\n        o.clone = function () {\n            return $.color.make(o.r, o.b, o.g, o.a);\n        };\n\n        return o.normalize();\n    }\n\n    // extract CSS color property from element, going up in the DOM\n    // if it's \"transparent\"\n    $.color.extract = function (elem, css) {\n        var c;\n\n        do {\n            c = elem.css(css).toLowerCase();\n            // keep going until we find an element that has color, or\n            // we hit the body or root (have no parent)\n            if (c !== '' && c !== 'transparent') {\n                break;\n            }\n\n            elem = elem.parent();\n        } while (elem.length && !$.nodeName(elem.get(0), \"body\"));\n\n        // catch Safari's way of signalling transparent\n        if (c === \"rgba(0, 0, 0, 0)\") {\n            c = \"transparent\";\n        }\n\n        return $.color.parse(c);\n    }\n\n    // parse CSS color string (like \"rgb(10, 32, 43)\" or \"#fff\"),\n    // returns color object, if parsing failed, you get black (0, 0,\n    // 0) out\n    $.color.parse = function (str) {\n        var res, m = $.color.make;\n\n        // Look for rgb(num,num,num)\n        res = /rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(str);\n        if (res) {\n            return m(parseInt(res[1], 10), parseInt(res[2], 10), parseInt(res[3], 10));\n        }\n\n        // Look for rgba(num,num,num,num)\n        res = /rgba\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(str)\n        if (res) {\n            return m(parseInt(res[1], 10), parseInt(res[2], 10), parseInt(res[3], 10), parseFloat(res[4]));\n        }\n\n        // Look for rgb(num%,num%,num%)\n        res = /rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)%\\s*\\)/.exec(str);\n        if (res) {\n            return m(parseFloat(res[1]) * 2.55, parseFloat(res[2]) * 2.55, parseFloat(res[3]) * 2.55);\n        }\n\n        // Look for rgba(num%,num%,num%,num)\n        res = /rgba\\(\\s*([0-9]+(?:\\.[0-9]+)?)%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(str);\n        if (res) {\n            return m(parseFloat(res[1]) * 2.55, parseFloat(res[2]) * 2.55, parseFloat(res[3]) * 2.55, parseFloat(res[4]));\n        }\n\n        // Look for #a0b1c2\n        res = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str);\n        if (res) {\n            return m(parseInt(res[1], 16), parseInt(res[2], 16), parseInt(res[3], 16));\n        }\n\n        // Look for #fff\n        res = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str);\n        if (res) {\n            return m(parseInt(res[1] + res[1], 16), parseInt(res[2] + res[2], 16), parseInt(res[3] + res[3], 16));\n        }\n\n        // Otherwise, we're most likely dealing with a named color\n        var name = $.trim(str).toLowerCase();\n        if (name === \"transparent\") {\n            return m(255, 255, 255, 0);\n        } else {\n            // default to black\n            res = lookupColors[name] || [0, 0, 0];\n            return m(res[0], res[1], res[2]);\n        }\n    }\n\n    var lookupColors = {\n        aqua: [0, 255, 255],\n        azure: [240, 255, 255],\n        beige: [245, 245, 220],\n        black: [0, 0, 0],\n        blue: [0, 0, 255],\n        brown: [165, 42, 42],\n        cyan: [0, 255, 255],\n        darkblue: [0, 0, 139],\n        darkcyan: [0, 139, 139],\n        darkgrey: [169, 169, 169],\n        darkgreen: [0, 100, 0],\n        darkkhaki: [189, 183, 107],\n        darkmagenta: [139, 0, 139],\n        darkolivegreen: [85, 107, 47],\n        darkorange: [255, 140, 0],\n        darkorchid: [153, 50, 204],\n        darkred: [139, 0, 0],\n        darksalmon: [233, 150, 122],\n        darkviolet: [148, 0, 211],\n        fuchsia: [255, 0, 255],\n        gold: [255, 215, 0],\n        green: [0, 128, 0],\n        indigo: [75, 0, 130],\n        khaki: [240, 230, 140],\n        lightblue: [173, 216, 230],\n        lightcyan: [224, 255, 255],\n        lightgreen: [144, 238, 144],\n        lightgrey: [211, 211, 211],\n        lightpink: [255, 182, 193],\n        lightyellow: [255, 255, 224],\n        lime: [0, 255, 0],\n        magenta: [255, 0, 255],\n        maroon: [128, 0, 0],\n        navy: [0, 0, 128],\n        olive: [128, 128, 0],\n        orange: [255, 165, 0],\n        pink: [255, 192, 203],\n        purple: [128, 0, 128],\n        violet: [128, 0, 128],\n        red: [255, 0, 0],\n        silver: [192, 192, 192],\n        white: [255, 255, 255],\n        yellow: [255, 255, 0]\n    };\n})(jQuery);\n","/* Javascript plotting library for jQuery, version 3.0.0.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\n*/\n\n// the actual Flot code\n(function($) {\n    \"use strict\";\n\n    var Canvas = window.Flot.Canvas;\n\n    function defaultTickGenerator(axis) {\n        var ticks = [],\n            start = $.plot.saturated.saturate($.plot.saturated.floorInBase(axis.min, axis.tickSize)),\n            i = 0,\n            v = Number.NaN,\n            prev;\n\n        if (start === -Number.MAX_VALUE) {\n            ticks.push(start);\n            start = $.plot.saturated.floorInBase(axis.min + axis.tickSize, axis.tickSize);\n        }\n\n        do {\n            prev = v;\n            //v = start + i * axis.tickSize;\n            v = $.plot.saturated.multiplyAdd(axis.tickSize, i, start);\n            ticks.push(v);\n            ++i;\n        } while (v < axis.max && v !== prev);\n\n        return ticks;\n    }\n\n    function defaultTickFormatter(value, axis, precision) {\n        var oldTickDecimals = axis.tickDecimals,\n            expPosition = (\"\" + value).indexOf(\"e\");\n\n        if (expPosition !== -1) {\n            return expRepTickFormatter(value, axis, precision);\n        }\n\n        if (precision > 0) {\n            axis.tickDecimals = precision;\n        }\n\n        var factor = axis.tickDecimals ? parseFloat('1e' + axis.tickDecimals) : 1,\n            formatted = \"\" + Math.round(value * factor) / factor;\n\n        // If tickDecimals was specified, ensure that we have exactly that\n        // much precision; otherwise default to the value's own precision.\n        if (axis.tickDecimals != null) {\n            var decimal = formatted.indexOf(\".\"),\n                decimalPrecision = decimal === -1 ? 0 : formatted.length - decimal - 1;\n            if (decimalPrecision < axis.tickDecimals) {\n                var decimals = (\"\" + factor).substr(1, axis.tickDecimals - decimalPrecision);\n                formatted = (decimalPrecision ? formatted : formatted + \".\") + decimals;\n            }\n        }\n\n        axis.tickDecimals = oldTickDecimals;\n        return formatted;\n    };\n\n    function expRepTickFormatter(value, axis, precision) {\n        var expPosition = (\"\" + value).indexOf(\"e\"),\n            exponentValue = parseInt((\"\" + value).substr(expPosition + 1)),\n            tenExponent = expPosition !== -1 ? exponentValue : (value > 0 ? Math.floor(Math.log(value) / Math.LN10) : 0),\n            roundWith = parseFloat('1e' + tenExponent),\n            x = value / roundWith;\n\n        if (precision) {\n            var updatedPrecision = recomputePrecision(value, precision);\n            return (value / roundWith).toFixed(updatedPrecision) + 'e' + tenExponent;\n        }\n\n        if (axis.tickDecimals > 0) {\n            return x.toFixed(recomputePrecision(value, axis.tickDecimals)) + 'e' + tenExponent;\n        }\n        return x.toFixed() + 'e' + tenExponent;\n    }\n\n    function recomputePrecision(num, precision) {\n        //for numbers close to zero, the precision from flot will be a big number\n        //while for big numbers, the precision will be negative\n        var log10Value = Math.log(Math.abs(num)) * Math.LOG10E,\n            newPrecision = Math.abs(log10Value + precision);\n\n        return newPrecision <= 20 ? Math.floor(newPrecision) : 20;\n    }\n\n    ///////////////////////////////////////////////////////////////////////////\n    // The top-level container for the entire plot.\n    function Plot(placeholder, data_, options_, plugins) {\n        // data is on the form:\n        //   [ series1, series2 ... ]\n        // where series is either just the data as [ [x1, y1], [x2, y2], ... ]\n        // or { data: [ [x1, y1], [x2, y2], ... ], label: \"some label\", ... }\n\n        var series = [],\n            options = {\n                // the color theme used for graphs\n                colors: [\"#edc240\", \"#afd8f8\", \"#cb4b4b\", \"#4da74d\", \"#9440ed\"],\n                xaxis: {\n                    show: null, // null = auto-detect, true = always, false = never\n                    position: \"bottom\", // or \"top\"\n                    mode: null, // null or \"time\"\n                    font: null, // null (derived from CSS in placeholder) or object like { size: 11, lineHeight: 13, style: \"italic\", weight: \"bold\", family: \"sans-serif\", variant: \"small-caps\" }\n                    color: null, // base color, labels, ticks\n                    tickColor: null, // possibly different color of ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    transform: null, // null or f: number -> number to transform axis\n                    inverseTransform: null, // if transform is set, this should be the inverse function\n                    min: null, // min. value to show, null means set automatically\n                    max: null, // max. value to show, null means set automatically\n                    autoScaleMargin: null, // margin in % to add if autoScale option is on \"loose\" mode,\n                    autoScale: \"exact\", // Available modes: \"none\", \"loose\", \"exact\", \"sliding-window\"\n                    windowSize: null, // null or number. This is the size of sliding-window.\n                    growOnly: null, // grow only, useful for smoother auto-scale, the scales will grow to accomodate data but won't shrink back.\n                    ticks: null, // either [1, 3] or [[1, \"a\"], 3] or (fn: axis info -> ticks) or app. number of ticks for auto-ticks\n                    tickFormatter: null, // fn: number -> string\n                    showTickLabels: \"major\", // \"none\", \"endpoints\", \"major\", \"all\"\n                    labelWidth: null, // size of tick labels in pixels\n                    labelHeight: null,\n                    reserveSpace: null, // whether to reserve space even if axis isn't shown\n                    tickLength: null, // size in pixels of major tick marks\n                    showMinorTicks: null, // true = show minor tick marks, false = hide minor tick marks\n                    showTicks: null, // true = show tick marks, false = hide all tick marks\n                    gridLines: null, // true = show grid lines, false = hide grid lines\n                    alignTicksWithAxis: null, // axis number or null for no sync\n                    tickDecimals: null, // no. of decimals, null means auto\n                    tickSize: null, // number or [number, \"unit\"]\n                    minTickSize: null, // number or [number, \"unit\"]\n                    offset: { below: 0, above: 0 }, // the plot drawing offset. this is calculated by the flot.navigate for each axis\n                    boxPosition: { centerX: 0, centerY: 0 } //position of the axis on the corresponding axis box\n                },\n                yaxis: {\n                    autoScaleMargin: 0.02, // margin in % to add if autoScale option is on \"loose\" mode\n                    autoScale: \"loose\", // Available modes: \"none\", \"loose\", \"exact\"\n                    growOnly: null, // grow only, useful for smoother auto-scale, the scales will grow to accomodate data but won't shrink back.\n                    position: \"left\", // or \"right\"\n                    showTickLabels: \"major\", // \"none\", \"endpoints\", \"major\", \"all\"\n                    offset: { below: 0, above: 0 }, // the plot drawing offset. this is calculated by the flot.navigate for each axis\n                    boxPosition: { centerX: 0, centerY: 0 } //position of the axis on the corresponding axis box\n                },\n                xaxes: [],\n                yaxes: [],\n                series: {\n                    points: {\n                        show: false,\n                        radius: 3,\n                        lineWidth: 2, // in pixels\n                        fill: true,\n                        fillColor: \"#ffffff\",\n                        symbol: 'circle' // or callback\n                    },\n                    lines: {\n                        // we don't put in show: false so we can see\n                        // whether lines were actively disabled\n                        lineWidth: 1, // in pixels\n                        fill: false,\n                        fillColor: null,\n                        steps: false\n                        // Omit 'zero', so we can later default its value to\n                        // match that of the 'fill' option.\n                    },\n                    bars: {\n                        show: false,\n                        lineWidth: 2, // in pixels\n                        // barWidth: number or [number, absolute]\n                        // when 'absolute' is false, 'number' is relative to the minimum distance between points for the series\n                        // when 'absolute' is true, 'number' is considered to be in units of the x-axis\n                        horizontal: false,\n                        barWidth: 0.8,\n                        fill: true,\n                        fillColor: null,\n                        align: \"left\", // \"left\", \"right\", or \"center\"\n                        zero: true\n                    },\n                    shadowSize: 3,\n                    highlightColor: null\n                },\n                grid: {\n                    show: true,\n                    aboveData: false,\n                    color: \"#545454\", // primary color used for outline and labels\n                    backgroundColor: null, // null for transparent, else color\n                    borderColor: null, // set if different from the grid color\n                    tickColor: null, // color for the ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    margin: 0, // distance from the canvas edge to the grid\n                    labelMargin: 5, // in pixels\n                    axisMargin: 8, // in pixels\n                    borderWidth: 1, // in pixels\n                    minBorderMargin: null, // in pixels, null means taken from points radius\n                    markings: null, // array of ranges or fn: axes -> array of ranges\n                    markingsColor: \"#f4f4f4\",\n                    markingsLineWidth: 2,\n                    // interactive stuff\n                    clickable: false,\n                    hoverable: false,\n                    autoHighlight: true, // highlight in case mouse is near\n                    mouseActiveRadius: 15 // how far the mouse can be away to activate an item\n                },\n                interaction: {\n                    redrawOverlayInterval: 1000 / 60 // time between updates, -1 means in same flow\n                },\n                hooks: {}\n            },\n            surface = null, // the canvas for the plot itself\n            overlay = null, // canvas for interactive stuff on top of plot\n            eventHolder = null, // jQuery object that events should be bound to\n            ctx = null,\n            octx = null,\n            xaxes = [],\n            yaxes = [],\n            plotOffset = {\n                left: 0,\n                right: 0,\n                top: 0,\n                bottom: 0\n            },\n            plotWidth = 0,\n            plotHeight = 0,\n            hooks = {\n                processOptions: [],\n                processRawData: [],\n                processDatapoints: [],\n                processOffset: [],\n                setupGrid: [],\n                adjustSeriesDataRange: [],\n                setRange: [],\n                drawBackground: [],\n                drawSeries: [],\n                drawAxis: [],\n                draw: [],\n                findNearbyItems: [],\n                axisReserveSpace: [],\n                bindEvents: [],\n                drawOverlay: [],\n                resize: [],\n                shutdown: []\n            },\n            plot = this;\n\n        var eventManager = {};\n\n        // interactive features\n\n        var redrawTimeout = null;\n\n        // public functions\n        plot.setData = setData;\n        plot.setupGrid = setupGrid;\n        plot.draw = draw;\n        plot.getPlaceholder = function() {\n            return placeholder;\n        };\n        plot.getCanvas = function() {\n            return surface.element;\n        };\n        plot.getSurface = function() {\n            return surface;\n        };\n        plot.getEventHolder = function() {\n            return eventHolder[0];\n        };\n        plot.getPlotOffset = function() {\n            return plotOffset;\n        };\n        plot.width = function() {\n            return plotWidth;\n        };\n        plot.height = function() {\n            return plotHeight;\n        };\n        plot.offset = function() {\n            var o = eventHolder.offset();\n            o.left += plotOffset.left;\n            o.top += plotOffset.top;\n            return o;\n        };\n        plot.getData = function() {\n            return series;\n        };\n        plot.getAxes = function() {\n            var res = {};\n            $.each(xaxes.concat(yaxes), function(_, axis) {\n                if (axis) {\n                    res[axis.direction + (axis.n !== 1 ? axis.n : \"\") + \"axis\"] = axis;\n                }\n            });\n            return res;\n        };\n        plot.getXAxes = function() {\n            return xaxes;\n        };\n        plot.getYAxes = function() {\n            return yaxes;\n        };\n        plot.c2p = canvasToCartesianAxisCoords;\n        plot.p2c = cartesianAxisToCanvasCoords;\n        plot.getOptions = function() {\n            return options;\n        };\n        plot.triggerRedrawOverlay = triggerRedrawOverlay;\n        plot.pointOffset = function(point) {\n            return {\n                left: parseInt(xaxes[axisNumber(point, \"x\") - 1].p2c(+point.x) + plotOffset.left, 10),\n                top: parseInt(yaxes[axisNumber(point, \"y\") - 1].p2c(+point.y) + plotOffset.top, 10)\n            };\n        };\n        plot.shutdown = shutdown;\n        plot.destroy = function() {\n            shutdown();\n            placeholder.removeData(\"plot\").empty();\n\n            series = [];\n            options = null;\n            surface = null;\n            overlay = null;\n            eventHolder = null;\n            ctx = null;\n            octx = null;\n            xaxes = [];\n            yaxes = [];\n            hooks = null;\n            plot = null;\n        };\n\n        plot.resize = function() {\n            var width = placeholder.width(),\n                height = placeholder.height();\n            surface.resize(width, height);\n            overlay.resize(width, height);\n\n            executeHooks(hooks.resize, [width, height]);\n        };\n\n        plot.clearTextCache = function () {\n            surface.clearCache();\n            overlay.clearCache();\n        };\n\n        plot.autoScaleAxis = autoScaleAxis;\n        plot.computeRangeForDataSeries = computeRangeForDataSeries;\n        plot.adjustSeriesDataRange = adjustSeriesDataRange;\n        plot.findNearbyItem = findNearbyItem;\n        plot.findNearbyItems = findNearbyItems;\n        plot.findNearbyInterpolationPoint = findNearbyInterpolationPoint;\n        plot.computeValuePrecision = computeValuePrecision;\n        plot.computeTickSize = computeTickSize;\n        plot.addEventHandler = addEventHandler;\n\n        // public attributes\n        plot.hooks = hooks;\n\n        // initialize\n        var MINOR_TICKS_COUNT_CONSTANT = $.plot.uiConstants.MINOR_TICKS_COUNT_CONSTANT;\n        var TICK_LENGTH_CONSTANT = $.plot.uiConstants.TICK_LENGTH_CONSTANT;\n        initPlugins(plot);\n        setupCanvases();\n        parseOptions(options_);\n        setData(data_);\n        setupGrid(true);\n        draw();\n        bindEvents();\n\n        function executeHooks(hook, args) {\n            args = [plot].concat(args);\n            for (var i = 0; i < hook.length; ++i) {\n                hook[i].apply(this, args);\n            }\n        }\n\n        function initPlugins() {\n            // References to key classes, allowing plugins to modify them\n\n            var classes = {\n                Canvas: Canvas\n            };\n\n            for (var i = 0; i < plugins.length; ++i) {\n                var p = plugins[i];\n                p.init(plot, classes);\n                if (p.options) {\n                    $.extend(true, options, p.options);\n                }\n            }\n        }\n\n        function parseOptions(opts) {\n            $.extend(true, options, opts);\n\n            // $.extend merges arrays, rather than replacing them.  When less\n            // colors are provided than the size of the default palette, we\n            // end up with those colors plus the remaining defaults, which is\n            // not expected behavior; avoid it by replacing them here.\n\n            if (opts && opts.colors) {\n                options.colors = opts.colors;\n            }\n\n            if (options.xaxis.color == null) {\n                options.xaxis.color = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n            }\n\n            if (options.yaxis.color == null) {\n                options.yaxis.color = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n            }\n\n            if (options.xaxis.tickColor == null) {\n                // grid.tickColor for back-compatibility\n                options.xaxis.tickColor = options.grid.tickColor || options.xaxis.color;\n            }\n\n            if (options.yaxis.tickColor == null) {\n                // grid.tickColor for back-compatibility\n                options.yaxis.tickColor = options.grid.tickColor || options.yaxis.color;\n            }\n\n            if (options.grid.borderColor == null) {\n                options.grid.borderColor = options.grid.color;\n            }\n\n            if (options.grid.tickColor == null) {\n                options.grid.tickColor = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n            }\n\n            // Fill in defaults for axis options, including any unspecified\n            // font-spec fields, if a font-spec was provided.\n\n            // If no x/y axis options were provided, create one of each anyway,\n            // since the rest of the code assumes that they exist.\n\n            var i, axisOptions, axisCount,\n                fontSize = placeholder.css(\"font-size\"),\n                fontSizeDefault = fontSize ? +fontSize.replace(\"px\", \"\") : 13,\n                fontDefaults = {\n                    style: placeholder.css(\"font-style\"),\n                    size: Math.round(0.8 * fontSizeDefault),\n                    variant: placeholder.css(\"font-variant\"),\n                    weight: placeholder.css(\"font-weight\"),\n                    family: placeholder.css(\"font-family\")\n                };\n\n            axisCount = options.xaxes.length || 1;\n            for (i = 0; i < axisCount; ++i) {\n                axisOptions = options.xaxes[i];\n                if (axisOptions && !axisOptions.tickColor) {\n                    axisOptions.tickColor = axisOptions.color;\n                }\n\n                axisOptions = $.extend(true, {}, options.xaxis, axisOptions);\n                options.xaxes[i] = axisOptions;\n\n                if (axisOptions.font) {\n                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);\n                    if (!axisOptions.font.color) {\n                        axisOptions.font.color = axisOptions.color;\n                    }\n                    if (!axisOptions.font.lineHeight) {\n                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);\n                    }\n                }\n            }\n\n            axisCount = options.yaxes.length || 1;\n            for (i = 0; i < axisCount; ++i) {\n                axisOptions = options.yaxes[i];\n                if (axisOptions && !axisOptions.tickColor) {\n                    axisOptions.tickColor = axisOptions.color;\n                }\n\n                axisOptions = $.extend(true, {}, options.yaxis, axisOptions);\n                options.yaxes[i] = axisOptions;\n\n                if (axisOptions.font) {\n                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);\n                    if (!axisOptions.font.color) {\n                        axisOptions.font.color = axisOptions.color;\n                    }\n                    if (!axisOptions.font.lineHeight) {\n                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);\n                    }\n                }\n            }\n\n            // save options on axes for future reference\n            for (i = 0; i < options.xaxes.length; ++i) {\n                getOrCreateAxis(xaxes, i + 1).options = options.xaxes[i];\n            }\n\n            for (i = 0; i < options.yaxes.length; ++i) {\n                getOrCreateAxis(yaxes, i + 1).options = options.yaxes[i];\n            }\n\n            //process boxPosition options used for axis.box size\n            $.each(allAxes(), function(_, axis) {\n                axis.boxPosition = axis.options.boxPosition || {centerX: 0, centerY: 0};\n            });\n\n            // add hooks from options\n            for (var n in hooks) {\n                if (options.hooks[n] && options.hooks[n].length) {\n                    hooks[n] = hooks[n].concat(options.hooks[n]);\n                }\n            }\n\n            executeHooks(hooks.processOptions, [options]);\n        }\n\n        function setData(d) {\n            var oldseries = series;\n            series = parseData(d);\n            fillInSeriesOptions();\n            processData(oldseries);\n        }\n\n        function parseData(d) {\n            var res = [];\n            for (var i = 0; i < d.length; ++i) {\n                var s = $.extend(true, {}, options.series);\n\n                if (d[i].data != null) {\n                    s.data = d[i].data; // move the data instead of deep-copy\n                    delete d[i].data;\n\n                    $.extend(true, s, d[i]);\n\n                    d[i].data = s.data;\n                } else {\n                    s.data = d[i];\n                }\n\n                res.push(s);\n            }\n\n            return res;\n        }\n\n        function axisNumber(obj, coord) {\n            var a = obj[coord + \"axis\"];\n            if (typeof a === \"object\") {\n                // if we got a real axis, extract number\n                a = a.n;\n            }\n\n            if (typeof a !== \"number\") {\n                a = 1; // default to first axis\n            }\n\n            return a;\n        }\n\n        function allAxes() {\n            // return flat array without annoying null entries\n            return xaxes.concat(yaxes).filter(function(a) {\n                return a;\n            });\n        }\n\n        // canvas to axis for cartesian axes\n        function canvasToCartesianAxisCoords(pos) {\n            // return an object with x/y corresponding to all used axes\n            var res = {},\n                i, axis;\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used) {\n                    res[\"x\" + axis.n] = axis.c2p(pos.left);\n                }\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used) {\n                    res[\"y\" + axis.n] = axis.c2p(pos.top);\n                }\n            }\n\n            if (res.x1 !== undefined) {\n                res.x = res.x1;\n            }\n\n            if (res.y1 !== undefined) {\n                res.y = res.y1;\n            }\n\n            return res;\n        }\n\n        // axis to canvas for cartesian axes\n        function cartesianAxisToCanvasCoords(pos) {\n            // get canvas coords from the first pair of x/y found in pos\n            var res = {},\n                i, axis, key;\n\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used) {\n                    key = \"x\" + axis.n;\n                    if (pos[key] == null && axis.n === 1) {\n                        key = \"x\";\n                    }\n\n                    if (pos[key] != null) {\n                        res.left = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used) {\n                    key = \"y\" + axis.n;\n                    if (pos[key] == null && axis.n === 1) {\n                        key = \"y\";\n                    }\n\n                    if (pos[key] != null) {\n                        res.top = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n\n            return res;\n        }\n\n        function getOrCreateAxis(axes, number) {\n            if (!axes[number - 1]) {\n                axes[number - 1] = {\n                    n: number, // save the number for future reference\n                    direction: axes === xaxes ? \"x\" : \"y\",\n                    options: $.extend(true, {}, axes === xaxes ? options.xaxis : options.yaxis)\n                };\n            }\n\n            return axes[number - 1];\n        }\n\n        function fillInSeriesOptions() {\n            var neededColors = series.length,\n                maxIndex = -1,\n                i;\n\n            // Subtract the number of series that already have fixed colors or\n            // color indexes from the number that we still need to generate.\n\n            for (i = 0; i < series.length; ++i) {\n                var sc = series[i].color;\n                if (sc != null) {\n                    neededColors--;\n                    if (typeof sc === \"number\" && sc > maxIndex) {\n                        maxIndex = sc;\n                    }\n                }\n            }\n\n            // If any of the series have fixed color indexes, then we need to\n            // generate at least as many colors as the highest index.\n\n            if (neededColors <= maxIndex) {\n                neededColors = maxIndex + 1;\n            }\n\n            // Generate all the colors, using first the option colors and then\n            // variations on those colors once they're exhausted.\n\n            var c, colors = [],\n                colorPool = options.colors,\n                colorPoolSize = colorPool.length,\n                variation = 0,\n                definedColors = Math.max(0, series.length - neededColors);\n\n            for (i = 0; i < neededColors; i++) {\n                c = $.color.parse(colorPool[(definedColors + i) % colorPoolSize] || \"#666\");\n\n                // Each time we exhaust the colors in the pool we adjust\n                // a scaling factor used to produce more variations on\n                // those colors. The factor alternates negative/positive\n                // to produce lighter/darker colors.\n\n                // Reset the variation after every few cycles, or else\n                // it will end up producing only white or black colors.\n\n                if (i % colorPoolSize === 0 && i) {\n                    if (variation >= 0) {\n                        if (variation < 0.5) {\n                            variation = -variation - 0.2;\n                        } else variation = 0;\n                    } else variation = -variation;\n                }\n\n                colors[i] = c.scale('rgb', 1 + variation);\n            }\n\n            // Finalize the series options, filling in their colors\n\n            var colori = 0,\n                s;\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                // assign colors\n                if (s.color == null) {\n                    s.color = colors[colori].toString();\n                    ++colori;\n                } else if (typeof s.color === \"number\") {\n                    s.color = colors[s.color].toString();\n                }\n\n                // turn on lines automatically in case nothing is set\n                if (s.lines.show == null) {\n                    var v, show = true;\n                    for (v in s) {\n                        if (s[v] && s[v].show) {\n                            show = false;\n                            break;\n                        }\n                    }\n\n                    if (show) {\n                        s.lines.show = true;\n                    }\n                }\n\n                // If nothing was provided for lines.zero, default it to match\n                // lines.fill, since areas by default should extend to zero.\n\n                if (s.lines.zero == null) {\n                    s.lines.zero = !!s.lines.fill;\n                }\n\n                // setup axes\n                s.xaxis = getOrCreateAxis(xaxes, axisNumber(s, \"x\"));\n                s.yaxis = getOrCreateAxis(yaxes, axisNumber(s, \"y\"));\n            }\n        }\n\n        function processData(prevSeries) {\n            var topSentry = Number.POSITIVE_INFINITY,\n                bottomSentry = Number.NEGATIVE_INFINITY,\n                i, j, k, m,\n                s, points, ps, val, f, p,\n                data, format;\n\n            function updateAxis(axis, min, max) {\n                if (min < axis.datamin && min !== -Infinity) {\n                    axis.datamin = min;\n                }\n\n                if (max > axis.datamax && max !== Infinity) {\n                    axis.datamax = max;\n                }\n            }\n\n            function reusePoints(prevSeries, i) {\n                if (prevSeries && prevSeries[i] && prevSeries[i].datapoints && prevSeries[i].datapoints.points) {\n                    return prevSeries[i].datapoints.points;\n                }\n\n                return [];\n            }\n\n            $.each(allAxes(), function(_, axis) {\n                // init axis\n                if (axis.options.growOnly !== true) {\n                    axis.datamin = topSentry;\n                    axis.datamax = bottomSentry;\n                } else {\n                    if (axis.datamin === undefined) {\n                        axis.datamin = topSentry;\n                    }\n                    if (axis.datamax === undefined) {\n                        axis.datamax = bottomSentry;\n                    }\n                }\n                axis.used = false;\n            });\n\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                s.datapoints = {\n                    points: []\n                };\n\n                if (s.datapoints.points.length === 0) {\n                    s.datapoints.points = reusePoints(prevSeries, i);\n                }\n\n                executeHooks(hooks.processRawData, [s, s.data, s.datapoints]);\n            }\n\n            // first pass: clean and copy data\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                data = s.data;\n                format = s.datapoints.format;\n\n                if (!format) {\n                    format = [];\n                    // find out how to copy\n                    format.push({\n                        x: true,\n                        y: false,\n                        number: true,\n                        required: true,\n                        computeRange: s.xaxis.options.autoScale !== 'none',\n                        defaultValue: null\n                    });\n\n                    format.push({\n                        x: false,\n                        y: true,\n                        number: true,\n                        required: true,\n                        computeRange: s.yaxis.options.autoScale !== 'none',\n                        defaultValue: null\n                    });\n\n                    if (s.stack || s.bars.show || (s.lines.show && s.lines.fill)) {\n                        var expectedPs = s.datapoints.pointsize != null ? s.datapoints.pointsize : (s.data && s.data[0] && s.data[0].length ? s.data[0].length : 3);\n                        if (expectedPs > 2) {\n                            format.push({\n                                x: false,\n                                y: true,\n                                number: true,\n                                required: false,\n                                computeRange: s.yaxis.options.autoScale !== 'none',\n                                defaultValue: 0\n                            });\n                        }\n                    }\n\n                    s.datapoints.format = format;\n                }\n\n                s.xaxis.used = s.yaxis.used = true;\n\n                if (s.datapoints.pointsize != null) continue; // already filled in\n\n                s.datapoints.pointsize = format.length;\n                ps = s.datapoints.pointsize;\n                points = s.datapoints.points;\n\n                for (j = k = 0; j < data.length; ++j, k += ps) {\n                    p = data[j];\n\n                    var nullify = p == null;\n                    if (!nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = p[m];\n                            f = format[m];\n\n                            if (f) {\n                                if (f.number && val != null) {\n                                    val = +val; // convert to number\n                                    if (isNaN(val)) {\n                                        val = null;\n                                    }\n                                }\n\n                                if (val == null) {\n                                    if (f.required) nullify = true;\n\n                                    if (f.defaultValue != null) val = f.defaultValue;\n                                }\n                            }\n\n                            points[k + m] = val;\n                        }\n                    }\n\n                    if (nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = points[k + m];\n                            if (val != null) {\n                                f = format[m];\n                                // extract min/max info\n                                if (f.computeRange) {\n                                    if (f.x) {\n                                        updateAxis(s.xaxis, val, val);\n                                    }\n                                    if (f.y) {\n                                        updateAxis(s.yaxis, val, val);\n                                    }\n                                }\n                            }\n                            points[k + m] = null;\n                        }\n                    }\n                }\n\n                points.length = k; //trims the internal buffer to the correct length\n            }\n\n            // give the hooks a chance to run\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                executeHooks(hooks.processDatapoints, [s, s.datapoints]);\n            }\n\n            // second pass: find datamax/datamin for auto-scaling\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                format = s.datapoints.format;\n\n                if (format.every(function (f) { return !f.computeRange; })) {\n                    continue;\n                }\n\n                var range = plot.adjustSeriesDataRange(s,\n                    plot.computeRangeForDataSeries(s));\n\n                executeHooks(hooks.adjustSeriesDataRange, [s, range]);\n\n                updateAxis(s.xaxis, range.xmin, range.xmax);\n                updateAxis(s.yaxis, range.ymin, range.ymax);\n            }\n\n            $.each(allAxes(), function(_, axis) {\n                if (axis.datamin === topSentry) {\n                    axis.datamin = null;\n                }\n\n                if (axis.datamax === bottomSentry) {\n                    axis.datamax = null;\n                }\n            });\n        }\n\n        function setupCanvases() {\n            // Make sure the placeholder is clear of everything except canvases\n            // from a previous plot in this container that we'll try to re-use.\n\n            placeholder.css(\"padding\", 0) // padding messes up the positioning\n                .children().filter(function() {\n                    return !$(this).hasClass(\"flot-overlay\") && !$(this).hasClass('flot-base');\n                }).remove();\n\n            if (placeholder.css(\"position\") === 'static') {\n                placeholder.css(\"position\", \"relative\"); // for positioning labels and overlay\n            }\n\n            surface = new Canvas(\"flot-base\", placeholder[0]);\n            overlay = new Canvas(\"flot-overlay\", placeholder[0]); // overlay canvas for interactive features\n\n            ctx = surface.context;\n            octx = overlay.context;\n\n            // define which element we're listening for events on\n            eventHolder = $(overlay.element).unbind();\n\n            // If we're re-using a plot object, shut down the old one\n\n            var existing = placeholder.data(\"plot\");\n\n            if (existing) {\n                existing.shutdown();\n                overlay.clear();\n            }\n\n            // save in case we get replotted\n            placeholder.data(\"plot\", plot);\n        }\n\n        function bindEvents() {\n            executeHooks(hooks.bindEvents, [eventHolder]);\n        }\n\n        function addEventHandler(event, handler, eventHolder, priority) {\n            var key = eventHolder + event;\n            var eventList = eventManager[key] || [];\n\n            eventList.push({\"event\": event, \"handler\": handler, \"eventHolder\": eventHolder, \"priority\": priority});\n            eventList.sort((a, b) => b.priority - a.priority);\n            eventList.forEach(eventData => {\n                eventData.eventHolder.unbind(eventData.event, eventData.handler);\n                eventData.eventHolder.bind(eventData.event, eventData.handler);\n            });\n\n            eventManager[key] = eventList;\n        }\n\n        function shutdown() {\n            if (redrawTimeout) {\n                clearTimeout(redrawTimeout);\n            }\n\n            executeHooks(hooks.shutdown, [eventHolder]);\n        }\n\n        function setTransformationHelpers(axis) {\n            // set helper functions on the axis, assumes plot area\n            // has been computed already\n\n            function identity(x) {\n                return x;\n            }\n\n            var s, m, t = axis.options.transform || identity,\n                it = axis.options.inverseTransform;\n\n            // precompute how much the axis is scaling a point\n            // in canvas space\n            if (axis.direction === \"x\") {\n                if (isFinite(t(axis.max) - t(axis.min))) {\n                    s = axis.scale = plotWidth / Math.abs(t(axis.max) - t(axis.min));\n                } else {\n                    s = axis.scale = 1 / Math.abs($.plot.saturated.delta(t(axis.min), t(axis.max), plotWidth));\n                }\n                m = Math.min(t(axis.max), t(axis.min));\n            } else {\n                if (isFinite(t(axis.max) - t(axis.min))) {\n                    s = axis.scale = plotHeight / Math.abs(t(axis.max) - t(axis.min));\n                } else {\n                    s = axis.scale = 1 / Math.abs($.plot.saturated.delta(t(axis.min), t(axis.max), plotHeight));\n                }\n                s = -s;\n                m = Math.max(t(axis.max), t(axis.min));\n            }\n\n            // data point to canvas coordinate\n            if (t === identity) {\n                // slight optimization\n                axis.p2c = function(p) {\n                    if (isFinite(p - m)) {\n                        return (p - m) * s;\n                    } else {\n                        return (p / 4 - m / 4) * s * 4;\n                    }\n                };\n            } else {\n                axis.p2c = function(p) {\n                    var tp = t(p);\n\n                    if (isFinite(tp - m)) {\n                        return (tp - m) * s;\n                    } else {\n                        return (tp / 4 - m / 4) * s * 4;\n                    }\n                };\n            }\n\n            // canvas coordinate to data point\n            if (!it) {\n                axis.c2p = function(c) {\n                    return m + c / s;\n                };\n            } else {\n                axis.c2p = function(c) {\n                    return it(m + c / s);\n                };\n            }\n        }\n\n        function measureTickLabels(axis) {\n            var opts = axis.options,\n                ticks = opts.showTickLabels !== 'none' && axis.ticks ? axis.ticks : [],\n                showMajorTickLabels = opts.showTickLabels === 'major' || opts.showTickLabels === 'all',\n                showEndpointsTickLabels = opts.showTickLabels === 'endpoints' || opts.showTickLabels === 'all',\n                labelWidth = opts.labelWidth || 0,\n                labelHeight = opts.labelHeight || 0,\n                legacyStyles = axis.direction + \"Axis \" + axis.direction + axis.n + \"Axis\",\n                layer = \"flot-\" + axis.direction + \"-axis flot-\" + axis.direction + axis.n + \"-axis \" + legacyStyles,\n                font = opts.font || \"flot-tick-label tickLabel\";\n\n            for (var i = 0; i < ticks.length; ++i) {\n                var t = ticks[i];\n                var label = t.label;\n\n                if (!t.label ||\n                    (showMajorTickLabels === false && i > 0 && i < ticks.length - 1) ||\n                    (showEndpointsTickLabels === false && (i === 0 || i === ticks.length - 1))) {\n                    continue;\n                }\n\n                if (typeof t.label === 'object') {\n                    label = t.label.name;\n                }\n\n                var info = surface.getTextInfo(layer, label, font);\n\n                labelWidth = Math.max(labelWidth, info.width);\n                labelHeight = Math.max(labelHeight, info.height);\n            }\n\n            axis.labelWidth = opts.labelWidth || labelWidth;\n            axis.labelHeight = opts.labelHeight || labelHeight;\n        }\n\n        function allocateAxisBoxFirstPhase(axis) {\n            // find the bounding box of the axis by looking at label\n            // widths/heights and ticks, make room by diminishing the\n            // plotOffset; this first phase only looks at one\n            // dimension per axis, the other dimension depends on the\n            // other axes so will have to wait\n\n            // here reserve additional space\n            executeHooks(hooks.axisReserveSpace, [axis]);\n\n            var lw = axis.labelWidth,\n                lh = axis.labelHeight,\n                pos = axis.options.position,\n                isXAxis = axis.direction === \"x\",\n                tickLength = axis.options.tickLength,\n                showTicks = axis.options.showTicks,\n                showMinorTicks = axis.options.showMinorTicks,\n                gridLines = axis.options.gridLines,\n                axisMargin = options.grid.axisMargin,\n                padding = options.grid.labelMargin,\n                innermost = true,\n                outermost = true,\n                found = false;\n\n            // Determine the axis's position in its direction and on its side\n\n            $.each(isXAxis ? xaxes : yaxes, function(i, a) {\n                if (a && (a.show || a.reserveSpace)) {\n                    if (a === axis) {\n                        found = true;\n                    } else if (a.options.position === pos) {\n                        if (found) {\n                            outermost = false;\n                        } else {\n                            innermost = false;\n                        }\n                    }\n                }\n            });\n\n            // The outermost axis on each side has no margin\n            if (outermost) {\n                axisMargin = 0;\n            }\n\n            // Set the default tickLength if necessary\n            if (tickLength == null) {\n                tickLength = TICK_LENGTH_CONSTANT;\n            }\n\n            // By default, major tick marks are visible\n            if (showTicks == null) {\n                showTicks = true;\n            }\n\n            // By default, minor tick marks are visible\n            if (showMinorTicks == null) {\n                showMinorTicks = true;\n            }\n\n            // By default, grid lines are visible\n            if (gridLines == null) {\n                if (innermost) {\n                    gridLines = true;\n                } else {\n                    gridLines = false;\n                }\n            }\n\n            if (!isNaN(+tickLength)) {\n                padding += showTicks ? +tickLength : 0;\n            }\n\n            if (isXAxis) {\n                lh += padding;\n\n                if (pos === \"bottom\") {\n                    plotOffset.bottom += lh + axisMargin;\n                    axis.box = {\n                        top: surface.height - plotOffset.bottom,\n                        height: lh\n                    };\n                } else {\n                    axis.box = {\n                        top: plotOffset.top + axisMargin,\n                        height: lh\n                    };\n                    plotOffset.top += lh + axisMargin;\n                }\n            } else {\n                lw += padding;\n\n                if (pos === \"left\") {\n                    axis.box = {\n                        left: plotOffset.left + axisMargin,\n                        width: lw\n                    };\n                    plotOffset.left += lw + axisMargin;\n                } else {\n                    plotOffset.right += lw + axisMargin;\n                    axis.box = {\n                        left: surface.width - plotOffset.right,\n                        width: lw\n                    };\n                }\n            }\n\n            // save for future reference\n            axis.position = pos;\n            axis.tickLength = tickLength;\n            axis.showMinorTicks = showMinorTicks;\n            axis.showTicks = showTicks;\n            axis.gridLines = gridLines;\n            axis.box.padding = padding;\n            axis.innermost = innermost;\n        }\n\n        function allocateAxisBoxSecondPhase(axis) {\n            // now that all axis boxes have been placed in one\n            // dimension, we can set the remaining dimension coordinates\n            if (axis.direction === \"x\") {\n                axis.box.left = plotOffset.left - axis.labelWidth / 2;\n                axis.box.width = surface.width - plotOffset.left - plotOffset.right + axis.labelWidth;\n            } else {\n                axis.box.top = plotOffset.top - axis.labelHeight / 2;\n                axis.box.height = surface.height - plotOffset.bottom - plotOffset.top + axis.labelHeight;\n            }\n        }\n\n        function adjustLayoutForThingsStickingOut() {\n            // possibly adjust plot offset to ensure everything stays\n            // inside the canvas and isn't clipped off\n\n            var minMargin = options.grid.minBorderMargin,\n                i;\n\n            // check stuff from the plot (FIXME: this should just read\n            // a value from the series, otherwise it's impossible to\n            // customize)\n            if (minMargin == null) {\n                minMargin = 0;\n                for (i = 0; i < series.length; ++i) {\n                    minMargin = Math.max(minMargin, 2 * (series[i].points.radius + series[i].points.lineWidth / 2));\n                }\n            }\n\n            var a, offset = {},\n                margins = {\n                    left: minMargin,\n                    right: minMargin,\n                    top: minMargin,\n                    bottom: minMargin\n                };\n\n            // check axis labels, note we don't check the actual\n            // labels but instead use the overall width/height to not\n            // jump as much around with replots\n            $.each(allAxes(), function(_, axis) {\n                if (axis.reserveSpace && axis.ticks && axis.ticks.length) {\n                    if (axis.direction === \"x\") {\n                        margins.left = Math.max(margins.left, axis.labelWidth / 2);\n                        margins.right = Math.max(margins.right, axis.labelWidth / 2);\n                    } else {\n                        margins.bottom = Math.max(margins.bottom, axis.labelHeight / 2);\n                        margins.top = Math.max(margins.top, axis.labelHeight / 2);\n                    }\n                }\n            });\n\n            for (a in margins) {\n                offset[a] = margins[a] - plotOffset[a];\n            }\n            $.each(xaxes.concat(yaxes), function(_, axis) {\n                alignAxisWithGrid(axis, offset, function (offset) {\n                    return offset > 0;\n                });\n            });\n\n            plotOffset.left = Math.ceil(Math.max(margins.left, plotOffset.left));\n            plotOffset.right = Math.ceil(Math.max(margins.right, plotOffset.right));\n            plotOffset.top = Math.ceil(Math.max(margins.top, plotOffset.top));\n            plotOffset.bottom = Math.ceil(Math.max(margins.bottom, plotOffset.bottom));\n        }\n\n        function alignAxisWithGrid(axis, offset, isValid) {\n            if (axis.direction === \"x\") {\n                if (axis.position === \"bottom\" && isValid(offset.bottom)) {\n                    axis.box.top -= Math.ceil(offset.bottom);\n                }\n                if (axis.position === \"top\" && isValid(offset.top)) {\n                    axis.box.top += Math.ceil(offset.top);\n                }\n            } else {\n                if (axis.position === \"left\" && isValid(offset.left)) {\n                    axis.box.left += Math.ceil(offset.left);\n                }\n                if (axis.position === \"right\" && isValid(offset.right)) {\n                    axis.box.left -= Math.ceil(offset.right);\n                }\n            }\n        }\n\n        function setupGrid(autoScale) {\n            var i, a, axes = allAxes(),\n                showGrid = options.grid.show;\n\n            // Initialize the plot's offset from the edge of the canvas\n\n            for (a in plotOffset) {\n                plotOffset[a] = 0;\n            }\n\n            executeHooks(hooks.processOffset, [plotOffset]);\n\n            // If the grid is visible, add its border width to the offset\n            for (a in plotOffset) {\n                if (typeof (options.grid.borderWidth) === \"object\") {\n                    plotOffset[a] += showGrid ? options.grid.borderWidth[a] : 0;\n                } else {\n                    plotOffset[a] += showGrid ? options.grid.borderWidth : 0;\n                }\n            }\n\n            $.each(axes, function(_, axis) {\n                var axisOpts = axis.options;\n                axis.show = axisOpts.show == null ? axis.used : axisOpts.show;\n                axis.reserveSpace = axisOpts.reserveSpace == null ? axis.show : axisOpts.reserveSpace;\n                setupTickFormatter(axis);\n                executeHooks(hooks.setRange, [axis, autoScale]);\n                setRange(axis, autoScale);\n            });\n\n            if (showGrid) {\n                plotWidth = surface.width - plotOffset.left - plotOffset.right;\n                plotHeight = surface.height - plotOffset.bottom - plotOffset.top;\n\n                var allocatedAxes = $.grep(axes, function(axis) {\n                    return axis.show || axis.reserveSpace;\n                });\n\n                $.each(allocatedAxes, function(_, axis) {\n                    // make the ticks\n                    setupTickGeneration(axis);\n                    setMajorTicks(axis);\n                    snapRangeToTicks(axis, axis.ticks, series);\n\n                    //for computing the endpoints precision, transformationHelpers are needed\n                    setTransformationHelpers(axis);\n                    setEndpointTicks(axis, series);\n\n                    // find labelWidth/Height for axis\n                    measureTickLabels(axis);\n                });\n\n                // with all dimensions calculated, we can compute the\n                // axis bounding boxes, start from the outside\n                // (reverse order)\n                for (i = allocatedAxes.length - 1; i >= 0; --i) {\n                    allocateAxisBoxFirstPhase(allocatedAxes[i]);\n                }\n\n                // make sure we've got enough space for things that\n                // might stick out\n                adjustLayoutForThingsStickingOut();\n\n                $.each(allocatedAxes, function(_, axis) {\n                    allocateAxisBoxSecondPhase(axis);\n                });\n            }\n\n            //adjust axis and plotOffset according to grid.margins\n            if (options.grid.margin) {\n                for (a in plotOffset) {\n                    var margin = options.grid.margin || 0;\n                    plotOffset[a] += typeof margin === \"number\" ? margin : (margin[a] || 0);\n                }\n                $.each(xaxes.concat(yaxes), function(_, axis) {\n                    alignAxisWithGrid(axis, options.grid.margin, function(offset) {\n                        return offset !== undefined && offset !== null;\n                    });\n                });\n            }\n\n            //after adjusting the axis, plot width and height will be modified\n            plotWidth = surface.width - plotOffset.left - plotOffset.right;\n            plotHeight = surface.height - plotOffset.bottom - plotOffset.top;\n\n            // now we got the proper plot dimensions, we can compute the scaling\n            $.each(axes, function(_, axis) {\n                setTransformationHelpers(axis);\n            });\n\n            if (showGrid) {\n                drawAxisLabels();\n            }\n\n            executeHooks(hooks.setupGrid, []);\n        }\n\n        function widenMinMax(minimum, maximum) {\n            var min = (minimum === undefined ? null : minimum);\n            var max = (maximum === undefined ? null : maximum);\n            var delta = max - min;\n            if (delta === 0.0) {\n                // degenerate case\n                var widen = max === 0 ? 1 : 0.01;\n                var wmin = null;\n                if (min == null) {\n                    wmin -= widen;\n                }\n\n                // always widen max if we couldn't widen min to ensure we\n                // don't fall into min == max which doesn't work\n                if (max == null || min != null) {\n                    max += widen;\n                }\n\n                if (wmin != null) {\n                    min = wmin;\n                }\n            }\n\n            return {\n                min: min,\n                max: max\n            };\n        }\n\n        function autoScaleAxis(axis) {\n            var opts = axis.options,\n                min = opts.min,\n                max = opts.max,\n                datamin = axis.datamin,\n                datamax = axis.datamax,\n                delta;\n\n            switch (opts.autoScale) {\n                case \"none\":\n                    min = +(opts.min != null ? opts.min : datamin);\n                    max = +(opts.max != null ? opts.max : datamax);\n                    break;\n                case \"loose\":\n                    if (datamin != null && datamax != null) {\n                        min = datamin;\n                        max = datamax;\n                        delta = $.plot.saturated.saturate(max - min);\n                        var margin = ((typeof opts.autoScaleMargin === 'number') ? opts.autoScaleMargin : 0.02);\n                        min = $.plot.saturated.saturate(min - delta * margin);\n                        max = $.plot.saturated.saturate(max + delta * margin);\n\n                        // make sure we don't go below zero if all values are positive\n                        if (min < 0 && datamin >= 0) {\n                            min = 0;\n                        }\n                    } else {\n                        min = opts.min;\n                        max = opts.max;\n                    }\n                    break;\n                case \"exact\":\n                    min = (datamin != null ? datamin : opts.min);\n                    max = (datamax != null ? datamax : opts.max);\n                    break;\n                case \"sliding-window\":\n                    if (datamax > max) {\n                        // move the window to fit the new data,\n                        // keeping the axis range constant\n                        max = datamax;\n                        min = Math.max(datamax - (opts.windowSize || 100), min);\n                    }\n                    break;\n            }\n\n            var widenedMinMax = widenMinMax(min, max);\n            min = widenedMinMax.min;\n            max = widenedMinMax.max;\n\n            // grow loose or grow exact supported\n            if (opts.growOnly === true && opts.autoScale !== \"none\" && opts.autoScale !== \"sliding-window\") {\n                min = (min < datamin) ? min : (datamin !== null ? datamin : min);\n                max = (max > datamax) ? max : (datamax !== null ? datamax : max);\n            }\n\n            axis.autoScaledMin = min;\n            axis.autoScaledMax = max;\n        }\n\n        function setRange(axis, autoScale) {\n            var min = typeof axis.options.min === 'number' ? axis.options.min : axis.min,\n                max = typeof axis.options.max === 'number' ? axis.options.max : axis.max,\n                plotOffset = axis.options.offset;\n\n            if (autoScale) {\n                autoScaleAxis(axis);\n                min = axis.autoScaledMin;\n                max = axis.autoScaledMax;\n            }\n\n            min = (min != null ? min : -1) + (plotOffset.below || 0);\n            max = (max != null ? max : 1) + (plotOffset.above || 0);\n\n            if (min > max) {\n                var tmp = min;\n                min = max;\n                max = tmp;\n                axis.options.offset = { above: 0, below: 0 };\n            }\n\n            axis.min = $.plot.saturated.saturate(min);\n            axis.max = $.plot.saturated.saturate(max);\n        }\n\n        function computeValuePrecision (min, max, direction, ticks, tickDecimals) {\n            var noTicks = fixupNumberOfTicks(direction, surface, ticks);\n\n            var delta = $.plot.saturated.delta(min, max, noTicks),\n                dec = -Math.floor(Math.log(delta) / Math.LN10);\n\n            //if it is called with tickDecimals, then the precision should not be greather then that\n            if (tickDecimals && dec > tickDecimals) {\n                dec = tickDecimals;\n            }\n\n            var magn = parseFloat('1e' + (-dec)),\n                norm = delta / magn;\n\n            if (norm > 2.25 && norm < 3 && (dec + 1) <= tickDecimals) {\n                //we need an extra decimals when tickSize is 2.5\n                ++dec;\n            }\n\n            return isFinite(dec) ? dec : 0;\n        };\n\n        function computeTickSize (min, max, noTicks, tickDecimals) {\n            var delta = $.plot.saturated.delta(min, max, noTicks),\n                dec = -Math.floor(Math.log(delta) / Math.LN10);\n\n            //if it is called with tickDecimals, then the precision should not be greather then that\n            if (tickDecimals && dec > tickDecimals) {\n                dec = tickDecimals;\n            }\n\n            var magn = parseFloat('1e' + (-dec)),\n                norm = delta / magn, // norm is between 1.0 and 10.0\n                size;\n\n            if (norm < 1.5) {\n                size = 1;\n            } else if (norm < 3) {\n                size = 2;\n                if (norm > 2.25 && (tickDecimals == null || (dec + 1) <= tickDecimals)) {\n                    size = 2.5;\n                }\n            } else if (norm < 7.5) {\n                size = 5;\n            } else {\n                size = 10;\n            }\n\n            size *= magn;\n            return size;\n        }\n\n        function getAxisTickSize(min, max, direction, options, tickDecimals) {\n            var noTicks;\n\n            if (typeof options.ticks === \"number\" && options.ticks > 0) {\n                noTicks = options.ticks;\n            } else {\n            // heuristic based on the model a*sqrt(x) fitted to\n            // some data points that seemed reasonable\n                noTicks = 0.3 * Math.sqrt(direction === \"x\" ? surface.width : surface.height);\n            }\n\n            var size = computeTickSize(min, max, noTicks, tickDecimals);\n\n            if (options.minTickSize != null && size < options.minTickSize) {\n                size = options.minTickSize;\n            }\n\n            return options.tickSize || size;\n        };\n\n        function fixupNumberOfTicks(direction, surface, ticksOption) {\n            var noTicks;\n\n            if (typeof ticksOption === \"number\" && ticksOption > 0) {\n                noTicks = ticksOption;\n            } else {\n                noTicks = 0.3 * Math.sqrt(direction === \"x\" ? surface.width : surface.height);\n            }\n\n            return noTicks;\n        }\n\n        function setupTickFormatter(axis) {\n            var opts = axis.options;\n            if (!axis.tickFormatter) {\n                if (typeof opts.tickFormatter === 'function') {\n                    axis.tickFormatter = function() {\n                        var args = Array.prototype.slice.call(arguments);\n                        return \"\" + opts.tickFormatter.apply(null, args);\n                    };\n                } else {\n                    axis.tickFormatter = defaultTickFormatter;\n                }\n            }\n        }\n\n        function setupTickGeneration(axis) {\n            var opts = axis.options;\n            var noTicks;\n\n            noTicks = fixupNumberOfTicks(axis.direction, surface, opts.ticks);\n\n            axis.delta = $.plot.saturated.delta(axis.min, axis.max, noTicks);\n            var precision = plot.computeValuePrecision(axis.min, axis.max, axis.direction, noTicks, opts.tickDecimals);\n\n            axis.tickDecimals = Math.max(0, opts.tickDecimals != null ? opts.tickDecimals : precision);\n            axis.tickSize = getAxisTickSize(axis.min, axis.max, axis.direction, opts, opts.tickDecimals);\n\n            // Flot supports base-10 axes; any other mode else is handled by a plug-in,\n            // like flot.time.js.\n\n            if (!axis.tickGenerator) {\n                if (typeof opts.tickGenerator === 'function') {\n                    axis.tickGenerator = opts.tickGenerator;\n                } else {\n                    axis.tickGenerator = defaultTickGenerator;\n                }\n            }\n\n            if (opts.alignTicksWithAxis != null) {\n                var otherAxis = (axis.direction === \"x\" ? xaxes : yaxes)[opts.alignTicksWithAxis - 1];\n                if (otherAxis && otherAxis.used && otherAxis !== axis) {\n                    // consider snapping min/max to outermost nice ticks\n                    var niceTicks = axis.tickGenerator(axis, plot);\n                    if (niceTicks.length > 0) {\n                        if (opts.min == null) {\n                            axis.min = Math.min(axis.min, niceTicks[0]);\n                        }\n\n                        if (opts.max == null && niceTicks.length > 1) {\n                            axis.max = Math.max(axis.max, niceTicks[niceTicks.length - 1]);\n                        }\n                    }\n\n                    axis.tickGenerator = function(axis) {\n                        // copy ticks, scaled to this axis\n                        var ticks = [],\n                            v, i;\n                        for (i = 0; i < otherAxis.ticks.length; ++i) {\n                            v = (otherAxis.ticks[i].v - otherAxis.min) / (otherAxis.max - otherAxis.min);\n                            v = axis.min + v * (axis.max - axis.min);\n                            ticks.push(v);\n                        }\n                        return ticks;\n                    };\n\n                    // we might need an extra decimal since forced\n                    // ticks don't necessarily fit naturally\n                    if (!axis.mode && opts.tickDecimals == null) {\n                        var extraDec = Math.max(0, -Math.floor(Math.log(axis.delta) / Math.LN10) + 1),\n                            ts = axis.tickGenerator(axis, plot);\n\n                        // only proceed if the tick interval rounded\n                        // with an extra decimal doesn't give us a\n                        // zero at end\n                        if (!(ts.length > 1 && /\\..*0$/.test((ts[1] - ts[0]).toFixed(extraDec)))) {\n                            axis.tickDecimals = extraDec;\n                        }\n                    }\n                }\n            }\n        }\n\n        function setMajorTicks(axis) {\n            var oticks = axis.options.ticks,\n                ticks = [];\n            if (oticks == null || (typeof oticks === \"number\" && oticks > 0)) {\n                ticks = axis.tickGenerator(axis, plot);\n            } else if (oticks) {\n                if ($.isFunction(oticks)) {\n                // generate the ticks\n                    ticks = oticks(axis);\n                } else {\n                    ticks = oticks;\n                }\n            }\n\n            // clean up/labelify the supplied ticks, copy them over\n            var i, v;\n            axis.ticks = [];\n            for (i = 0; i < ticks.length; ++i) {\n                var label = null;\n                var t = ticks[i];\n                if (typeof t === \"object\") {\n                    v = +t[0];\n                    if (t.length > 1) {\n                        label = t[1];\n                    }\n                } else {\n                    v = +t;\n                }\n\n                if (!isNaN(v)) {\n                    axis.ticks.push(\n                        newTick(v, label, axis, 'major'));\n                }\n            }\n        }\n\n        function newTick(v, label, axis, type) {\n            if (label === null) {\n                switch (type) {\n                    case 'min':\n                    case 'max':\n                        //improving the precision of endpoints\n                        var precision = getEndpointPrecision(v, axis);\n                        label = isFinite(precision) ? axis.tickFormatter(v, axis, precision, plot) : axis.tickFormatter(v, axis, precision, plot);\n                        break;\n                    case 'major':\n                        label = axis.tickFormatter(v, axis, undefined, plot);\n                }\n            }\n            return {\n                v: v,\n                label: label\n            };\n        }\n\n        function snapRangeToTicks(axis, ticks, series) {\n            var anyDataInSeries = function(series) {\n                return series.some(e => e.datapoints.points.length > 0);\n            }\n\n            if (axis.options.autoScale === \"loose\" && ticks.length > 0 && anyDataInSeries(series)) {\n                // snap to ticks\n                axis.min = Math.min(axis.min, ticks[0].v);\n                axis.max = Math.max(axis.max, ticks[ticks.length - 1].v);\n            }\n        }\n\n        function getEndpointPrecision(value, axis) {\n            var canvas1 = Math.floor(axis.p2c(value)),\n                canvas2 = axis.direction === \"x\" ? canvas1 + 1 : canvas1 - 1,\n                point1 = axis.c2p(canvas1),\n                point2 = axis.c2p(canvas2),\n                precision = computeValuePrecision(point1, point2, axis.direction, 1);\n\n            return precision;\n        }\n\n        function setEndpointTicks(axis, series) {\n            if (isValidEndpointTick(axis, series)) {\n                axis.ticks.unshift(newTick(axis.min, null, axis, 'min'));\n                axis.ticks.push(newTick(axis.max, null, axis, 'max'));\n            }\n        }\n\n        function isValidEndpointTick(axis, series) {\n            if (axis.options.showTickLabels === 'endpoints') {\n                return true;\n            }\n            if (axis.options.showTickLabels === 'all') {\n                var associatedSeries = series.filter(function(s) {\n                        return s.bars.horizontal ? s.yaxis === axis : s.xaxis === axis;\n                    }),\n                    notAllBarSeries = associatedSeries.some(function(s) {\n                        return !s.bars.show;\n                    });\n                return associatedSeries.length === 0 || notAllBarSeries;\n            }\n            if (axis.options.showTickLabels === 'major' || axis.options.showTickLabels === 'none') {\n                return false;\n            }\n        }\n\n        function draw() {\n            surface.clear();\n            executeHooks(hooks.drawBackground, [ctx]);\n\n            var grid = options.grid;\n\n            // draw background, if any\n            if (grid.show && grid.backgroundColor) {\n                drawBackground();\n            }\n\n            if (grid.show && !grid.aboveData) {\n                drawGrid();\n            }\n\n            for (var i = 0; i < series.length; ++i) {\n                executeHooks(hooks.drawSeries, [ctx, series[i], i, getColorOrGradient]);\n                drawSeries(series[i]);\n            }\n\n            executeHooks(hooks.draw, [ctx]);\n\n            if (grid.show && grid.aboveData) {\n                drawGrid();\n            }\n\n            surface.render();\n\n            // A draw implies that either the axes or data have changed, so we\n            // should probably update the overlay highlights as well.\n            triggerRedrawOverlay();\n        }\n\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = allAxes();\n\n            for (var i = 0; i < axes.length; ++i) {\n                axis = axes[i];\n                if (axis.direction === coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n === 1) {\n                        // support x1axis as xaxis\n                        key = coord + \"axis\";\n                    }\n\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord === \"x\" ? xaxes[0] : yaxes[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n\n            return {\n                from: from,\n                to: to,\n                axis: axis\n            };\n        }\n\n        function drawBackground() {\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            ctx.fillStyle = getColorOrGradient(options.grid.backgroundColor, plotHeight, 0, \"rgba(255, 255, 255, 0)\");\n            ctx.fillRect(0, 0, plotWidth, plotHeight);\n            ctx.restore();\n        }\n\n        function drawMarkings() {\n            // draw markings\n            var markings = options.grid.markings,\n                axes;\n\n            if (markings) {\n                if ($.isFunction(markings)) {\n                    axes = plot.getAxes();\n                    // xmin etc. is backwards compatibility, to be\n                    // removed in the future\n                    axes.xmin = axes.xaxis.min;\n                    axes.xmax = axes.xaxis.max;\n                    axes.ymin = axes.yaxis.min;\n                    axes.ymax = axes.yaxis.max;\n\n                    markings = markings(axes);\n                }\n\n                var i;\n                for (i = 0; i < markings.length; ++i) {\n                    var m = markings[i],\n                        xrange = extractRange(m, \"x\"),\n                        yrange = extractRange(m, \"y\");\n\n                    // fill in missing\n                    if (xrange.from == null) {\n                        xrange.from = xrange.axis.min;\n                    }\n\n                    if (xrange.to == null) {\n                        xrange.to = xrange.axis.max;\n                    }\n\n                    if (yrange.from == null) {\n                        yrange.from = yrange.axis.min;\n                    }\n\n                    if (yrange.to == null) {\n                        yrange.to = yrange.axis.max;\n                    }\n\n                    // clip\n                    if (xrange.to < xrange.axis.min || xrange.from > xrange.axis.max ||\n                        yrange.to < yrange.axis.min || yrange.from > yrange.axis.max) {\n                        continue;\n                    }\n\n                    xrange.from = Math.max(xrange.from, xrange.axis.min);\n                    xrange.to = Math.min(xrange.to, xrange.axis.max);\n                    yrange.from = Math.max(yrange.from, yrange.axis.min);\n                    yrange.to = Math.min(yrange.to, yrange.axis.max);\n\n                    var xequal = xrange.from === xrange.to,\n                        yequal = yrange.from === yrange.to;\n\n                    if (xequal && yequal) {\n                        continue;\n                    }\n\n                    // then draw\n                    xrange.from = Math.floor(xrange.axis.p2c(xrange.from));\n                    xrange.to = Math.floor(xrange.axis.p2c(xrange.to));\n                    yrange.from = Math.floor(yrange.axis.p2c(yrange.from));\n                    yrange.to = Math.floor(yrange.axis.p2c(yrange.to));\n\n                    if (xequal || yequal) {\n                        var lineWidth = m.lineWidth || options.grid.markingsLineWidth,\n                            subPixel = lineWidth % 2 ? 0.5 : 0;\n                        ctx.beginPath();\n                        ctx.strokeStyle = m.color || options.grid.markingsColor;\n                        ctx.lineWidth = lineWidth;\n                        if (xequal) {\n                            ctx.moveTo(xrange.to + subPixel, yrange.from);\n                            ctx.lineTo(xrange.to + subPixel, yrange.to);\n                        } else {\n                            ctx.moveTo(xrange.from, yrange.to + subPixel);\n                            ctx.lineTo(xrange.to, yrange.to + subPixel);\n                        }\n                        ctx.stroke();\n                    } else {\n                        ctx.fillStyle = m.color || options.grid.markingsColor;\n                        ctx.fillRect(xrange.from, yrange.to,\n                            xrange.to - xrange.from,\n                            yrange.from - yrange.to);\n                    }\n                }\n            }\n        }\n\n        function findEdges(axis) {\n            var box = axis.box,\n                x = 0,\n                y = 0;\n\n            // find the edges\n            if (axis.direction === \"x\") {\n                x = 0;\n                y = box.top - plotOffset.top + (axis.position === \"top\" ? box.height : 0);\n            } else {\n                y = 0;\n                x = box.left - plotOffset.left + (axis.position === \"left\" ? box.width : 0) + axis.boxPosition.centerX;\n            }\n\n            return {\n                x: x,\n                y: y\n            };\n        };\n\n        function alignPosition(lineWidth, pos) {\n            return ((lineWidth % 2) !== 0) ? Math.floor(pos) + 0.5 : pos;\n        };\n\n        function drawTickBar(axis) {\n            ctx.lineWidth = 1;\n            var edges = findEdges(axis),\n                x = edges.x,\n                y = edges.y;\n\n            // draw tick bar\n            if (axis.show) {\n                var xoff = 0,\n                    yoff = 0;\n\n                ctx.strokeStyle = axis.options.color;\n                ctx.beginPath();\n                if (axis.direction === \"x\") {\n                    xoff = plotWidth + 1;\n                } else {\n                    yoff = plotHeight + 1;\n                }\n\n                if (axis.direction === \"x\") {\n                    y = alignPosition(ctx.lineWidth, y);\n                } else {\n                    x = alignPosition(ctx.lineWidth, x);\n                }\n\n                ctx.moveTo(x, y);\n                ctx.lineTo(x + xoff, y + yoff);\n                ctx.stroke();\n            }\n        };\n\n        function drawTickMarks(axis) {\n            var t = axis.tickLength,\n                minorTicks = axis.showMinorTicks,\n                minorTicksNr = MINOR_TICKS_COUNT_CONSTANT,\n                edges = findEdges(axis),\n                x = edges.x,\n                y = edges.y,\n                i = 0;\n\n            // draw major tick marks\n            ctx.strokeStyle = axis.options.color;\n            ctx.beginPath();\n\n            for (i = 0; i < axis.ticks.length; ++i) {\n                var v = axis.ticks[i].v,\n                    xoff = 0,\n                    yoff = 0,\n                    xminor = 0,\n                    yminor = 0,\n                    j;\n\n                if (!isNaN(v) && v >= axis.min && v <= axis.max) {\n                    if (axis.direction === \"x\") {\n                        x = axis.p2c(v);\n                        yoff = t;\n\n                        if (axis.position === \"top\") {\n                            yoff = -yoff;\n                        }\n                    } else {\n                        y = axis.p2c(v);\n                        xoff = t;\n\n                        if (axis.position === \"left\") {\n                            xoff = -xoff;\n                        }\n                    }\n\n                    if (axis.direction === \"x\") {\n                        x = alignPosition(ctx.lineWidth, x);\n                    } else {\n                        y = alignPosition(ctx.lineWidth, y);\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                }\n\n                //draw minor tick marks\n                if (minorTicks === true && i < axis.ticks.length - 1) {\n                    var v1 = axis.ticks[i].v,\n                        v2 = axis.ticks[i + 1].v,\n                        step = (v2 - v1) / (minorTicksNr + 1);\n\n                    for (j = 1; j <= minorTicksNr; j++) {\n                        // compute minor tick position\n                        if (axis.direction === \"x\") {\n                            yminor = t / 2; // minor ticks are half length\n                            x = alignPosition(ctx.lineWidth, axis.p2c(v1 + j * step))\n\n                            if (axis.position === \"top\") {\n                                yminor = -yminor;\n                            }\n\n                            // don't go over the plot borders\n                            if ((x < 0) || (x > plotWidth)) {\n                                continue;\n                            }\n                        } else {\n                            xminor = t / 2; // minor ticks are half length\n                            y = alignPosition(ctx.lineWidth, axis.p2c(v1 + j * step));\n\n                            if (axis.position === \"left\") {\n                                xminor = -xminor;\n                            }\n\n                            // don't go over the plot borders\n                            if ((y < 0) || (y > plotHeight)) {\n                                continue;\n                            }\n                        }\n\n                        ctx.moveTo(x, y);\n                        ctx.lineTo(x + xminor, y + yminor);\n                    }\n                }\n            }\n\n            ctx.stroke();\n        };\n\n        function drawGridLines(axis) {\n            // check if the line will be overlapped with a border\n            var overlappedWithBorder = function (value) {\n                var bw = options.grid.borderWidth;\n                return (((typeof bw === \"object\" && bw[axis.position] > 0) || bw > 0) && (value === axis.min || value === axis.max));\n            };\n\n            ctx.strokeStyle = options.grid.tickColor;\n            ctx.beginPath();\n            var i;\n            for (i = 0; i < axis.ticks.length; ++i) {\n                var v = axis.ticks[i].v,\n                    xoff = 0,\n                    yoff = 0,\n                    x = 0,\n                    y = 0;\n\n                if (isNaN(v) || v < axis.min || v > axis.max) continue;\n\n                // skip those lying on the axes if we got a border\n                if (overlappedWithBorder(v)) continue;\n\n                if (axis.direction === \"x\") {\n                    x = axis.p2c(v);\n                    y = plotHeight;\n                    yoff = -plotHeight;\n                } else {\n                    x = 0;\n                    y = axis.p2c(v);\n                    xoff = plotWidth;\n                }\n\n                if (axis.direction === \"x\") {\n                    x = alignPosition(ctx.lineWidth, x);\n                } else {\n                    y = alignPosition(ctx.lineWidth, y);\n                }\n\n                ctx.moveTo(x, y);\n                ctx.lineTo(x + xoff, y + yoff);\n            }\n\n            ctx.stroke();\n        };\n\n        function drawBorder() {\n            // If either borderWidth or borderColor is an object, then draw the border\n            // line by line instead of as one rectangle\n            var bw = options.grid.borderWidth,\n                bc = options.grid.borderColor;\n\n            if (typeof bw === \"object\" || typeof bc === \"object\") {\n                if (typeof bw !== \"object\") {\n                    bw = {\n                        top: bw,\n                        right: bw,\n                        bottom: bw,\n                        left: bw\n                    };\n                }\n                if (typeof bc !== \"object\") {\n                    bc = {\n                        top: bc,\n                        right: bc,\n                        bottom: bc,\n                        left: bc\n                    };\n                }\n\n                if (bw.top > 0) {\n                    ctx.strokeStyle = bc.top;\n                    ctx.lineWidth = bw.top;\n                    ctx.beginPath();\n                    ctx.moveTo(0 - bw.left, 0 - bw.top / 2);\n                    ctx.lineTo(plotWidth, 0 - bw.top / 2);\n                    ctx.stroke();\n                }\n\n                if (bw.right > 0) {\n                    ctx.strokeStyle = bc.right;\n                    ctx.lineWidth = bw.right;\n                    ctx.beginPath();\n                    ctx.moveTo(plotWidth + bw.right / 2, 0 - bw.top);\n                    ctx.lineTo(plotWidth + bw.right / 2, plotHeight);\n                    ctx.stroke();\n                }\n\n                if (bw.bottom > 0) {\n                    ctx.strokeStyle = bc.bottom;\n                    ctx.lineWidth = bw.bottom;\n                    ctx.beginPath();\n                    ctx.moveTo(plotWidth + bw.right, plotHeight + bw.bottom / 2);\n                    ctx.lineTo(0, plotHeight + bw.bottom / 2);\n                    ctx.stroke();\n                }\n\n                if (bw.left > 0) {\n                    ctx.strokeStyle = bc.left;\n                    ctx.lineWidth = bw.left;\n                    ctx.beginPath();\n                    ctx.moveTo(0 - bw.left / 2, plotHeight + bw.bottom);\n                    ctx.lineTo(0 - bw.left / 2, 0);\n                    ctx.stroke();\n                }\n            } else {\n                ctx.lineWidth = bw;\n                ctx.strokeStyle = options.grid.borderColor;\n                ctx.strokeRect(-bw / 2, -bw / 2, plotWidth + bw, plotHeight + bw);\n            }\n        };\n\n        function drawGrid() {\n            var axes, bw;\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            drawMarkings();\n\n            axes = allAxes();\n            bw = options.grid.borderWidth;\n\n            for (var j = 0; j < axes.length; ++j) {\n                var axis = axes[j];\n\n                if (!axis.show) {\n                    continue;\n                }\n\n                drawTickBar(axis);\n                if (axis.showTicks === true) {\n                    drawTickMarks(axis);\n                }\n\n                if (axis.gridLines === true) {\n                    drawGridLines(axis, bw);\n                }\n            }\n\n            // draw border\n            if (bw) {\n                drawBorder();\n            }\n\n            ctx.restore();\n        }\n\n        function drawAxisLabels() {\n            $.each(allAxes(), function(_, axis) {\n                var box = axis.box,\n                    legacyStyles = axis.direction + \"Axis \" + axis.direction + axis.n + \"Axis\",\n                    layer = \"flot-\" + axis.direction + \"-axis flot-\" + axis.direction + axis.n + \"-axis \" + legacyStyles,\n                    font = axis.options.font || \"flot-tick-label tickLabel\",\n                    i, x, y, halign, valign, info,\n                    margin = 3,\n                    nullBox = {x: NaN, y: NaN, width: NaN, height: NaN}, newLabelBox, labelBoxes = [],\n                    overlapping = function(x11, y11, x12, y12, x21, y21, x22, y22) {\n                        return ((x11 <= x21 && x21 <= x12) || (x21 <= x11 && x11 <= x22)) &&\n                               ((y11 <= y21 && y21 <= y12) || (y21 <= y11 && y11 <= y22));\n                    },\n                    overlapsOtherLabels = function(newLabelBox, previousLabelBoxes) {\n                        return previousLabelBoxes.some(function(labelBox) {\n                            return overlapping(\n                                newLabelBox.x, newLabelBox.y, newLabelBox.x + newLabelBox.width, newLabelBox.y + newLabelBox.height,\n                                labelBox.x, labelBox.y, labelBox.x + labelBox.width, labelBox.y + labelBox.height);\n                        });\n                    },\n                    drawAxisLabel = function (tick, labelBoxes) {\n                        if (!tick || !tick.label || tick.v < axis.min || tick.v > axis.max) {\n                            return nullBox;\n                        }\n\n                        info = surface.getTextInfo(layer, tick.label, font);\n\n                        if (axis.direction === \"x\") {\n                            halign = \"center\";\n                            x = plotOffset.left + axis.p2c(tick.v);\n                            if (axis.position === \"bottom\") {\n                                y = box.top + box.padding - axis.boxPosition.centerY;\n                            } else {\n                                y = box.top + box.height - box.padding + axis.boxPosition.centerY;\n                                valign = \"bottom\";\n                            }\n                            newLabelBox = {x: x - info.width / 2 - margin, y: y - margin, width: info.width + 2 * margin, height: info.height + 2 * margin};\n                        } else {\n                            valign = \"middle\";\n                            y = plotOffset.top + axis.p2c(tick.v);\n                            if (axis.position === \"left\") {\n                                x = box.left + box.width - box.padding - axis.boxPosition.centerX;\n                                halign = \"right\";\n                            } else {\n                                x = box.left + box.padding + axis.boxPosition.centerX;\n                            }\n                            newLabelBox = {x: x - info.width / 2 - margin, y: y - margin, width: info.width + 2 * margin, height: info.height + 2 * margin};\n                        }\n\n                        if (overlapsOtherLabels(newLabelBox, labelBoxes)) {\n                            return nullBox;\n                        }\n\n                        surface.addText(layer, x, y, tick.label, font, null, null, halign, valign);\n\n                        return newLabelBox;\n                    };\n\n                // Remove text before checking for axis.show and ticks.length;\n                // otherwise plugins, like flot-tickrotor, that draw their own\n                // tick labels will end up with both theirs and the defaults.\n\n                surface.removeText(layer);\n\n                executeHooks(hooks.drawAxis, [axis, surface]);\n\n                if (!axis.show) {\n                    return;\n                }\n\n                switch (axis.options.showTickLabels) {\n                    case 'none':\n                        break;\n                    case 'endpoints':\n                        labelBoxes.push(drawAxisLabel(axis.ticks[0], labelBoxes));\n                        labelBoxes.push(drawAxisLabel(axis.ticks[axis.ticks.length - 1], labelBoxes));\n                        break;\n                    case 'major':\n                        labelBoxes.push(drawAxisLabel(axis.ticks[0], labelBoxes));\n                        labelBoxes.push(drawAxisLabel(axis.ticks[axis.ticks.length - 1], labelBoxes));\n                        for (i = 1; i < axis.ticks.length - 1; ++i) {\n                            labelBoxes.push(drawAxisLabel(axis.ticks[i], labelBoxes));\n                        }\n                        break;\n                    case 'all':\n                        labelBoxes.push(drawAxisLabel(axis.ticks[0], []));\n                        labelBoxes.push(drawAxisLabel(axis.ticks[axis.ticks.length - 1], labelBoxes));\n                        for (i = 1; i < axis.ticks.length - 1; ++i) {\n                            labelBoxes.push(drawAxisLabel(axis.ticks[i], labelBoxes));\n                        }\n                        break;\n                }\n            });\n        }\n\n        function drawSeries(series) {\n            if (series.lines.show) {\n                $.plot.drawSeries.drawSeriesLines(series, ctx, plotOffset, plotWidth, plotHeight, plot.drawSymbol, getColorOrGradient);\n            }\n\n            if (series.bars.show) {\n                $.plot.drawSeries.drawSeriesBars(series, ctx, plotOffset, plotWidth, plotHeight, plot.drawSymbol, getColorOrGradient);\n            }\n\n            if (series.points.show) {\n                $.plot.drawSeries.drawSeriesPoints(series, ctx, plotOffset, plotWidth, plotHeight, plot.drawSymbol, getColorOrGradient);\n            }\n        }\n\n        function computeRangeForDataSeries(series, force, isValid) {\n            var points = series.datapoints.points,\n                ps = series.datapoints.pointsize,\n                format = series.datapoints.format,\n                topSentry = Number.POSITIVE_INFINITY,\n                bottomSentry = Number.NEGATIVE_INFINITY,\n                range = {\n                    xmin: topSentry,\n                    ymin: topSentry,\n                    xmax: bottomSentry,\n                    ymax: bottomSentry\n                };\n\n            for (var j = 0; j < points.length; j += ps) {\n                if (points[j] === null) {\n                    continue;\n                }\n\n                if (typeof (isValid) === 'function' && !isValid(points[j])) {\n                    continue;\n                }\n\n                for (var m = 0; m < ps; ++m) {\n                    var val = points[j + m],\n                        f = format[m];\n                    if (f === null || f === undefined) {\n                        continue;\n                    }\n\n                    if (typeof (isValid) === 'function' && !isValid(val)) {\n                        continue;\n                    }\n\n                    if ((!force && !f.computeRange) || val === Infinity || val === -Infinity) {\n                        continue;\n                    }\n\n                    if (f.x === true) {\n                        if (val < range.xmin) {\n                            range.xmin = val;\n                        }\n\n                        if (val > range.xmax) {\n                            range.xmax = val;\n                        }\n                    }\n\n                    if (f.y === true) {\n                        if (val < range.ymin) {\n                            range.ymin = val;\n                        }\n\n                        if (val > range.ymax) {\n                            range.ymax = val;\n                        }\n                    }\n                }\n            }\n\n            return range;\n        };\n\n        function adjustSeriesDataRange(series, range) {\n            if (series.bars.show) {\n                // make sure we got room for the bar on the dancing floor\n                var delta;\n\n                // update bar width if needed\n                var useAbsoluteBarWidth = series.bars.barWidth[1];\n                if (series.datapoints && series.datapoints.points && !useAbsoluteBarWidth) {\n                    computeBarWidth(series);\n                }\n\n                var barWidth = series.bars.barWidth[0] || series.bars.barWidth;\n                switch (series.bars.align) {\n                    case \"left\":\n                        delta = 0;\n                        break;\n                    case \"right\":\n                        delta = -barWidth;\n                        break;\n                    default:\n                        delta = -barWidth / 2;\n                }\n\n                if (series.bars.horizontal) {\n                    range.ymin += delta;\n                    range.ymax += delta + barWidth;\n                } else {\n                    range.xmin += delta;\n                    range.xmax += delta + barWidth;\n                }\n            }\n\n            if ((series.bars.show && series.bars.zero) || (series.lines.show && series.lines.zero)) {\n                var ps = series.datapoints.pointsize;\n\n                // make sure the 0 point is included in the computed y range when requested\n                if (ps <= 2) {\n                    /*if ps > 0 the points were already taken into account for autoScale */\n                    range.ymin = Math.min(0, range.ymin);\n                    range.ymax = Math.max(0, range.ymax);\n                }\n            }\n\n            return range;\n        };\n\n        function computeBarWidth(series) {\n            var xValues = [];\n            var pointsize = series.datapoints.pointsize, minDistance = Number.MAX_VALUE;\n\n            if (series.datapoints.points.length <= pointsize) {\n                minDistance = 1;\n            }\n\n            var start = series.bars.horizontal ? 1 : 0;\n            for (let j = start; j < series.datapoints.points.length; j += pointsize) {\n                if (isFinite(series.datapoints.points[j]) && series.datapoints.points[j] !== null) {\n                    xValues.push(series.datapoints.points[j]);\n                }\n            }\n\n            function onlyUnique(value, index, self) {\n                return self.indexOf(value) === index;\n            }\n\n            xValues = xValues.filter(onlyUnique);\n            xValues.sort(function(a, b) { return a - b });\n\n            for (let j = 1; j < xValues.length; j++) {\n                var distance = Math.abs(xValues[j] - xValues[j - 1]);\n                if (distance < minDistance && isFinite(distance)) {\n                    minDistance = distance;\n                }\n            }\n\n            if (typeof series.bars.barWidth === \"number\") {\n                series.bars.barWidth = series.bars.barWidth * minDistance;\n            } else {\n                series.bars.barWidth[0] = series.bars.barWidth[0] * minDistance;\n            }\n        }\n\n        function findNearbyItems(mouseX, mouseY, seriesFilter, radius, computeDistance) {\n            var items = findItems(mouseX, mouseY, seriesFilter, radius, computeDistance);\n            for (var i = 0; i < series.length; ++i) {\n                if (seriesFilter(i)) {\n                    executeHooks(hooks.findNearbyItems, [mouseX, mouseY, series, i, radius, computeDistance, items]);\n                }\n            }\n\n            return items.sort((a, b) => {\n                if (b.distance === undefined) {\n                    return -1;\n                } else if (a.distance === undefined && b.distance !== undefined) {\n                    return 1;\n                }\n\n                return a.distance - b.distance;\n            });\n        }\n\n        function findNearbyItem(mouseX, mouseY, seriesFilter, radius, computeDistance) {\n            var items = findNearbyItems(mouseX, mouseY, seriesFilter, radius, computeDistance);\n            return items[0] !== undefined ? items[0] : null;\n        }\n\n        // returns the data item the mouse is over/ the cursor is closest to, or null if none is found\n        function findItems(mouseX, mouseY, seriesFilter, radius, computeDistance) {\n            var i, foundItems = [],\n                items = [],\n                smallestDistance = radius * radius + 1;\n\n            for (i = series.length - 1; i >= 0; --i) {\n                if (!seriesFilter(i)) continue;\n\n                var s = series[i];\n                if (!s.datapoints) return;\n\n                var foundPoint = false;\n                if (s.lines.show || s.points.show) {\n                    var found = findNearbyPoint(s, mouseX, mouseY, radius, computeDistance);\n                    if (found) {\n                        items.push({ seriesIndex: i, dataIndex: found.dataIndex, distance: found.distance });\n                        foundPoint = true;\n                    }\n                }\n\n                if (s.bars.show && !foundPoint) { // no other point can be nearby\n                    var foundIndex = findNearbyBar(s, mouseX, mouseY);\n                    if (foundIndex >= 0) {\n                        items.push({ seriesIndex: i, dataIndex: foundIndex, distance: smallestDistance });\n                    }\n                }\n            }\n\n            for (i = 0; i < items.length; i++) {\n                var seriesIndex = items[i].seriesIndex;\n                var dataIndex = items[i].dataIndex;\n                var itemDistance = items[i].distance;\n                var ps = series[seriesIndex].datapoints.pointsize;\n\n                foundItems.push({\n                    datapoint: series[seriesIndex].datapoints.points.slice(dataIndex * ps, (dataIndex + 1) * ps),\n                    dataIndex: dataIndex,\n                    series: series[seriesIndex],\n                    seriesIndex: seriesIndex,\n                    distance: Math.sqrt(itemDistance)\n                });\n            }\n\n            return foundItems;\n        }\n\n        function findNearbyPoint (series, mouseX, mouseY, maxDistance, computeDistance) {\n            var mx = series.xaxis.c2p(mouseX),\n                my = series.yaxis.c2p(mouseY),\n                maxx = maxDistance / series.xaxis.scale,\n                maxy = maxDistance / series.yaxis.scale,\n                points = series.datapoints.points,\n                ps = series.datapoints.pointsize,\n                smallestDistance = Number.POSITIVE_INFINITY;\n\n            // with inverse transforms, we can't use the maxx/maxy\n            // optimization, sadly\n            if (series.xaxis.options.inverseTransform) {\n                maxx = Number.MAX_VALUE;\n            }\n\n            if (series.yaxis.options.inverseTransform) {\n                maxy = Number.MAX_VALUE;\n            }\n\n            var found = null;\n            for (var j = 0; j < points.length; j += ps) {\n                var x = points[j];\n                var y = points[j + 1];\n                if (x == null) {\n                    continue;\n                }\n\n                if (x - mx > maxx || x - mx < -maxx ||\n                    y - my > maxy || y - my < -maxy) {\n                    continue;\n                }\n\n                // We have to calculate distances in pixels, not in\n                // data units, because the scales of the axes may be different\n                var dx = Math.abs(series.xaxis.p2c(x) - mouseX);\n                var dy = Math.abs(series.yaxis.p2c(y) - mouseY);\n                var dist = computeDistance ? computeDistance(dx, dy) : dx * dx + dy * dy;\n\n                // use <= to ensure last point takes precedence\n                // (last generally means on top of)\n                if (dist < smallestDistance) {\n                    smallestDistance = dist;\n                    found = { dataIndex: j / ps, distance: dist };\n                }\n            }\n\n            return found;\n        }\n\n        function findNearbyBar (series, mouseX, mouseY) {\n            var barLeft, barRight,\n                barWidth = series.bars.barWidth[0] || series.bars.barWidth,\n                mx = series.xaxis.c2p(mouseX),\n                my = series.yaxis.c2p(mouseY),\n                points = series.datapoints.points,\n                ps = series.datapoints.pointsize;\n\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -barWidth;\n                    break;\n                default:\n                    barLeft = -barWidth / 2;\n            }\n\n            barRight = barLeft + barWidth;\n\n            var fillTowards = series.bars.fillTowards || 0;\n            var defaultBottom = fillTowards > series.yaxis.min ? Math.min(series.yaxis.max, fillTowards) : series.yaxis.min;\n\n            var foundIndex = -1;\n            for (var j = 0; j < points.length; j += ps) {\n                var x = points[j], y = points[j + 1];\n                if (x == null) {\n                    continue;\n                }\n\n                var bottom = ps === 3 ? points[j + 2] : defaultBottom;\n                // for a bar graph, the cursor must be inside the bar\n                if (series.bars.horizontal\n                    ? (mx <= Math.max(bottom, x) && mx >= Math.min(bottom, x) &&\n                        my >= y + barLeft && my <= y + barRight)\n                    : (mx >= x + barLeft && mx <= x + barRight &&\n                        my >= Math.min(bottom, y) && my <= Math.max(bottom, y))) {\n                    foundIndex = j / ps;\n                }\n            }\n\n            return foundIndex;\n        }\n\n        function findNearbyInterpolationPoint(posX, posY, seriesFilter) {\n            var i, j, dist, dx, dy, ps,\n                item,\n                smallestDistance = Number.MAX_VALUE;\n\n            for (i = 0; i < series.length; ++i) {\n                if (!seriesFilter(i)) {\n                    continue;\n                }\n                var points = series[i].datapoints.points;\n                ps = series[i].datapoints.pointsize;\n\n                // if the data is coming from positive -> negative, reverse the comparison\n                const comparer = points[points.length - ps] < points[0]\n                    ? function (x1, x2) { return x1 > x2 }\n                    : function (x1, x2) { return x2 > x1 };\n\n                // do not interpolate outside the bounds of the data.\n                if (comparer(posX, points[0])) {\n                    continue;\n                }\n\n                // Find the nearest points, x-wise\n                for (j = ps; j < points.length; j += ps) {\n                    if (comparer(posX, points[j])) {\n                        break;\n                    }\n                }\n\n                // Now Interpolate\n                var y,\n                    p1x = points[j - ps],\n                    p1y = points[j - ps + 1],\n                    p2x = points[j],\n                    p2y = points[j + 1];\n\n                if ((p1x === undefined) || (p2x === undefined) ||\n                    (p1y === undefined) || (p2y === undefined)) {\n                    continue;\n                }\n\n                if (p1x === p2x) {\n                    y = p2y\n                } else {\n                    y = p1y + (p2y - p1y) * (posX - p1x) / (p2x - p1x);\n                }\n\n                posY = y;\n\n                dx = Math.abs(series[i].xaxis.p2c(p2x) - posX);\n                dy = Math.abs(series[i].yaxis.p2c(p2y) - posY);\n                dist = dx * dx + dy * dy;\n\n                if (dist < smallestDistance) {\n                    smallestDistance = dist;\n                    item = [posX, posY, i, j];\n                }\n            }\n\n            if (item) {\n                i = item[2];\n                j = item[3];\n                ps = series[i].datapoints.pointsize;\n                points = series[i].datapoints.points;\n                p1x = points[j - ps];\n                p1y = points[j - ps + 1];\n                p2x = points[j];\n                p2y = points[j + 1];\n\n                return {\n                    datapoint: [item[0], item[1]],\n                    leftPoint: [p1x, p1y],\n                    rightPoint: [p2x, p2y],\n                    seriesIndex: i\n                };\n            }\n\n            return null;\n        }\n\n        function triggerRedrawOverlay() {\n            var t = options.interaction.redrawOverlayInterval;\n            if (t === -1) { // skip event queue\n                drawOverlay();\n                return;\n            }\n\n            if (!redrawTimeout) {\n                redrawTimeout = setTimeout(function() {\n                    drawOverlay(plot);\n                }, t);\n            }\n        }\n\n        function drawOverlay(plot) {\n            redrawTimeout = null;\n\n            if (!octx) {\n                return;\n            }\n            overlay.clear();\n            executeHooks(hooks.drawOverlay, [octx, overlay]);\n            var event = new CustomEvent('onDrawingDone');\n            plot.getEventHolder().dispatchEvent(event);\n            plot.getPlaceholder().trigger('drawingdone');\n        }\n\n        function getColorOrGradient(spec, bottom, top, defaultColor) {\n            if (typeof spec === \"string\") {\n                return spec;\n            } else {\n                // assume this is a gradient spec; IE currently only\n                // supports a simple vertical gradient properly, so that's\n                // what we support too\n                var gradient = ctx.createLinearGradient(0, top, 0, bottom);\n\n                for (var i = 0, l = spec.colors.length; i < l; ++i) {\n                    var c = spec.colors[i];\n                    if (typeof c !== \"string\") {\n                        var co = $.color.parse(defaultColor);\n                        if (c.brightness != null) {\n                            co = co.scale('rgb', c.brightness);\n                        }\n\n                        if (c.opacity != null) {\n                            co.a *= c.opacity;\n                        }\n\n                        c = co.toString();\n                    }\n                    gradient.addColorStop(i / (l - 1), c);\n                }\n\n                return gradient;\n            }\n        }\n    }\n\n    // Add the plot function to the top level of the jQuery object\n\n    $.plot = function(placeholder, data, options) {\n        var plot = new Plot($(placeholder), data, options, $.plot.plugins);\n        return plot;\n    };\n\n    $.plot.version = \"3.0.0\";\n\n    $.plot.plugins = [];\n\n    // Also add the plot function as a chainable property\n    $.fn.plot = function(data, options) {\n        return this.each(function() {\n            $.plot(this, data, options);\n        });\n    };\n\n    $.plot.linearTickGenerator = defaultTickGenerator;\n    $.plot.defaultTickFormatter = defaultTickFormatter;\n    $.plot.expRepTickFormatter = expRepTickFormatter;\n})(jQuery);\n","(function ($) {\n    'use strict';\n    var saturated = {\n        saturate: function (a) {\n            if (a === Infinity) {\n                return Number.MAX_VALUE;\n            }\n\n            if (a === -Infinity) {\n                return -Number.MAX_VALUE;\n            }\n\n            return a;\n        },\n        delta: function(min, max, noTicks) {\n            return ((max - min) / noTicks) === Infinity ? (max / noTicks - min / noTicks) : (max - min) / noTicks\n        },\n        multiply: function (a, b) {\n            return saturated.saturate(a * b);\n        },\n        // returns c * bInt * a. Beahves properly in the case where c is negative\n        // and bInt * a is bigger that Number.MAX_VALUE (Infinity)\n        multiplyAdd: function (a, bInt, c) {\n            if (isFinite(a * bInt)) {\n                return saturated.saturate(a * bInt + c);\n            } else {\n                var result = c;\n\n                for (var i = 0; i < bInt; i++) {\n                    result += a;\n                }\n\n                return saturated.saturate(result);\n            }\n        },\n        // round to nearby lower multiple of base\n        floorInBase: function(n, base) {\n            return base * Math.floor(n / base);\n        }\n    };\n\n    $.plot.saturated = saturated;\n})(jQuery);\n","/** ## jquery.flot.browser.js\n\nThis plugin is used to make available some browser-related utility functions.\n\n### Methods\n*/\n\n(function ($) {\n    'use strict';\n\n    var browser = {\n        /**\n        - getPageXY(e)\n\n         Calculates the pageX and pageY using the screenX, screenY properties of the event\n         and the scrolling of the page. This is needed because the pageX and pageY\n         properties of the event are not correct while running tests in Edge. */\n        getPageXY: function (e) {\n            // This code is inspired from https://stackoverflow.com/a/3464890\n            var doc = document.documentElement,\n                pageX = e.clientX + (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\n                pageY = e.clientY + (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n            return { X: pageX, Y: pageY };\n        },\n\n        /**\n        - getPixelRatio(context)\n\n         This function returns the current pixel ratio defined by the product of desktop\n         zoom and page zoom.\n         Additional info: https://www.html5rocks.com/en/tutorials/canvas/hidpi/\n        */\n        getPixelRatio: function(context) {\n            var devicePixelRatio = window.devicePixelRatio || 1,\n                backingStoreRatio =\n                context.webkitBackingStorePixelRatio ||\n                context.mozBackingStorePixelRatio ||\n                context.msBackingStorePixelRatio ||\n                context.oBackingStorePixelRatio ||\n                context.backingStorePixelRatio || 1;\n            return devicePixelRatio / backingStoreRatio;\n        },\n\n        /**\n        - isSafari, isMobileSafari, isOpera, isFirefox, isIE, isEdge, isChrome, isBlink\n\n         This is a collection of functions, used to check if the code is running in a\n         particular browser or Javascript engine.\n        */\n        isSafari: function() {\n            // *** https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n            // Safari 3.0+ \"[object HTMLElementConstructor]\"\n            return /constructor/i.test(window.top.HTMLElement) || (function (p) { return p.toString() === \"[object SafariRemoteNotification]\"; })(!window.top['safari'] || (typeof window.top.safari !== 'undefined' && window.top.safari.pushNotification));\n        },\n\n        isMobileSafari: function() {\n            //isMobileSafari adapted from https://stackoverflow.com/questions/3007480/determine-if-user-navigated-from-mobile-safari\n            return navigator.userAgent.match(/(iPod|iPhone|iPad)/) && navigator.userAgent.match(/AppleWebKit/);\n        },\n\n        isOpera: function() {\n            // *** https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n            //Opera 8.0+\n            return (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n        },\n\n        isFirefox: function() {\n            // *** https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n            // Firefox 1.0+\n            return typeof InstallTrigger !== 'undefined';\n        },\n\n        isIE: function() {\n            // *** https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n            // Internet Explorer 6-11\n            return /*@cc_on!@*/false || !!document.documentMode;\n        },\n\n        isEdge: function() {\n            // *** https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n            // Edge 20+\n            return !browser.isIE() && !!window.StyleMedia;\n        },\n\n        isChrome: function() {\n            // *** https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n            // Chrome 1+\n            return !!window.chrome && !!window.chrome.webstore;\n        },\n\n        isBlink: function() {\n            // *** https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n            return (browser.isChrome() || browser.isOpera()) && !!window.CSS;\n        }\n    };\n\n    $.plot.browser = browser;\n})(jQuery);\n","/**\n## jquery.flot.drawSeries.js\n\nThis plugin is used by flot for drawing lines, plots, bars or area.\n\n### Public methods\n*/\n\n(function($) {\n    \"use strict\";\n\n    function DrawSeries() {\n        function plotLine(datapoints, xoffset, yoffset, axisx, axisy, ctx, steps) {\n            var points = datapoints.points,\n                ps = datapoints.pointsize,\n                prevx = null,\n                prevy = null;\n            var x1 = 0.0,\n                y1 = 0.0,\n                x2 = 0.0,\n                y2 = 0.0,\n                mx = null,\n                my = null,\n                i = 0;\n\n            ctx.beginPath();\n            for (i = ps; i < points.length; i += ps) {\n                x1 = points[i - ps];\n                y1 = points[i - ps + 1];\n                x2 = points[i];\n                y2 = points[i + 1];\n\n                if (x1 === null || x2 === null) {\n                    mx = null;\n                    my = null;\n                    continue;\n                }\n\n                if (isNaN(x1) || isNaN(x2) || isNaN(y1) || isNaN(y2)) {\n                    prevx = null;\n                    prevy = null;\n                    continue;\n                }\n\n                if (steps) {\n                    if (mx !== null && my !== null) {\n                        // if middle point exists, transfer p2 -> p1 and p1 -> mp\n                        x2 = x1;\n                        y2 = y1;\n                        x1 = mx;\n                        y1 = my;\n\n                        // 'remove' middle point\n                        mx = null;\n                        my = null;\n\n                        // subtract pointsize from i to have current point p1 handled again\n                        i -= ps;\n                    } else if (y1 !== y2 && x1 !== x2) {\n                        // create a middle point\n                        y2 = y1;\n                        mx = x2;\n                        my = y1;\n                    }\n                }\n\n                // clip with ymin\n                if (y1 <= y2 && y1 < axisy.min) {\n                    if (y2 < axisy.min) {\n                        // line segment is outside\n                        continue;\n                    }\n                    // compute new intersection point\n                    x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                    y1 = axisy.min;\n                } else if (y2 <= y1 && y2 < axisy.min) {\n                    if (y1 < axisy.min) {\n                        continue;\n                    }\n\n                    x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                    y2 = axisy.min;\n                }\n\n                // clip with ymax\n                if (y1 >= y2 && y1 > axisy.max) {\n                    if (y2 > axisy.max) {\n                        continue;\n                    }\n\n                    x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                    y1 = axisy.max;\n                } else if (y2 >= y1 && y2 > axisy.max) {\n                    if (y1 > axisy.max) {\n                        continue;\n                    }\n\n                    x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                    y2 = axisy.max;\n                }\n\n                // clip with xmin\n                if (x1 <= x2 && x1 < axisx.min) {\n                    if (x2 < axisx.min) {\n                        continue;\n                    }\n\n                    y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                    x1 = axisx.min;\n                } else if (x2 <= x1 && x2 < axisx.min) {\n                    if (x1 < axisx.min) {\n                        continue;\n                    }\n\n                    y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                    x2 = axisx.min;\n                }\n\n                // clip with xmax\n                if (x1 >= x2 && x1 > axisx.max) {\n                    if (x2 > axisx.max) {\n                        continue;\n                    }\n\n                    y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                    x1 = axisx.max;\n                } else if (x2 >= x1 && x2 > axisx.max) {\n                    if (x1 > axisx.max) {\n                        continue;\n                    }\n\n                    y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                    x2 = axisx.max;\n                }\n\n                if (x1 !== prevx || y1 !== prevy) {\n                    ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);\n                }\n\n                prevx = x2;\n                prevy = y2;\n                ctx.lineTo(axisx.p2c(x2) + xoffset, axisy.p2c(y2) + yoffset);\n            }\n            ctx.stroke();\n        }\n\n        function plotLineArea(datapoints, axisx, axisy, fillTowards, ctx, steps) {\n            var points = datapoints.points,\n                ps = datapoints.pointsize,\n                bottom = fillTowards > axisy.min ? Math.min(axisy.max, fillTowards) : axisy.min,\n                i = 0,\n                ypos = 1,\n                areaOpen = false,\n                segmentStart = 0,\n                segmentEnd = 0,\n                mx = null,\n                my = null;\n\n            // we process each segment in two turns, first forward\n            // direction to sketch out top, then once we hit the\n            // end we go backwards to sketch the bottom\n            while (true) {\n                if (ps > 0 && i > points.length + ps) {\n                    break;\n                }\n\n                i += ps; // ps is negative if going backwards\n\n                var x1 = points[i - ps],\n                    y1 = points[i - ps + ypos],\n                    x2 = points[i],\n                    y2 = points[i + ypos];\n\n                if (ps === -2) {\n                    /* going backwards and no value for the bottom provided in the series*/\n                    y1 = y2 = bottom;\n                }\n\n                if (areaOpen) {\n                    if (ps > 0 && x1 != null && x2 == null) {\n                        // at turning point\n                        segmentEnd = i;\n                        ps = -ps;\n                        ypos = 2;\n                        continue;\n                    }\n\n                    if (ps < 0 && i === segmentStart + ps) {\n                        // done with the reverse sweep\n                        ctx.fill();\n                        areaOpen = false;\n                        ps = -ps;\n                        ypos = 1;\n                        i = segmentStart = segmentEnd + ps;\n                        continue;\n                    }\n                }\n\n                if (x1 == null || x2 == null) {\n                    mx = null;\n                    my = null;\n                    continue;\n                }\n\n                if (steps) {\n                    if (mx !== null && my !== null) {\n                        // if middle point exists, transfer p2 -> p1 and p1 -> mp\n                        x2 = x1;\n                        y2 = y1;\n                        x1 = mx;\n                        y1 = my;\n\n                        // 'remove' middle point\n                        mx = null;\n                        my = null;\n\n                        // subtract pointsize from i to have current point p1 handled again\n                        i -= ps;\n                    } else if (y1 !== y2 && x1 !== x2) {\n                        // create a middle point\n                        y2 = y1;\n                        mx = x2;\n                        my = y1;\n                    }\n                }\n\n                // clip x values\n\n                // clip with xmin\n                if (x1 <= x2 && x1 < axisx.min) {\n                    if (x2 < axisx.min) {\n                        continue;\n                    }\n\n                    y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                    x1 = axisx.min;\n                } else if (x2 <= x1 && x2 < axisx.min) {\n                    if (x1 < axisx.min) {\n                        continue;\n                    }\n\n                    y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                    x2 = axisx.min;\n                }\n\n                // clip with xmax\n                if (x1 >= x2 && x1 > axisx.max) {\n                    if (x2 > axisx.max) {\n                        continue;\n                    }\n\n                    y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                    x1 = axisx.max;\n                } else if (x2 >= x1 && x2 > axisx.max) {\n                    if (x1 > axisx.max) {\n                        continue;\n                    }\n\n                    y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                    x2 = axisx.max;\n                }\n\n                if (!areaOpen) {\n                    // open area\n                    ctx.beginPath();\n                    ctx.moveTo(axisx.p2c(x1), axisy.p2c(bottom));\n                    areaOpen = true;\n                }\n\n                // now first check the case where both is outside\n                if (y1 >= axisy.max && y2 >= axisy.max) {\n                    ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.max));\n                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.max));\n                    continue;\n                } else if (y1 <= axisy.min && y2 <= axisy.min) {\n                    ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.min));\n                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.min));\n                    continue;\n                }\n\n                // else it's a bit more complicated, there might\n                // be a flat maxed out rectangle first, then a\n                // triangular cutout or reverse; to find these\n                // keep track of the current x values\n                var x1old = x1,\n                    x2old = x2;\n\n                // clip the y values, without shortcutting, we\n                // go through all cases in turn\n\n                // clip with ymin\n                if (y1 <= y2 && y1 < axisy.min && y2 >= axisy.min) {\n                    x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                    y1 = axisy.min;\n                } else if (y2 <= y1 && y2 < axisy.min && y1 >= axisy.min) {\n                    x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                    y2 = axisy.min;\n                }\n\n                // clip with ymax\n                if (y1 >= y2 && y1 > axisy.max && y2 <= axisy.max) {\n                    x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                    y1 = axisy.max;\n                } else if (y2 >= y1 && y2 > axisy.max && y1 <= axisy.max) {\n                    x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                    y2 = axisy.max;\n                }\n\n                // if the x value was changed we got a rectangle\n                // to fill\n                if (x1 !== x1old) {\n                    ctx.lineTo(axisx.p2c(x1old), axisy.p2c(y1));\n                    // it goes to (x1, y1), but we fill that below\n                }\n\n                // fill triangular section, this sometimes result\n                // in redundant points if (x1, y1) hasn't changed\n                // from previous line to, but we just ignore that\n                ctx.lineTo(axisx.p2c(x1), axisy.p2c(y1));\n                ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n\n                // fill the other rectangle if it's there\n                if (x2 !== x2old) {\n                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n                    ctx.lineTo(axisx.p2c(x2old), axisy.p2c(y2));\n                }\n            }\n        }\n\n        /**\n        - drawSeriesLines(series, ctx, plotOffset, plotWidth, plotHeight, drawSymbol, getColorOrGradient)\n\n         This function is used for drawing lines or area fill.  In case the series has line decimation function\n         attached, before starting to draw, as an optimization the points will first be decimated.\n\n         The series parameter contains the series to be drawn on ctx context. The plotOffset, plotWidth and\n         plotHeight are the corresponding parameters of flot used to determine the drawing surface.\n         The function getColorOrGradient is used to compute the fill style of lines and area.\n        */\n        function drawSeriesLines(series, ctx, plotOffset, plotWidth, plotHeight, drawSymbol, getColorOrGradient) {\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n            ctx.lineJoin = \"round\";\n\n            if (series.lines.dashes && ctx.setLineDash) {\n                ctx.setLineDash(series.lines.dashes);\n            }\n\n            var datapoints = {\n                format: series.datapoints.format,\n                points: series.datapoints.points,\n                pointsize: series.datapoints.pointsize\n            };\n\n            if (series.decimate) {\n                datapoints.points = series.decimate(series, series.xaxis.min, series.xaxis.max, plotWidth, series.yaxis.min, series.yaxis.max, plotHeight);\n            }\n\n            var lw = series.lines.lineWidth;\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            var fillStyle = getFillStyle(series.lines, series.color, 0, plotHeight, getColorOrGradient);\n            if (fillStyle) {\n                ctx.fillStyle = fillStyle;\n                plotLineArea(datapoints, series.xaxis, series.yaxis, series.lines.fillTowards || 0, ctx, series.lines.steps);\n            }\n\n            if (lw > 0) {\n                plotLine(datapoints, 0, 0, series.xaxis, series.yaxis, ctx, series.lines.steps);\n            }\n\n            ctx.restore();\n        }\n\n        /**\n        - drawSeriesPoints(series, ctx, plotOffset, plotWidth, plotHeight, drawSymbol, getColorOrGradient)\n\n         This function is used for drawing points using a given symbol. In case the series has points decimation\n         function attached, before starting to draw, as an optimization the points will first be decimated.\n\n         The series parameter contains the series to be drawn on ctx context. The plotOffset, plotWidth and\n         plotHeight are the corresponding parameters of flot used to determine the drawing surface.\n         The function drawSymbol is used to compute and draw the symbol chosen for the points.\n        */\n        function drawSeriesPoints(series, ctx, plotOffset, plotWidth, plotHeight, drawSymbol, getColorOrGradient) {\n            function drawCircle(ctx, x, y, radius, shadow, fill) {\n                ctx.moveTo(x + radius, y);\n                ctx.arc(x, y, radius, 0, shadow ? Math.PI : Math.PI * 2, false);\n            }\n            drawCircle.fill = true;\n            function plotPoints(datapoints, radius, fill, offset, shadow, axisx, axisy, drawSymbolFn) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize;\n\n                ctx.beginPath();\n                for (var i = 0; i < points.length; i += ps) {\n                    var x = points[i],\n                        y = points[i + 1];\n                    if (x == null || x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max) {\n                        continue;\n                    }\n\n                    x = axisx.p2c(x);\n                    y = axisy.p2c(y) + offset;\n\n                    drawSymbolFn(ctx, x, y, radius, shadow, fill);\n                }\n                if (drawSymbolFn.fill && !shadow) {\n                    ctx.fill();\n                }\n                ctx.stroke();\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            var datapoints = {\n                format: series.datapoints.format,\n                points: series.datapoints.points,\n                pointsize: series.datapoints.pointsize\n            };\n\n            if (series.decimatePoints) {\n                datapoints.points = series.decimatePoints(series, series.xaxis.min, series.xaxis.max, plotWidth, series.yaxis.min, series.yaxis.max, plotHeight);\n            }\n\n            var lw = series.points.lineWidth,\n                radius = series.points.radius,\n                symbol = series.points.symbol,\n                drawSymbolFn;\n\n            if (symbol === 'circle') {\n                drawSymbolFn = drawCircle;\n            } else if (typeof symbol === 'string' && drawSymbol && drawSymbol[symbol]) {\n                drawSymbolFn = drawSymbol[symbol];\n            } else if (typeof drawSymbol === 'function') {\n                drawSymbolFn = drawSymbol;\n            }\n\n            // If the user sets the line width to 0, we change it to a very\n            // small value. A line width of 0 seems to force the default of 1.\n\n            if (lw === 0) {\n                lw = 0.0001;\n            }\n\n            ctx.lineWidth = lw;\n            ctx.fillStyle = getFillStyle(series.points, series.color, null, null, getColorOrGradient);\n            ctx.strokeStyle = series.color;\n            plotPoints(datapoints, radius,\n                true, 0, false,\n                series.xaxis, series.yaxis, drawSymbolFn);\n            ctx.restore();\n        }\n\n        function drawBar(x, y, b, barLeft, barRight, fillStyleCallback, axisx, axisy, c, horizontal, lineWidth) {\n            var left = x + barLeft,\n                right = x + barRight,\n                bottom = b, top = y,\n                drawLeft, drawRight, drawTop, drawBottom = false,\n                tmp;\n\n            drawLeft = drawRight = drawTop = true;\n\n            // in horizontal mode, we start the bar from the left\n            // instead of from the bottom so it appears to be\n            // horizontal rather than vertical\n            if (horizontal) {\n                drawBottom = drawRight = drawTop = true;\n                drawLeft = false;\n                left = b;\n                right = x;\n                top = y + barLeft;\n                bottom = y + barRight;\n\n                // account for negative bars\n                if (right < left) {\n                    tmp = right;\n                    right = left;\n                    left = tmp;\n                    drawLeft = true;\n                    drawRight = false;\n                }\n            } else {\n                drawLeft = drawRight = drawTop = true;\n                drawBottom = false;\n                left = x + barLeft;\n                right = x + barRight;\n                bottom = b;\n                top = y;\n\n                // account for negative bars\n                if (top < bottom) {\n                    tmp = top;\n                    top = bottom;\n                    bottom = tmp;\n                    drawBottom = true;\n                    drawTop = false;\n                }\n            }\n\n            // clip\n            if (right < axisx.min || left > axisx.max ||\n                top < axisy.min || bottom > axisy.max) {\n                return;\n            }\n\n            if (left < axisx.min) {\n                left = axisx.min;\n                drawLeft = false;\n            }\n\n            if (right > axisx.max) {\n                right = axisx.max;\n                drawRight = false;\n            }\n\n            if (bottom < axisy.min) {\n                bottom = axisy.min;\n                drawBottom = false;\n            }\n\n            if (top > axisy.max) {\n                top = axisy.max;\n                drawTop = false;\n            }\n\n            left = axisx.p2c(left);\n            bottom = axisy.p2c(bottom);\n            right = axisx.p2c(right);\n            top = axisy.p2c(top);\n\n            // fill the bar\n            if (fillStyleCallback) {\n                c.fillStyle = fillStyleCallback(bottom, top);\n                c.fillRect(left, top, right - left, bottom - top)\n            }\n\n            // draw outline\n            if (lineWidth > 0 && (drawLeft || drawRight || drawTop || drawBottom)) {\n                c.beginPath();\n\n                // FIXME: inline moveTo is buggy with excanvas\n                c.moveTo(left, bottom);\n                if (drawLeft) {\n                    c.lineTo(left, top);\n                } else {\n                    c.moveTo(left, top);\n                }\n\n                if (drawTop) {\n                    c.lineTo(right, top);\n                } else {\n                    c.moveTo(right, top);\n                }\n\n                if (drawRight) {\n                    c.lineTo(right, bottom);\n                } else {\n                    c.moveTo(right, bottom);\n                }\n\n                if (drawBottom) {\n                    c.lineTo(left, bottom);\n                } else {\n                    c.moveTo(left, bottom);\n                }\n\n                c.stroke();\n            }\n        }\n\n        /**\n        - drawSeriesBars(series, ctx, plotOffset, plotWidth, plotHeight, drawSymbol, getColorOrGradient)\n\n         This function is used for drawing series represented as bars. In case the series has decimation\n         function attached, before starting to draw, as an optimization the points will first be decimated.\n\n         The series parameter contains the series to be drawn on ctx context. The plotOffset, plotWidth and\n         plotHeight are the corresponding parameters of flot used to determine the drawing surface.\n         The function getColorOrGradient is used to compute the fill style of bars.\n        */\n        function drawSeriesBars(series, ctx, plotOffset, plotWidth, plotHeight, drawSymbol, getColorOrGradient) {\n            function plotBars(datapoints, barLeft, barRight, fillStyleCallback, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    fillTowards = series.bars.fillTowards || 0,\n                    defaultBottom = fillTowards > axisy.min ? Math.min(axisy.max, fillTowards) : axisy.min;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    if (points[i] == null) {\n                        continue;\n                    }\n\n                    // Use third point as bottom if pointsize is 3\n                    var bottom = ps === 3 ? points[i + 2] : defaultBottom;\n                    drawBar(points[i], points[i + 1], bottom, barLeft, barRight, fillStyleCallback, axisx, axisy, ctx, series.bars.horizontal, series.bars.lineWidth);\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            var datapoints = {\n                format: series.datapoints.format,\n                points: series.datapoints.points,\n                pointsize: series.datapoints.pointsize\n            };\n\n            if (series.decimate) {\n                datapoints.points = series.decimate(series, series.xaxis.min, series.xaxis.max, plotWidth);\n            }\n\n            ctx.lineWidth = series.bars.lineWidth;\n            ctx.strokeStyle = series.color;\n\n            var barLeft;\n            var barWidth = series.bars.barWidth[0] || series.bars.barWidth;\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -barWidth;\n                    break;\n                default:\n                    barLeft = -barWidth / 2;\n            }\n\n            var fillStyleCallback = series.bars.fill ? function(bottom, top) {\n                return getFillStyle(series.bars, series.color, bottom, top, getColorOrGradient);\n            } : null;\n\n            plotBars(datapoints, barLeft, barLeft + barWidth, fillStyleCallback, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function getFillStyle(filloptions, seriesColor, bottom, top, getColorOrGradient) {\n            var fill = filloptions.fill;\n            if (!fill) {\n                return null;\n            }\n\n            if (filloptions.fillColor) {\n                return getColorOrGradient(filloptions.fillColor, bottom, top, seriesColor);\n            }\n\n            var c = $.color.parse(seriesColor);\n            c.a = typeof fill === \"number\" ? fill : 0.4;\n            c.normalize();\n            return c.toString();\n        }\n\n        this.drawSeriesLines = drawSeriesLines;\n        this.drawSeriesPoints = drawSeriesPoints;\n        this.drawSeriesBars = drawSeriesBars;\n        this.drawBar = drawBar;\n    };\n\n    $.plot.drawSeries = new DrawSeries();\n})(jQuery);\n","/* Flot plugin for plotting error bars.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nError bars are used to show standard deviation and other statistical\nproperties in a plot.\n\n* Created by Rui Pereira  -  rui (dot) pereira (at) gmail (dot) com\n\nThis plugin allows you to plot error-bars over points. Set \"errorbars\" inside\nthe points series to the axis name over which there will be error values in\nyour data array (*even* if you do not intend to plot them later, by setting\n\"show: null\" on xerr/yerr).\n\nThe plugin supports these options:\n\n    series: {\n        points: {\n            errorbars: \"x\" or \"y\" or \"xy\",\n            xerr: {\n                show: null/false or true,\n                asymmetric: null/false or true,\n                upperCap: null or \"-\" or function,\n                lowerCap: null or \"-\" or function,\n                color: null or color,\n                radius: null or number\n            },\n            yerr: { same options as xerr }\n        }\n    }\n\nEach data point array is expected to be of the type:\n\n    \"x\"  [ x, y, xerr ]\n    \"y\"  [ x, y, yerr ]\n    \"xy\" [ x, y, xerr, yerr ]\n\nWhere xerr becomes xerr_lower,xerr_upper for the asymmetric error case, and\nequivalently for yerr. Eg., a datapoint for the \"xy\" case with symmetric\nerror-bars on X and asymmetric on Y would be:\n\n    [ x, y, xerr, yerr_lower, yerr_upper ]\n\nBy default no end caps are drawn. Setting upperCap and/or lowerCap to \"-\" will\ndraw a small cap perpendicular to the error bar. They can also be set to a\nuser-defined drawing function, with (ctx, x, y, radius) as parameters, as eg.\n\n    function drawSemiCircle( ctx, x, y, radius ) {\n        ctx.beginPath();\n        ctx.arc( x, y, radius, 0, Math.PI, false );\n        ctx.moveTo( x - radius, y );\n        ctx.lineTo( x + radius, y );\n        ctx.stroke();\n    }\n\nColor and radius both default to the same ones of the points series if not\nset. The independent radius parameter on xerr/yerr is useful for the case when\nwe may want to add error-bars to a line, without showing the interconnecting\npoints (with radius: 0), and still showing end caps on the error-bars.\nshadowSize and lineWidth are derived as well from the points series.\n\n*/\n\n(function ($) {\n    var options = {\n        series: {\n            points: {\n                errorbars: null, //should be 'x', 'y' or 'xy'\n                xerr: {err: 'x', show: null, asymmetric: null, upperCap: null, lowerCap: null, color: null, radius: null},\n                yerr: {err: 'y', show: null, asymmetric: null, upperCap: null, lowerCap: null, color: null, radius: null}\n            }\n        }\n    };\n\n    function processRawData(plot, series, data, datapoints) {\n        if (!series.points.errorbars) {\n            return;\n        }\n\n        // x,y values\n        var format = [\n            { x: true, number: true, required: true },\n            { y: true, number: true, required: true }\n        ];\n\n        var errors = series.points.errorbars;\n        // error bars - first X then Y\n        if (errors === 'x' || errors === 'xy') {\n            // lower / upper error\n            if (series.points.xerr.asymmetric) {\n                format.push({ x: true, number: true, required: true });\n                format.push({ x: true, number: true, required: true });\n            } else {\n                format.push({ x: true, number: true, required: true });\n            }\n        }\n        if (errors === 'y' || errors === 'xy') {\n            // lower / upper error\n            if (series.points.yerr.asymmetric) {\n                format.push({ y: true, number: true, required: true });\n                format.push({ y: true, number: true, required: true });\n            } else {\n                format.push({ y: true, number: true, required: true });\n            }\n        }\n        datapoints.format = format;\n    }\n\n    function parseErrors(series, i) {\n        var points = series.datapoints.points;\n\n        // read errors from points array\n        var exl = null,\n            exu = null,\n            eyl = null,\n            eyu = null;\n        var xerr = series.points.xerr,\n            yerr = series.points.yerr;\n\n        var eb = series.points.errorbars;\n        // error bars - first X\n        if (eb === 'x' || eb === 'xy') {\n            if (xerr.asymmetric) {\n                exl = points[i + 2];\n                exu = points[i + 3];\n                if (eb === 'xy') {\n                    if (yerr.asymmetric) {\n                        eyl = points[i + 4];\n                        eyu = points[i + 5];\n                    } else {\n                        eyl = points[i + 4];\n                    }\n                }\n            } else {\n                exl = points[i + 2];\n                if (eb === 'xy') {\n                    if (yerr.asymmetric) {\n                        eyl = points[i + 3];\n                        eyu = points[i + 4];\n                    } else {\n                        eyl = points[i + 3];\n                    }\n                }\n            }\n        // only Y\n        } else {\n            if (eb === 'y') {\n                if (yerr.asymmetric) {\n                    eyl = points[i + 2];\n                    eyu = points[i + 3];\n                } else {\n                    eyl = points[i + 2];\n                }\n            }\n        }\n\n        // symmetric errors?\n        if (exu == null) exu = exl;\n        if (eyu == null) eyu = eyl;\n\n        var errRanges = [exl, exu, eyl, eyu];\n        // nullify if not showing\n        if (!xerr.show) {\n            errRanges[0] = null;\n            errRanges[1] = null;\n        }\n        if (!yerr.show) {\n            errRanges[2] = null;\n            errRanges[3] = null;\n        }\n        return errRanges;\n    }\n\n    function drawSeriesErrors(plot, ctx, s) {\n        var points = s.datapoints.points,\n            ps = s.datapoints.pointsize,\n            ax = [s.xaxis, s.yaxis],\n            radius = s.points.radius,\n            err = [s.points.xerr, s.points.yerr],\n            tmp;\n\n        //sanity check, in case some inverted axis hack is applied to flot\n        var invertX = false;\n        if (ax[0].p2c(ax[0].max) < ax[0].p2c(ax[0].min)) {\n            invertX = true;\n            tmp = err[0].lowerCap;\n            err[0].lowerCap = err[0].upperCap;\n            err[0].upperCap = tmp;\n        }\n\n        var invertY = false;\n        if (ax[1].p2c(ax[1].min) < ax[1].p2c(ax[1].max)) {\n            invertY = true;\n            tmp = err[1].lowerCap;\n            err[1].lowerCap = err[1].upperCap;\n            err[1].upperCap = tmp;\n        }\n\n        for (var i = 0; i < s.datapoints.points.length; i += ps) {\n            //parse\n            var errRanges = parseErrors(s, i);\n\n            //cycle xerr & yerr\n            for (var e = 0; e < err.length; e++) {\n                var minmax = [ax[e].min, ax[e].max];\n\n                //draw this error?\n                if (errRanges[e * err.length]) {\n                    //data coordinates\n                    var x = points[i],\n                        y = points[i + 1];\n\n                    //errorbar ranges\n                    var upper = [x, y][e] + errRanges[e * err.length + 1],\n                        lower = [x, y][e] - errRanges[e * err.length];\n\n                    //points outside of the canvas\n                    if (err[e].err === 'x') {\n                        if (y > ax[1].max || y < ax[1].min || upper < ax[0].min || lower > ax[0].max) {\n                            continue;\n                        }\n                    }\n\n                    if (err[e].err === 'y') {\n                        if (x > ax[0].max || x < ax[0].min || upper < ax[1].min || lower > ax[1].max) {\n                            continue;\n                        }\n                    }\n\n                    // prevent errorbars getting out of the canvas\n                    var drawUpper = true,\n                        drawLower = true;\n\n                    if (upper > minmax[1]) {\n                        drawUpper = false;\n                        upper = minmax[1];\n                    }\n                    if (lower < minmax[0]) {\n                        drawLower = false;\n                        lower = minmax[0];\n                    }\n\n                    //sanity check, in case some inverted axis hack is applied to flot\n                    if ((err[e].err === 'x' && invertX) || (err[e].err === 'y' && invertY)) {\n                        //swap coordinates\n                        tmp = lower;\n                        lower = upper;\n                        upper = tmp;\n                        tmp = drawLower;\n                        drawLower = drawUpper;\n                        drawUpper = tmp;\n                        tmp = minmax[0];\n                        minmax[0] = minmax[1];\n                        minmax[1] = tmp;\n                    }\n\n                    // convert to pixels\n                    x = ax[0].p2c(x);\n                    y = ax[1].p2c(y);\n                    upper = ax[e].p2c(upper);\n                    lower = ax[e].p2c(lower);\n                    minmax[0] = ax[e].p2c(minmax[0]);\n                    minmax[1] = ax[e].p2c(minmax[1]);\n\n                    //same style as points by default\n                    var lw = err[e].lineWidth ? err[e].lineWidth : s.points.lineWidth,\n                        sw = s.points.shadowSize != null ? s.points.shadowSize : s.shadowSize;\n\n                    //shadow as for points\n                    if (lw > 0 && sw > 0) {\n                        var w = sw / 2;\n                        ctx.lineWidth = w;\n                        ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                        drawError(ctx, err[e], x, y, upper, lower, drawUpper, drawLower, radius, w + w / 2, minmax);\n\n                        ctx.strokeStyle = \"rgba(0,0,0,0.2)\";\n                        drawError(ctx, err[e], x, y, upper, lower, drawUpper, drawLower, radius, w / 2, minmax);\n                    }\n\n                    ctx.strokeStyle = err[e].color\n                        ? err[e].color\n                        : s.color;\n                    ctx.lineWidth = lw;\n                    //draw it\n                    drawError(ctx, err[e], x, y, upper, lower, drawUpper, drawLower, radius, 0, minmax);\n                }\n            }\n        }\n    }\n\n    function drawError(ctx, err, x, y, upper, lower, drawUpper, drawLower, radius, offset, minmax) {\n        //shadow offset\n        y += offset;\n        upper += offset;\n        lower += offset;\n\n        // error bar - avoid plotting over circles\n        if (err.err === 'x') {\n            if (upper > x + radius) drawPath(ctx, [[upper, y], [Math.max(x + radius, minmax[0]), y]]);\n            else drawUpper = false;\n\n            if (lower < x - radius) drawPath(ctx, [[Math.min(x - radius, minmax[1]), y], [lower, y]]);\n            else drawLower = false;\n        } else {\n            if (upper < y - radius) drawPath(ctx, [[x, upper], [x, Math.min(y - radius, minmax[0])]]);\n            else drawUpper = false;\n\n            if (lower > y + radius) drawPath(ctx, [[x, Math.max(y + radius, minmax[1])], [x, lower]]);\n            else drawLower = false;\n        }\n\n        //internal radius value in errorbar, allows to plot radius 0 points and still keep proper sized caps\n        //this is a way to get errorbars on lines without visible connecting dots\n        radius = err.radius != null\n            ? err.radius\n            : radius;\n\n        // upper cap\n        if (drawUpper) {\n            if (err.upperCap === '-') {\n                if (err.err === 'x') drawPath(ctx, [[upper, y - radius], [upper, y + radius]]);\n                else drawPath(ctx, [[x - radius, upper], [x + radius, upper]]);\n            } else if ($.isFunction(err.upperCap)) {\n                if (err.err === 'x') err.upperCap(ctx, upper, y, radius);\n                else err.upperCap(ctx, x, upper, radius);\n            }\n        }\n        // lower cap\n        if (drawLower) {\n            if (err.lowerCap === '-') {\n                if (err.err === 'x') drawPath(ctx, [[lower, y - radius], [lower, y + radius]]);\n                else drawPath(ctx, [[x - radius, lower], [x + radius, lower]]);\n            } else if ($.isFunction(err.lowerCap)) {\n                if (err.err === 'x') err.lowerCap(ctx, lower, y, radius);\n                else err.lowerCap(ctx, x, lower, radius);\n            }\n        }\n    }\n\n    function drawPath(ctx, pts) {\n        ctx.beginPath();\n        ctx.moveTo(pts[0][0], pts[0][1]);\n        for (var p = 1; p < pts.length; p++) {\n            ctx.lineTo(pts[p][0], pts[p][1]);\n        }\n\n        ctx.stroke();\n    }\n\n    function draw(plot, ctx) {\n        var plotOffset = plot.getPlotOffset();\n\n        ctx.save();\n        ctx.translate(plotOffset.left, plotOffset.top);\n        $.each(plot.getData(), function (i, s) {\n            if (s.points.errorbars && (s.points.xerr.show || s.points.yerr.show)) {\n                drawSeriesErrors(plot, ctx, s);\n            }\n        });\n        ctx.restore();\n    }\n\n    function init(plot) {\n        plot.hooks.processRawData.push(processRawData);\n        plot.hooks.draw.push(draw);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'errorbars',\n        version: '1.0'\n    });\n})(jQuery);\n","(function ($) {\n    'use strict';\n    $.plot.uiConstants = {\n        SNAPPING_CONSTANT: 20,\n        PANHINT_LENGTH_CONSTANT: 10,\n        MINOR_TICKS_COUNT_CONSTANT: 4,\n        TICK_LENGTH_CONSTANT: 10,\n        ZOOM_DISTANCE_MARGIN: 25\n    };\n})(jQuery);\n","/* Pretty handling of log axes.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nCopyright (c) 2015 Ciprian Ceteras cipix2000@gmail.com.\nCopyright (c) 2017 Raluca Portase\nLicensed under the MIT license.\n\nSet axis.mode to \"log\" to enable.\n*/\n\n/* global jQuery*/\n\n/**\n## jquery.flot.logaxis\nThis plugin is used to create logarithmic axis. This includes tick generation,\nformatters and transformers to and from logarithmic representation.\n\n### Methods and hooks\n*/\n\n(function ($) {\n    'use strict';\n\n    var options = {\n        xaxis: {}\n    };\n\n    /*tick generators and formatters*/\n    var PREFERRED_LOG_TICK_VALUES = computePreferedLogTickValues(Number.MAX_VALUE, 10),\n        EXTENDED_LOG_TICK_VALUES = computePreferedLogTickValues(Number.MAX_VALUE, 4);\n\n    function computePreferedLogTickValues(endLimit, rangeStep) {\n        var log10End = Math.floor(Math.log(endLimit) * Math.LOG10E) - 1,\n            log10Start = -log10End,\n            val, range, vals = [];\n\n        for (var power = log10Start; power <= log10End; power++) {\n            range = parseFloat('1e' + power);\n            for (var mult = 1; mult < 9; mult += rangeStep) {\n                val = range * mult;\n                vals.push(val);\n            }\n        }\n        return vals;\n    }\n\n    /**\n    - logTickGenerator(plot, axis, noTicks)\n\n    Generates logarithmic ticks, depending on axis range.\n    In case the number of ticks that can be generated is less than the expected noTicks/4,\n    a linear tick generation is used.\n    */\n    var logTickGenerator = function (plot, axis, noTicks) {\n        var ticks = [],\n            minIdx = -1,\n            maxIdx = -1,\n            surface = plot.getCanvas(),\n            logTickValues = PREFERRED_LOG_TICK_VALUES,\n            min = clampAxis(axis, plot),\n            max = axis.max;\n\n        if (!noTicks) {\n            noTicks = 0.3 * Math.sqrt(axis.direction === \"x\" ? surface.width : surface.height);\n        }\n\n        PREFERRED_LOG_TICK_VALUES.some(function (val, i) {\n            if (val >= min) {\n                minIdx = i;\n                return true;\n            } else {\n                return false;\n            }\n        });\n\n        PREFERRED_LOG_TICK_VALUES.some(function (val, i) {\n            if (val >= max) {\n                maxIdx = i;\n                return true;\n            } else {\n                return false;\n            }\n        });\n\n        if (maxIdx === -1) {\n            maxIdx = PREFERRED_LOG_TICK_VALUES.length - 1;\n        }\n\n        if (maxIdx - minIdx <= noTicks / 4 && logTickValues.length !== EXTENDED_LOG_TICK_VALUES.length) {\n            //try with multiple of 5 for tick values\n            logTickValues = EXTENDED_LOG_TICK_VALUES;\n            minIdx *= 2;\n            maxIdx *= 2;\n        }\n\n        var lastDisplayed = null,\n            inverseNoTicks = 1 / noTicks,\n            tickValue, pixelCoord, tick;\n\n        // Count the number of tick values would appear, if we can get at least\n        // nTicks / 4 accept them.\n        if (maxIdx - minIdx >= noTicks / 4) {\n            for (var idx = maxIdx; idx >= minIdx; idx--) {\n                tickValue = logTickValues[idx];\n                pixelCoord = (Math.log(tickValue) - Math.log(min)) / (Math.log(max) - Math.log(min));\n                tick = tickValue;\n\n                if (lastDisplayed === null) {\n                    lastDisplayed = {\n                        pixelCoord: pixelCoord,\n                        idealPixelCoord: pixelCoord\n                    };\n                } else {\n                    if (Math.abs(pixelCoord - lastDisplayed.pixelCoord) >= inverseNoTicks) {\n                        lastDisplayed = {\n                            pixelCoord: pixelCoord,\n                            idealPixelCoord: lastDisplayed.idealPixelCoord - inverseNoTicks\n                        };\n                    } else {\n                        tick = null;\n                    }\n                }\n\n                if (tick) {\n                    ticks.push(tick);\n                }\n            }\n            // Since we went in backwards order.\n            ticks.reverse();\n        } else {\n            var tickSize = plot.computeTickSize(min, max, noTicks),\n                customAxis = {min: min, max: max, tickSize: tickSize};\n            ticks = $.plot.linearTickGenerator(customAxis);\n        }\n\n        return ticks;\n    };\n\n    var clampAxis = function (axis, plot) {\n        var min = axis.min,\n            max = axis.max;\n\n        if (min <= 0) {\n            //for empty graph if axis.min is not strictly positive make it 0.1\n            if (axis.datamin === null) {\n                min = axis.min = 0.1;\n            } else {\n                min = processAxisOffset(plot, axis);\n            }\n\n            if (max < min) {\n                axis.max = axis.datamax !== null ? axis.datamax : axis.options.max;\n                axis.options.offset.below = 0;\n                axis.options.offset.above = 0;\n            }\n        }\n\n        return min;\n    }\n\n    /**\n    - logTickFormatter(value, axis, precision)\n\n    This is the corresponding tickFormatter of the logaxis.\n    For a number greater that 10^6 or smaller than 10^(-3), this will be drawn\n    with e representation\n    */\n    var logTickFormatter = function (value, axis, precision) {\n        var tenExponent = value > 0 ? Math.floor(Math.log(value) / Math.LN10) : 0;\n\n        if (precision) {\n            if ((tenExponent >= -4) && (tenExponent <= 7)) {\n                return $.plot.defaultTickFormatter(value, axis, precision);\n            } else {\n                return $.plot.expRepTickFormatter(value, axis, precision);\n            }\n        }\n        if ((tenExponent >= -4) && (tenExponent <= 7)) {\n            //if we have float numbers, return a limited length string(ex: 0.0009 is represented as 0.000900001)\n            var formattedValue = tenExponent < 0 ? value.toFixed(-tenExponent) : value.toFixed(tenExponent + 2);\n            if (formattedValue.indexOf('.') !== -1) {\n                var lastZero = formattedValue.lastIndexOf('0');\n\n                while (lastZero === formattedValue.length - 1) {\n                    formattedValue = formattedValue.slice(0, -1);\n                    lastZero = formattedValue.lastIndexOf('0');\n                }\n\n                //delete the dot if is last\n                if (formattedValue.indexOf('.') === formattedValue.length - 1) {\n                    formattedValue = formattedValue.slice(0, -1);\n                }\n            }\n            return formattedValue;\n        } else {\n            return $.plot.expRepTickFormatter(value, axis);\n        }\n    };\n\n    /*logaxis caracteristic functions*/\n    var logTransform = function (v) {\n        if (v < PREFERRED_LOG_TICK_VALUES[0]) {\n            v = PREFERRED_LOG_TICK_VALUES[0];\n        }\n\n        return Math.log(v);\n    };\n\n    var logInverseTransform = function (v) {\n        return Math.exp(v);\n    };\n\n    var invertedTransform = function (v) {\n        return -v;\n    }\n\n    var invertedLogTransform = function (v) {\n        return -logTransform(v);\n    }\n\n    var invertedLogInverseTransform = function (v) {\n        return logInverseTransform(-v);\n    }\n\n    /**\n    - setDataminRange(plot, axis)\n\n    It is used for clamping the starting point of a logarithmic axis.\n    This will set the axis datamin range to 0.1 or to the first datapoint greater then 0.\n    The function is usefull since the logarithmic representation can not show\n    values less than or equal to 0.\n    */\n    function setDataminRange(plot, axis) {\n        if (axis.options.mode === 'log' && axis.datamin <= 0) {\n            if (axis.datamin === null) {\n                axis.datamin = 0.1;\n            } else {\n                axis.datamin = processAxisOffset(plot, axis);\n            }\n        }\n    }\n\n    function processAxisOffset(plot, axis) {\n        var series = plot.getData(),\n            range = series\n                .filter(function(series) {\n                    return series.xaxis === axis || series.yaxis === axis;\n                })\n                .map(function(series) {\n                    return plot.computeRangeForDataSeries(series, null, isValid);\n                }),\n            min = axis.direction === 'x'\n                ? Math.min(0.1, range && range[0] ? range[0].xmin : 0.1)\n                : Math.min(0.1, range && range[0] ? range[0].ymin : 0.1);\n\n        axis.min = min;\n\n        return min;\n    }\n\n    function isValid(a) {\n        return a > 0;\n    }\n\n    function init(plot) {\n        plot.hooks.processOptions.push(function (plot) {\n            $.each(plot.getAxes(), function (axisName, axis) {\n                var opts = axis.options;\n                if (opts.mode === 'log') {\n                    axis.tickGenerator = function (axis) {\n                        var noTicks = 11;\n                        return logTickGenerator(plot, axis, noTicks);\n                    };\n                    if (typeof axis.options.tickFormatter !== 'function') {\n                        axis.options.tickFormatter = logTickFormatter;\n                    }\n                    axis.options.transform = opts.inverted ? invertedLogTransform : logTransform;\n                    axis.options.inverseTransform = opts.inverted ? invertedLogInverseTransform : logInverseTransform;\n                    axis.options.autoScaleMargin = 0;\n                    plot.hooks.setRange.push(setDataminRange);\n                } else if (opts.inverted) {\n                    axis.options.transform = invertedTransform;\n                    axis.options.inverseTransform = invertedTransform;\n                }\n            });\n        });\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'log',\n        version: '0.1'\n    });\n\n    $.plot.logTicksGenerator = logTickGenerator;\n    $.plot.logTickFormatter = logTickFormatter;\n})(jQuery);\n","/* Flot plugin that adds some extra symbols for plotting points.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe symbols are accessed as strings through the standard symbol options:\n\n    series: {\n        points: {\n            symbol: \"square\" // or \"diamond\", \"triangle\", \"cross\", \"plus\", \"ellipse\", \"rectangle\"\n        }\n    }\n\n*/\n\n(function ($) {\n    // we normalize the area of each symbol so it is approximately the\n    // same as a circle of the given radius\n\n    var square = function (ctx, x, y, radius, shadow) {\n            // pi * r^2 = (2s)^2  =>  s = r * sqrt(pi)/2\n            var size = radius * Math.sqrt(Math.PI) / 2;\n            ctx.rect(x - size, y - size, size + size, size + size);\n        },\n        rectangle = function (ctx, x, y, radius, shadow) {\n            // pi * r^2 = (2s)^2  =>  s = r * sqrt(pi)/2\n            var size = radius * Math.sqrt(Math.PI) / 2;\n            ctx.rect(x - size, y - size, size + size, size + size);\n        },\n        diamond = function (ctx, x, y, radius, shadow) {\n            // pi * r^2 = 2s^2  =>  s = r * sqrt(pi/2)\n            var size = radius * Math.sqrt(Math.PI / 2);\n            ctx.moveTo(x - size, y);\n            ctx.lineTo(x, y - size);\n            ctx.lineTo(x + size, y);\n            ctx.lineTo(x, y + size);\n            ctx.lineTo(x - size, y);\n            ctx.lineTo(x, y - size);\n        },\n        triangle = function (ctx, x, y, radius, shadow) {\n            // pi * r^2 = 1/2 * s^2 * sin (pi / 3)  =>  s = r * sqrt(2 * pi / sin(pi / 3))\n            var size = radius * Math.sqrt(2 * Math.PI / Math.sin(Math.PI / 3));\n            var height = size * Math.sin(Math.PI / 3);\n            ctx.moveTo(x - size / 2, y + height / 2);\n            ctx.lineTo(x + size / 2, y + height / 2);\n            if (!shadow) {\n                ctx.lineTo(x, y - height / 2);\n                ctx.lineTo(x - size / 2, y + height / 2);\n                ctx.lineTo(x + size / 2, y + height / 2);\n            }\n        },\n        cross = function (ctx, x, y, radius, shadow) {\n            // pi * r^2 = (2s)^2  =>  s = r * sqrt(pi)/2\n            var size = radius * Math.sqrt(Math.PI) / 2;\n            ctx.moveTo(x - size, y - size);\n            ctx.lineTo(x + size, y + size);\n            ctx.moveTo(x - size, y + size);\n            ctx.lineTo(x + size, y - size);\n        },\n        ellipse = function(ctx, x, y, radius, shadow, fill) {\n            if (!shadow) {\n                ctx.moveTo(x + radius, y);\n                ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n            }\n        },\n        plus = function (ctx, x, y, radius, shadow) {\n            var size = radius * Math.sqrt(Math.PI / 2);\n            ctx.moveTo(x - size, y);\n            ctx.lineTo(x + size, y);\n            ctx.moveTo(x, y + size);\n            ctx.lineTo(x, y - size);\n        },\n        handlers = {\n            square: square,\n            rectangle: rectangle,\n            diamond: diamond,\n            triangle: triangle,\n            cross: cross,\n            ellipse: ellipse,\n            plus: plus\n        };\n\n    square.fill = true;\n    rectangle.fill = true;\n    diamond.fill = true;\n    triangle.fill = true;\n    ellipse.fill = true;\n\n    function init(plot) {\n        plot.drawSymbol = handlers;\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        name: 'symbols',\n        version: '1.0'\n    });\n})(jQuery);\n","/* Support for flat 1D data series.\n\nA 1D flat data series is a data series in the form of a regular 1D array. The\nmain reason for using a flat data series is that it performs better, consumes\nless memory and generates less garbage collection than the regular flot format.\n\nExample:\n\n    plot.setData([[[0,0], [1,1], [2,2], [3,3]]]); // regular flot format\n    plot.setData([{flatdata: true, data: [0, 1, 2, 3]}]); // flatdata format\n\nSet series.flatdata to true to enable this plugin.\n\nYou can use series.start to specify the starting index of the series (default is 0)\nYou can use series.step to specify the interval between consecutive indexes of the series (default is 1)\n*/\n\n/* global jQuery*/\n\n(function ($) {\n    'use strict';\n\n    function process1DRawData(plot, series, data, datapoints) {\n        if (series.flatdata === true) {\n            var start = series.start || 0;\n            var step = typeof series.step === 'number' ? series.step : 1;\n            datapoints.pointsize = 2;\n            for (var i = 0, j = 0; i < data.length; i++, j += 2) {\n                datapoints.points[j] = start + (i * step);\n                datapoints.points[j + 1] = data[i];\n            }\n            if (datapoints.points !== undefined) {\n                datapoints.points.length = data.length * 2;\n            } else {\n                datapoints.points = [];\n            }\n        }\n    }\n\n    $.plot.plugins.push({\n        init: function(plot) {\n            plot.hooks.processRawData.push(process1DRawData);\n        },\n        name: 'flatdata',\n        version: '0.0.2'\n    });\n})(jQuery);\n","/* Flot plugin for adding the ability to pan and zoom the plot.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nCopyright (c) 2016 Ciprian Ceteras.\nCopyright (c) 2017 Raluca Portase.\nLicensed under the MIT license.\n\n*/\n\n/**\n## jquery.flot.navigate.js\n\nThis flot plugin is used for adding the ability to pan and zoom the plot.\nA higher level overview is available at [interactions](interactions.md) documentation.\n\nThe default behaviour is scrollwheel up/down to zoom in, drag\nto pan. The plugin defines plot.zoom({ center }), plot.zoomOut() and\nplot.pan( offset ) so you easily can add custom controls. It also fires\n\"plotpan\" and \"plotzoom\" events, useful for synchronizing plots.\n\nThe plugin supports these options:\n```js\n    zoom: {\n        interactive: false,\n        active: false,\n        amount: 1.5         // 2 = 200% (zoom in), 0.5 = 50% (zoom out)\n    }\n\n    pan: {\n        interactive: false,\n        active: false,\n        cursor: \"move\",     // CSS mouse cursor value used when dragging, e.g. \"pointer\"\n        frameRate: 60,\n        mode: \"smart\"       // enable smart pan mode\n    }\n\n    xaxis: {\n        axisZoom: true, //zoom axis when mouse over it is allowed\n        plotZoom: true, //zoom axis is allowed for plot zoom\n        axisPan: true, //pan axis when mouse over it is allowed\n        plotPan: true, //pan axis is allowed for plot pan\n        panRange: [undefined, undefined], // no limit on pan range, or [min, max] in axis units\n        zoomRange: [undefined, undefined], // no limit on zoom range, or [closest zoom, furthest zoom] in axis units\n    }\n\n    yaxis: {\n        axisZoom: true, //zoom axis when mouse over it is allowed\n        plotZoom: true, //zoom axis is allowed for plot zoom\n        axisPan: true, //pan axis when mouse over it is allowed\n        plotPan: true //pan axis is allowed for plot pan\n        panRange: [undefined, undefined], // no limit on pan range, or [min, max] in axis units\n        zoomRange: [undefined, undefined], // no limit on zoom range, or [closest zoom, furthest zoom] in axis units\n    }\n```\n**interactive** enables the built-in drag/click behaviour. If you enable\ninteractive for pan, then you'll have a basic plot that supports moving\naround; the same for zoom.\n\n**active** is true after a touch tap on plot. This enables plot navigation.\nOnce activated, zoom and pan cannot be deactivated. When the plot becomes active,\n\"plotactivated\" event is triggered.\n\n**amount** specifies the default amount to zoom in (so 1.5 = 150%) relative to\nthe current viewport.\n\n**cursor** is a standard CSS mouse cursor string used for visual feedback to the\nuser when dragging.\n\n**frameRate** specifies the maximum number of times per second the plot will\nupdate itself while the user is panning around on it (set to null to disable\nintermediate pans, the plot will then not update until the mouse button is\nreleased).\n\n**mode** a string specifies the pan mode for mouse interaction. Accepted values:\n'manual': no pan hint or direction snapping;\n'smart': The graph shows pan hint bar and the pan movement will snap\nto one direction when the drag direction is close to it;\n'smartLock'. The graph shows pan hint bar and the pan movement will always\nsnap to a direction that the drag diorection started with.\n\nExample API usage:\n```js\n    plot = $.plot(...);\n\n    // zoom default amount in on the pixel ( 10, 20 )\n    plot.zoom({ center: { left: 10, top: 20 } });\n\n    // zoom out again\n    plot.zoomOut({ center: { left: 10, top: 20 } });\n\n    // zoom 200% in on the pixel (10, 20)\n    plot.zoom({ amount: 2, center: { left: 10, top: 20 } });\n\n    // pan 100 pixels to the left (changing x-range in a positive way) and 20 down\n    plot.pan({ left: -100, top: 20 })\n```\n\nHere, \"center\" specifies where the center of the zooming should happen. Note\nthat this is defined in pixel space, not the space of the data points (you can\nuse the p2c helpers on the axes in Flot to help you convert between these).\n\n**amount** is the amount to zoom the viewport relative to the current range, so\n1 is 100% (i.e. no change), 1.5 is 150% (zoom in), 0.7 is 70% (zoom out). You\ncan set the default in the options.\n*/\n\n/* eslint-enable */\n(function($) {\n    'use strict';\n\n    var options = {\n        zoom: {\n            interactive: false,\n            active: false,\n            amount: 1.5 // how much to zoom relative to current position, 2 = 200% (zoom in), 0.5 = 50% (zoom out)\n        },\n        pan: {\n            interactive: false,\n            active: false,\n            cursor: \"move\",\n            frameRate: 60,\n            mode: 'smart'\n        },\n        recenter: {\n            interactive: true\n        },\n        xaxis: {\n            axisZoom: true, //zoom axis when mouse over it is allowed\n            plotZoom: true, //zoom axis is allowed for plot zoom\n            axisPan: true, //pan axis when mouse over it is allowed\n            plotPan: true, //pan axis is allowed for plot pan\n            panRange: [undefined, undefined], // no limit on pan range, or [min, max] in axis units\n            zoomRange: [undefined, undefined] // no limit on zoom range, or [closest zoom, furthest zoom] in axis units\n        },\n        yaxis: {\n            axisZoom: true,\n            plotZoom: true,\n            axisPan: true,\n            plotPan: true,\n            panRange: [undefined, undefined], // no limit on pan range, or [min, max] in axis units\n            zoomRange: [undefined, undefined] // no limit on zoom range, or [closest zoom, furthest zoom] in axis units\n        }\n    };\n\n    var saturated = $.plot.saturated;\n    var browser = $.plot.browser;\n    var SNAPPING_CONSTANT = $.plot.uiConstants.SNAPPING_CONSTANT;\n    var PANHINT_LENGTH_CONSTANT = $.plot.uiConstants.PANHINT_LENGTH_CONSTANT;\n\n    function init(plot) {\n        plot.hooks.processOptions.push(initNevigation);\n    }\n\n    function initNevigation(plot, options) {\n        var panAxes = null;\n        var canDrag = false;\n        var useManualPan = options.pan.mode === 'manual',\n            smartPanLock = options.pan.mode === 'smartLock',\n            useSmartPan = smartPanLock || options.pan.mode === 'smart';\n\n        function onZoomClick(e, zoomOut, amount) {\n            var page = browser.getPageXY(e);\n\n            var c = plot.offset();\n            c.left = page.X - c.left;\n            c.top = page.Y - c.top;\n\n            var ec = plot.getPlaceholder().offset();\n            ec.left = page.X - ec.left;\n            ec.top = page.Y - ec.top;\n\n            var axes = plot.getXAxes().concat(plot.getYAxes()).filter(function (axis) {\n                var box = axis.box;\n                if (box !== undefined) {\n                    return (ec.left > box.left) && (ec.left < box.left + box.width) &&\n                        (ec.top > box.top) && (ec.top < box.top + box.height);\n                }\n            });\n\n            if (axes.length === 0) {\n                axes = undefined;\n            }\n\n            if (zoomOut) {\n                plot.zoomOut({\n                    center: c,\n                    axes: axes,\n                    amount: amount\n                });\n            } else {\n                plot.zoom({\n                    center: c,\n                    axes: axes,\n                    amount: amount\n                });\n            }\n        }\n\n        var prevCursor = 'default',\n            panHint = null,\n            panTimeout = null,\n            plotState,\n            prevDragPosition = { x: 0, y: 0 },\n            isPanAction = false;\n\n        function onMouseWheel(e, delta) {\n            var maxAbsoluteDeltaOnMac = 1,\n                isMacScroll = Math.abs(e.originalEvent.deltaY) <= maxAbsoluteDeltaOnMac,\n                defaultNonMacScrollAmount = null,\n                macMagicRatio = 50,\n                amount = isMacScroll ? 1 + Math.abs(e.originalEvent.deltaY) / macMagicRatio : defaultNonMacScrollAmount;\n\n            if (isPanAction) {\n                onDragEnd(e);\n            }\n\n            if (plot.getOptions().zoom.active) {\n                e.preventDefault();\n                onZoomClick(e, delta < 0, amount);\n                return false;\n            }\n        }\n\n        plot.navigationState = function(startPageX, startPageY) {\n            var axes = this.getAxes();\n            var result = {};\n            Object.keys(axes).forEach(function(axisName) {\n                var axis = axes[axisName];\n                result[axisName] = {\n                    navigationOffset: { below: axis.options.offset.below || 0,\n                        above: axis.options.offset.above || 0},\n                    axisMin: axis.min,\n                    axisMax: axis.max,\n                    diagMode: false\n                }\n            });\n\n            result.startPageX = startPageX || 0;\n            result.startPageY = startPageY || 0;\n            return result;\n        }\n\n        function onMouseDown(e) {\n            canDrag = true;\n        }\n\n        function onMouseUp(e) {\n            canDrag = false;\n        }\n\n        function isLeftMouseButtonPressed(e) {\n            return e.button === 0;\n        }\n\n        function onDragStart(e) {\n            if (!canDrag || !isLeftMouseButtonPressed(e)) {\n                return false;\n            }\n\n            isPanAction = true;\n            var page = browser.getPageXY(e);\n\n            var ec = plot.getPlaceholder().offset();\n            ec.left = page.X - ec.left;\n            ec.top = page.Y - ec.top;\n\n            panAxes = plot.getXAxes().concat(plot.getYAxes()).filter(function (axis) {\n                var box = axis.box;\n                if (box !== undefined) {\n                    return (ec.left > box.left) && (ec.left < box.left + box.width) &&\n                        (ec.top > box.top) && (ec.top < box.top + box.height);\n                }\n            });\n\n            if (panAxes.length === 0) {\n                panAxes = undefined;\n            }\n\n            var c = plot.getPlaceholder().css('cursor');\n            if (c) {\n                prevCursor = c;\n            }\n\n            plot.getPlaceholder().css('cursor', plot.getOptions().pan.cursor);\n\n            if (useSmartPan) {\n                plotState = plot.navigationState(page.X, page.Y);\n            } else if (useManualPan) {\n                prevDragPosition.x = page.X;\n                prevDragPosition.y = page.Y;\n            }\n        }\n\n        function onDrag(e) {\n            if (!isPanAction) {\n                return;\n            }\n\n            var page = browser.getPageXY(e);\n            var frameRate = plot.getOptions().pan.frameRate;\n\n            if (frameRate === -1) {\n                if (useSmartPan) {\n                    plot.smartPan({\n                        x: plotState.startPageX - page.X,\n                        y: plotState.startPageY - page.Y\n                    }, plotState, panAxes, false, smartPanLock);\n                } else if (useManualPan) {\n                    plot.pan({\n                        left: prevDragPosition.x - page.X,\n                        top: prevDragPosition.y - page.Y,\n                        axes: panAxes\n                    });\n                    prevDragPosition.x = page.X;\n                    prevDragPosition.y = page.Y;\n                }\n                return;\n            }\n\n            if (panTimeout || !frameRate) return;\n\n            panTimeout = setTimeout(function() {\n                if (useSmartPan) {\n                    plot.smartPan({\n                        x: plotState.startPageX - page.X,\n                        y: plotState.startPageY - page.Y\n                    }, plotState, panAxes, false, smartPanLock);\n                } else if (useManualPan) {\n                    plot.pan({\n                        left: prevDragPosition.x - page.X,\n                        top: prevDragPosition.y - page.Y,\n                        axes: panAxes\n                    });\n                    prevDragPosition.x = page.X;\n                    prevDragPosition.y = page.Y;\n                }\n\n                panTimeout = null;\n            }, 1 / frameRate * 1000);\n        }\n\n        function onDragEnd(e) {\n            if (!isPanAction) {\n                return;\n            }\n\n            if (panTimeout) {\n                clearTimeout(panTimeout);\n                panTimeout = null;\n            }\n\n            isPanAction = false;\n            var page = browser.getPageXY(e);\n\n            plot.getPlaceholder().css('cursor', prevCursor);\n\n            if (useSmartPan) {\n                plot.smartPan({\n                    x: plotState.startPageX - page.X,\n                    y: plotState.startPageY - page.Y\n                }, plotState, panAxes, false, smartPanLock);\n                plot.smartPan.end();\n            } else if (useManualPan) {\n                plot.pan({\n                    left: prevDragPosition.x - page.X,\n                    top: prevDragPosition.y - page.Y,\n                    axes: panAxes\n                });\n                prevDragPosition.x = 0;\n                prevDragPosition.y = 0;\n            }\n        }\n\n        function onDblClick(e) {\n            plot.activate();\n            var o = plot.getOptions()\n\n            if (!o.recenter.interactive) { return; }\n\n            var axes = plot.getTouchedAxis(e.clientX, e.clientY),\n                event;\n\n            plot.recenter({ axes: axes[0] ? axes : null });\n\n            if (axes[0]) {\n                event = new $.Event('re-center', { detail: {\n                    axisTouched: axes[0]\n                }});\n            } else {\n                event = new $.Event('re-center', { detail: e });\n            }\n            plot.getPlaceholder().trigger(event);\n        }\n\n        function onClick(e) {\n            plot.activate();\n\n            if (isPanAction) {\n                onDragEnd(e);\n            }\n\n            return false;\n        }\n\n        plot.activate = function() {\n            var o = plot.getOptions();\n            if (!o.pan.active || !o.zoom.active) {\n                o.pan.active = true;\n                o.zoom.active = true;\n                plot.getPlaceholder().trigger(\"plotactivated\", [plot]);\n            }\n        }\n\n        function bindEvents(plot, eventHolder) {\n            var o = plot.getOptions();\n            if (o.zoom.interactive) {\n                eventHolder.mousewheel(onMouseWheel);\n            }\n\n            if (o.pan.interactive) {\n                plot.addEventHandler(\"dragstart\", onDragStart, eventHolder, 0);\n                plot.addEventHandler(\"drag\", onDrag, eventHolder, 0);\n                plot.addEventHandler(\"dragend\", onDragEnd, eventHolder, 0);\n                eventHolder.bind(\"mousedown\", onMouseDown);\n                eventHolder.bind(\"mouseup\", onMouseUp);\n            }\n\n            eventHolder.dblclick(onDblClick);\n            eventHolder.click(onClick);\n        }\n\n        plot.zoomOut = function(args) {\n            if (!args) {\n                args = {};\n            }\n\n            if (!args.amount) {\n                args.amount = plot.getOptions().zoom.amount;\n            }\n\n            args.amount = 1 / args.amount;\n            plot.zoom(args);\n        };\n\n        plot.zoom = function(args) {\n            if (!args) {\n                args = {};\n            }\n\n            var c = args.center,\n                amount = args.amount || plot.getOptions().zoom.amount,\n                w = plot.width(),\n                h = plot.height(),\n                axes = args.axes || plot.getAxes();\n\n            if (!c) {\n                c = {\n                    left: w / 2,\n                    top: h / 2\n                };\n            }\n\n            var xf = c.left / w,\n                yf = c.top / h,\n                minmax = {\n                    x: {\n                        min: c.left - xf * w / amount,\n                        max: c.left + (1 - xf) * w / amount\n                    },\n                    y: {\n                        min: c.top - yf * h / amount,\n                        max: c.top + (1 - yf) * h / amount\n                    }\n                };\n\n            for (var key in axes) {\n                if (!axes.hasOwnProperty(key)) {\n                    continue;\n                }\n\n                var axis = axes[key],\n                    opts = axis.options,\n                    min = minmax[axis.direction].min,\n                    max = minmax[axis.direction].max,\n                    navigationOffset = axis.options.offset;\n\n                //skip axis without axisZoom when zooming only on certain axis or axis without plotZoom for zoom on entire plot\n                if ((!opts.axisZoom && args.axes) || (!args.axes && !opts.plotZoom)) {\n                    continue;\n                }\n\n                min = $.plot.saturated.saturate(axis.c2p(min));\n                max = $.plot.saturated.saturate(axis.c2p(max));\n                if (min > max) {\n                    // make sure min < max\n                    var tmp = min;\n                    min = max;\n                    max = tmp;\n                }\n\n                // test for zoom limits zoomRange: [min,max]\n                if (opts.zoomRange) {\n                    // zoomed in too far\n                    if (max - min < opts.zoomRange[0]) {\n                        continue;\n                    }\n                    // zoomed out to far\n                    if (max - min > opts.zoomRange[1]) {\n                        continue;\n                    }\n                }\n\n                var offsetBelow = $.plot.saturated.saturate(navigationOffset.below - (axis.min - min));\n                var offsetAbove = $.plot.saturated.saturate(navigationOffset.above - (axis.max - max));\n                opts.offset = { below: offsetBelow, above: offsetAbove };\n            };\n\n            plot.setupGrid(true);\n            plot.draw();\n\n            if (!args.preventEvent) {\n                plot.getPlaceholder().trigger(\"plotzoom\", [plot, args]);\n            }\n        };\n\n        plot.pan = function(args) {\n            var delta = {\n                x: +args.left,\n                y: +args.top\n            };\n\n            if (isNaN(delta.x)) delta.x = 0;\n            if (isNaN(delta.y)) delta.y = 0;\n\n            $.each(args.axes || plot.getAxes(), function(_, axis) {\n                var opts = axis.options,\n                    d = delta[axis.direction];\n\n                //skip axis without axisPan when panning only on certain axis or axis without plotPan for pan the entire plot\n                if ((!opts.axisPan && args.axes) || (!opts.plotPan && !args.axes)) {\n                    return;\n                }\n\n                // calc min delta (revealing left edge of plot)\n                var minD = axis.p2c(opts.panRange[0]) - axis.p2c(axis.min);\n                // calc max delta (revealing right edge of plot)\n                var maxD = axis.p2c(opts.panRange[1]) - axis.p2c(axis.max);\n                // limit delta to min or max if enabled\n                if (opts.panRange[0] !== undefined && d >= maxD) d = maxD;\n                if (opts.panRange[1] !== undefined && d <= minD) d = minD;\n\n                if (d !== 0) {\n                    var navigationOffsetBelow = saturated.saturate(axis.c2p(axis.p2c(axis.min) + d) - axis.c2p(axis.p2c(axis.min))),\n                        navigationOffsetAbove = saturated.saturate(axis.c2p(axis.p2c(axis.max) + d) - axis.c2p(axis.p2c(axis.max)));\n\n                    if (!isFinite(navigationOffsetBelow)) {\n                        navigationOffsetBelow = 0;\n                    }\n\n                    if (!isFinite(navigationOffsetAbove)) {\n                        navigationOffsetAbove = 0;\n                    }\n\n                    opts.offset = {\n                        below: saturated.saturate(navigationOffsetBelow + (opts.offset.below || 0)),\n                        above: saturated.saturate(navigationOffsetAbove + (opts.offset.above || 0))\n                    };\n                }\n            });\n\n            plot.setupGrid(true);\n            plot.draw();\n            if (!args.preventEvent) {\n                plot.getPlaceholder().trigger(\"plotpan\", [plot, args]);\n            }\n        };\n\n        plot.recenter = function(args) {\n            $.each(args.axes || plot.getAxes(), function(_, axis) {\n                if (args.axes) {\n                    if (this.direction === 'x') {\n                        axis.options.offset = { below: 0 };\n                    } else if (this.direction === 'y') {\n                        axis.options.offset = { above: 0 };\n                    }\n                } else {\n                    axis.options.offset = { below: 0, above: 0 };\n                }\n            });\n            plot.setupGrid(true);\n            plot.draw();\n        };\n\n        var shouldSnap = function(delta) {\n            return (Math.abs(delta.y) < SNAPPING_CONSTANT && Math.abs(delta.x) >= SNAPPING_CONSTANT) ||\n                (Math.abs(delta.x) < SNAPPING_CONSTANT && Math.abs(delta.y) >= SNAPPING_CONSTANT);\n        }\n\n        // adjust delta so the pan action is constrained on the vertical or horizontal direction\n        // it the movements in the other direction are small\n        var adjustDeltaToSnap = function(delta) {\n            if (Math.abs(delta.x) < SNAPPING_CONSTANT && Math.abs(delta.y) >= SNAPPING_CONSTANT) {\n                return {x: 0, y: delta.y};\n            }\n\n            if (Math.abs(delta.y) < SNAPPING_CONSTANT && Math.abs(delta.x) >= SNAPPING_CONSTANT) {\n                return {x: delta.x, y: 0};\n            }\n\n            return delta;\n        }\n\n        var lockedDirection = null;\n        var lockDeltaDirection = function(delta) {\n            if (!lockedDirection && Math.max(Math.abs(delta.x), Math.abs(delta.y)) >= SNAPPING_CONSTANT) {\n                lockedDirection = Math.abs(delta.x) < Math.abs(delta.y) ? 'y' : 'x';\n            }\n\n            switch (lockedDirection) {\n                case 'x':\n                    return { x: delta.x, y: 0 };\n                case 'y':\n                    return { x: 0, y: delta.y };\n                default:\n                    return { x: 0, y: 0 };\n            }\n        }\n\n        var isDiagonalMode = function(delta) {\n            if (Math.abs(delta.x) > 0 && Math.abs(delta.y) > 0) {\n                return true;\n            }\n            return false;\n        }\n\n        var restoreAxisOffset = function(axes, initialState, delta) {\n            var axis;\n            Object.keys(axes).forEach(function(axisName) {\n                axis = axes[axisName];\n                if (delta[axis.direction] === 0) {\n                    axis.options.offset.below = initialState[axisName].navigationOffset.below;\n                    axis.options.offset.above = initialState[axisName].navigationOffset.above;\n                }\n            });\n        }\n\n        var prevDelta = { x: 0, y: 0 };\n        plot.smartPan = function(delta, initialState, panAxes, preventEvent, smartLock) {\n            var snap = smartLock ? true : shouldSnap(delta),\n                axes = plot.getAxes(),\n                opts;\n            delta = smartLock ? lockDeltaDirection(delta) : adjustDeltaToSnap(delta);\n\n            if (isDiagonalMode(delta)) {\n                initialState.diagMode = true;\n            }\n\n            if (snap && initialState.diagMode === true) {\n                initialState.diagMode = false;\n                restoreAxisOffset(axes, initialState, delta);\n            }\n\n            if (snap) {\n                panHint = {\n                    start: {\n                        x: initialState.startPageX - plot.offset().left + plot.getPlotOffset().left,\n                        y: initialState.startPageY - plot.offset().top + plot.getPlotOffset().top\n                    },\n                    end: {\n                        x: initialState.startPageX - delta.x - plot.offset().left + plot.getPlotOffset().left,\n                        y: initialState.startPageY - delta.y - plot.offset().top + plot.getPlotOffset().top\n                    }\n                }\n            } else {\n                panHint = {\n                    start: {\n                        x: initialState.startPageX - plot.offset().left + plot.getPlotOffset().left,\n                        y: initialState.startPageY - plot.offset().top + plot.getPlotOffset().top\n                    },\n                    end: false\n                }\n            }\n\n            if (isNaN(delta.x)) delta.x = 0;\n            if (isNaN(delta.y)) delta.y = 0;\n\n            if (panAxes) {\n                axes = panAxes;\n            }\n\n            var axis, axisMin, axisMax, p, d;\n            Object.keys(axes).forEach(function(axisName) {\n                axis = axes[axisName];\n                axisMin = axis.min;\n                axisMax = axis.max;\n                opts = axis.options;\n\n                d = delta[axis.direction];\n                p = prevDelta[axis.direction];\n\n                //skip axis without axisPan when panning only on certain axis or axis without plotPan for pan the entire plot\n                if ((!opts.axisPan && panAxes) || (!panAxes && !opts.plotPan)) {\n                    return;\n                }\n\n                // calc min delta (revealing left edge of plot)\n                var minD = p + axis.p2c(opts.panRange[0]) - axis.p2c(axisMin);\n                // calc max delta (revealing right edge of plot)\n                var maxD = p + axis.p2c(opts.panRange[1]) - axis.p2c(axisMax);\n                // limit delta to min or max if enabled\n                if (opts.panRange[0] !== undefined && d >= maxD) d = maxD;\n                if (opts.panRange[1] !== undefined && d <= minD) d = minD;\n\n                if (d !== 0) {\n                    var navigationOffsetBelow = saturated.saturate(axis.c2p(axis.p2c(axisMin) - (p - d)) - axis.c2p(axis.p2c(axisMin))),\n                        navigationOffsetAbove = saturated.saturate(axis.c2p(axis.p2c(axisMax) - (p - d)) - axis.c2p(axis.p2c(axisMax)));\n\n                    if (!isFinite(navigationOffsetBelow)) {\n                        navigationOffsetBelow = 0;\n                    }\n\n                    if (!isFinite(navigationOffsetAbove)) {\n                        navigationOffsetAbove = 0;\n                    }\n\n                    axis.options.offset.below = saturated.saturate(navigationOffsetBelow + (axis.options.offset.below || 0));\n                    axis.options.offset.above = saturated.saturate(navigationOffsetAbove + (axis.options.offset.above || 0));\n                }\n            });\n\n            prevDelta = delta;\n            plot.setupGrid(true);\n            plot.draw();\n\n            if (!preventEvent) {\n                plot.getPlaceholder().trigger(\"plotpan\", [plot, delta, panAxes, initialState]);\n            }\n        };\n\n        plot.smartPan.end = function() {\n            panHint = null;\n            lockedDirection = null;\n            prevDelta = { x: 0, y: 0 };\n            plot.triggerRedrawOverlay();\n        }\n\n        function shutdown(plot, eventHolder) {\n            eventHolder.unbind(\"mousewheel\", onMouseWheel);\n            eventHolder.unbind(\"mousedown\", onMouseDown);\n            eventHolder.unbind(\"mouseup\", onMouseUp);\n            eventHolder.unbind(\"dragstart\", onDragStart);\n            eventHolder.unbind(\"drag\", onDrag);\n            eventHolder.unbind(\"dragend\", onDragEnd);\n            eventHolder.unbind(\"dblclick\", onDblClick);\n            eventHolder.unbind(\"click\", onClick);\n\n            if (panTimeout) clearTimeout(panTimeout);\n        }\n\n        function drawOverlay(plot, ctx) {\n            if (panHint) {\n                ctx.strokeStyle = 'rgba(96, 160, 208, 0.7)';\n                ctx.lineWidth = 2;\n                ctx.lineJoin = \"round\";\n                var startx = Math.round(panHint.start.x),\n                    starty = Math.round(panHint.start.y),\n                    endx, endy;\n\n                if (panAxes) {\n                    if (panAxes[0].direction === 'x') {\n                        endy = Math.round(panHint.start.y);\n                        endx = Math.round(panHint.end.x);\n                    } else if (panAxes[0].direction === 'y') {\n                        endx = Math.round(panHint.start.x);\n                        endy = Math.round(panHint.end.y);\n                    }\n                } else {\n                    endx = Math.round(panHint.end.x);\n                    endy = Math.round(panHint.end.y);\n                }\n\n                ctx.beginPath();\n\n                if (panHint.end === false) {\n                    ctx.moveTo(startx, starty - PANHINT_LENGTH_CONSTANT);\n                    ctx.lineTo(startx, starty + PANHINT_LENGTH_CONSTANT);\n\n                    ctx.moveTo(startx + PANHINT_LENGTH_CONSTANT, starty);\n                    ctx.lineTo(startx - PANHINT_LENGTH_CONSTANT, starty);\n                } else {\n                    var dirX = starty === endy;\n\n                    ctx.moveTo(startx - (dirX ? 0 : PANHINT_LENGTH_CONSTANT), starty - (dirX ? PANHINT_LENGTH_CONSTANT : 0));\n                    ctx.lineTo(startx + (dirX ? 0 : PANHINT_LENGTH_CONSTANT), starty + (dirX ? PANHINT_LENGTH_CONSTANT : 0));\n\n                    ctx.moveTo(startx, starty);\n                    ctx.lineTo(endx, endy);\n\n                    ctx.moveTo(endx - (dirX ? 0 : PANHINT_LENGTH_CONSTANT), endy - (dirX ? PANHINT_LENGTH_CONSTANT : 0));\n                    ctx.lineTo(endx + (dirX ? 0 : PANHINT_LENGTH_CONSTANT), endy + (dirX ? PANHINT_LENGTH_CONSTANT : 0));\n                }\n\n                ctx.stroke();\n            }\n        }\n\n        plot.getTouchedAxis = function(touchPointX, touchPointY) {\n            var ec = plot.getPlaceholder().offset();\n            ec.left = touchPointX - ec.left;\n            ec.top = touchPointY - ec.top;\n\n            var axis = plot.getXAxes().concat(plot.getYAxes()).filter(function (axis) {\n                var box = axis.box;\n                if (box !== undefined) {\n                    return (ec.left > box.left) && (ec.left < box.left + box.width) &&\n                            (ec.top > box.top) && (ec.top < box.top + box.height);\n                }\n            });\n\n            return axis;\n        }\n\n        plot.hooks.drawOverlay.push(drawOverlay);\n        plot.hooks.bindEvents.push(bindEvents);\n        plot.hooks.shutdown.push(shutdown);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'navigate',\n        version: '1.3'\n    });\n})(jQuery);\n","/* Flot plugin for computing bottoms for filled line and bar charts.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe case: you've got two series that you want to fill the area between. In Flot\nterms, you need to use one as the fill bottom of the other. You can specify the\nbottom of each data point as the third coordinate manually, or you can use this\nplugin to compute it for you.\n\nIn order to name the other series, you need to give it an id, like this:\n\n    var dataset = [\n        { data: [ ... ], id: \"foo\" } ,         // use default bottom\n        { data: [ ... ], fillBetween: \"foo\" }, // use first dataset as bottom\n    ];\n\n    $.plot($(\"#placeholder\"), dataset, { lines: { show: true, fill: true }});\n\nAs a convenience, if the id given is a number that doesn't appear as an id in\nthe series, it is interpreted as the index in the array instead (so fillBetween:\n0 can also mean the first series).\n\nInternally, the plugin modifies the datapoints in each series. For line series,\nextra data points might be inserted through interpolation. Note that at points\nwhere the bottom line is not defined (due to a null point or start/end of line),\nthe current line will show a gap too. The algorithm comes from the\njquery.flot.stack.js plugin, possibly some code could be shared.\n\n*/\n\n(function ($) {\n    var options = {\n        series: {\n            fillBetween: null // or number\n        }\n    };\n\n    function init(plot) {\n        function findBottomSeries(s, allseries) {\n            var i;\n\n            for (i = 0; i < allseries.length; ++i) {\n                if (allseries[ i ].id === s.fillBetween) {\n                    return allseries[ i ];\n                }\n            }\n\n            if (typeof s.fillBetween === \"number\") {\n                if (s.fillBetween < 0 || s.fillBetween >= allseries.length) {\n                    return null;\n                }\n                return allseries[ s.fillBetween ];\n            }\n\n            return null;\n        }\n\n        function computeFormat(plot, s, data, datapoints) {\n            if (s.fillBetween == null) {\n                return;\n            }\n\n            var format = datapoints.format;\n            var plotHasId = function(id) {\n                var plotData = plot.getData();\n                for (var i = 0; i < plotData.length; i++) {\n                    if (plotData[i].id === id) {\n                        return true;\n                    }\n                }\n\n                return false;\n            }\n\n            if (!format) {\n                format = [];\n\n                format.push({\n                    x: true,\n                    number: true,\n                    computeRange: s.xaxis.options.autoScale !== 'none',\n                    required: true\n                });\n                format.push({\n                    y: true,\n                    number: true,\n                    computeRange: s.yaxis.options.autoScale !== 'none',\n                    required: true\n                });\n\n                if (s.fillBetween !== undefined && s.fillBetween !== '' && plotHasId(s.fillBetween) && s.fillBetween !== s.id) {\n                    format.push({\n                        x: false,\n                        y: true,\n                        number: true,\n                        required: false,\n                        computeRange: s.yaxis.options.autoScale !== 'none',\n                        defaultValue: 0\n                    });\n                }\n\n                datapoints.format = format;\n            }\n        }\n\n        function computeFillBottoms(plot, s, datapoints) {\n            if (s.fillBetween == null) {\n                return;\n            }\n\n            var other = findBottomSeries(s, plot.getData());\n\n            if (!other) {\n                return;\n            }\n\n            var ps = datapoints.pointsize,\n                points = datapoints.points,\n                otherps = other.datapoints.pointsize,\n                otherpoints = other.datapoints.points,\n                newpoints = [],\n                px, py, intery, qx, qy, bottom,\n                withlines = s.lines.show,\n                withbottom = ps > 2 && datapoints.format[2].y,\n                withsteps = withlines && s.lines.steps,\n                fromgap = true,\n                i = 0,\n                j = 0,\n                l, m;\n\n            while (true) {\n                if (i >= points.length) {\n                    break;\n                }\n\n                l = newpoints.length;\n\n                if (points[ i ] == null) {\n                    // copy gaps\n                    for (m = 0; m < ps; ++m) {\n                        newpoints.push(points[ i + m ]);\n                    }\n\n                    i += ps;\n                } else if (j >= otherpoints.length) {\n                    // for lines, we can't use the rest of the points\n                    if (!withlines) {\n                        for (m = 0; m < ps; ++m) {\n                            newpoints.push(points[ i + m ]);\n                        }\n                    }\n\n                    i += ps;\n                } else if (otherpoints[ j ] == null) {\n                    // oops, got a gap\n                    for (m = 0; m < ps; ++m) {\n                        newpoints.push(null);\n                    }\n\n                    fromgap = true;\n                    j += otherps;\n                } else {\n                    // cases where we actually got two points\n                    px = points[ i ];\n                    py = points[ i + 1 ];\n                    qx = otherpoints[ j ];\n                    qy = otherpoints[ j + 1 ];\n                    bottom = 0;\n\n                    if (px === qx) {\n                        for (m = 0; m < ps; ++m) {\n                            newpoints.push(points[ i + m ]);\n                        }\n\n                        //newpoints[ l + 1 ] += qy;\n                        bottom = qy;\n\n                        i += ps;\n                        j += otherps;\n                    } else if (px > qx) {\n                        // we got past point below, might need to\n                        // insert interpolated extra point\n\n                        if (withlines && i > 0 && points[ i - ps ] != null) {\n                            intery = py + (points[ i - ps + 1 ] - py) * (qx - px) / (points[ i - ps ] - px);\n                            newpoints.push(qx);\n                            newpoints.push(intery);\n                            for (m = 2; m < ps; ++m) {\n                                newpoints.push(points[ i + m ]);\n                            }\n                            bottom = qy;\n                        }\n\n                        j += otherps;\n                    } else {\n                        // px < qx\n                        // if we come from a gap, we just skip this point\n\n                        if (fromgap && withlines) {\n                            i += ps;\n                            continue;\n                        }\n\n                        for (m = 0; m < ps; ++m) {\n                            newpoints.push(points[ i + m ]);\n                        }\n\n                        // we might be able to interpolate a point below,\n                        // this can give us a better y\n\n                        if (withlines && j > 0 && otherpoints[ j - otherps ] != null) {\n                            bottom = qy + (otherpoints[ j - otherps + 1 ] - qy) * (px - qx) / (otherpoints[ j - otherps ] - qx);\n                        }\n\n                        //newpoints[l + 1] += bottom;\n\n                        i += ps;\n                    }\n\n                    fromgap = false;\n\n                    if (l !== newpoints.length && withbottom) {\n                        newpoints[ l + 2 ] = bottom;\n                    }\n                }\n\n                // maintain the line steps invariant\n\n                if (withsteps && l !== newpoints.length && l > 0 &&\n                    newpoints[ l ] !== null &&\n                    newpoints[ l ] !== newpoints[ l - ps ] &&\n                    newpoints[ l + 1 ] !== newpoints[ l - ps + 1 ]) {\n                    for (m = 0; m < ps; ++m) {\n                        newpoints[ l + ps + m ] = newpoints[ l + m ];\n                    }\n                    newpoints[ l + 1 ] = newpoints[ l - ps + 1 ];\n                }\n            }\n\n            datapoints.points = newpoints;\n        }\n\n        plot.hooks.processRawData.push(computeFormat);\n        plot.hooks.processDatapoints.push(computeFillBottoms);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: \"fillbetween\",\n        version: \"1.0\"\n    });\n})(jQuery);\n","/* Flot plugin for plotting textual data or categories.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nConsider a dataset like [[\"February\", 34], [\"March\", 20], ...]. This plugin\nallows you to plot such a dataset directly.\n\nTo enable it, you must specify mode: \"categories\" on the axis with the textual\nlabels, e.g.\n\n    $.plot(\"#placeholder\", data, { xaxis: { mode: \"categories\" } });\n\nBy default, the labels are ordered as they are met in the data series. If you\nneed a different ordering, you can specify \"categories\" on the axis options\nand list the categories there:\n\n    xaxis: {\n        mode: \"categories\",\n        categories: [\"February\", \"March\", \"April\"]\n    }\n\nIf you need to customize the distances between the categories, you can specify\n\"categories\" as an object mapping labels to values\n\n    xaxis: {\n        mode: \"categories\",\n        categories: { \"February\": 1, \"March\": 3, \"April\": 4 }\n    }\n\nIf you don't specify all categories, the remaining categories will be numbered\nfrom the max value plus 1 (with a spacing of 1 between each).\n\nInternally, the plugin works by transforming the input data through an auto-\ngenerated mapping where the first category becomes 0, the second 1, etc.\nHence, a point like [\"February\", 34] becomes [0, 34] internally in Flot (this\nis visible in hover and click events that return numbers rather than the\ncategory labels). The plugin also overrides the tick generator to spit out the\ncategories as ticks instead of the values.\n\nIf you need to map a value back to its label, the mapping is always accessible\nas \"categories\" on the axis object, e.g. plot.getAxes().xaxis.categories.\n\n*/\n\n(function ($) {\n    var options = {\n        xaxis: {\n            categories: null\n        },\n        yaxis: {\n            categories: null\n        }\n    };\n\n    function processRawData(plot, series, data, datapoints) {\n        // if categories are enabled, we need to disable\n        // auto-transformation to numbers so the strings are intact\n        // for later processing\n\n        var xCategories = series.xaxis.options.mode === \"categories\",\n            yCategories = series.yaxis.options.mode === \"categories\";\n\n        if (!(xCategories || yCategories)) {\n            return;\n        }\n\n        var format = datapoints.format;\n\n        if (!format) {\n            // FIXME: auto-detection should really not be defined here\n            var s = series;\n            format = [];\n            format.push({ x: true, number: true, required: true, computeRange: true});\n            format.push({ y: true, number: true, required: true, computeRange: true });\n\n            if (s.bars.show || (s.lines.show && s.lines.fill)) {\n                var autoScale = !!((s.bars.show && s.bars.zero) || (s.lines.show && s.lines.zero));\n                format.push({ y: true, number: true, required: false, defaultValue: 0, computeRange: autoScale });\n                if (s.bars.horizontal) {\n                    delete format[format.length - 1].y;\n                    format[format.length - 1].x = true;\n                }\n            }\n\n            datapoints.format = format;\n        }\n\n        for (var m = 0; m < format.length; ++m) {\n            if (format[m].x && xCategories) {\n                format[m].number = false;\n            }\n\n            if (format[m].y && yCategories) {\n                format[m].number = false;\n                format[m].computeRange = false;\n            }\n        }\n    }\n\n    function getNextIndex(categories) {\n        var index = -1;\n\n        for (var v in categories) {\n            if (categories[v] > index) {\n                index = categories[v];\n            }\n        }\n\n        return index + 1;\n    }\n\n    function categoriesTickGenerator(axis) {\n        var res = [];\n        for (var label in axis.categories) {\n            var v = axis.categories[label];\n            if (v >= axis.min && v <= axis.max) {\n                res.push([v, label]);\n            }\n        }\n\n        res.sort(function (a, b) { return a[0] - b[0]; });\n\n        return res;\n    }\n\n    function setupCategoriesForAxis(series, axis, datapoints) {\n        if (series[axis].options.mode !== \"categories\") {\n            return;\n        }\n\n        if (!series[axis].categories) {\n            // parse options\n            var c = {}, o = series[axis].options.categories || {};\n            if ($.isArray(o)) {\n                for (var i = 0; i < o.length; ++i) {\n                    c[o[i]] = i;\n                }\n            } else {\n                for (var v in o) {\n                    c[v] = o[v];\n                }\n            }\n\n            series[axis].categories = c;\n        }\n\n        // fix ticks\n        if (!series[axis].options.ticks) {\n            series[axis].options.ticks = categoriesTickGenerator;\n        }\n\n        transformPointsOnAxis(datapoints, axis, series[axis].categories);\n    }\n\n    function transformPointsOnAxis(datapoints, axis, categories) {\n        // go through the points, transforming them\n        var points = datapoints.points,\n            ps = datapoints.pointsize,\n            format = datapoints.format,\n            formatColumn = axis.charAt(0),\n            index = getNextIndex(categories);\n\n        for (var i = 0; i < points.length; i += ps) {\n            if (points[i] == null) {\n                continue;\n            }\n\n            for (var m = 0; m < ps; ++m) {\n                var val = points[i + m];\n\n                if (val == null || !format[m][formatColumn]) {\n                    continue;\n                }\n\n                if (!(val in categories)) {\n                    categories[val] = index;\n                    ++index;\n                }\n\n                points[i + m] = categories[val];\n            }\n        }\n    }\n\n    function processDatapoints(plot, series, datapoints) {\n        setupCategoriesForAxis(series, \"xaxis\", datapoints);\n        setupCategoriesForAxis(series, \"yaxis\", datapoints);\n    }\n\n    function init(plot) {\n        plot.hooks.processRawData.push(processRawData);\n        plot.hooks.processDatapoints.push(processDatapoints);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'categories',\n        version: '1.0'\n    });\n})(jQuery);\n","/* Flot plugin for stacking data sets rather than overlaying them.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin assumes the data is sorted on x (or y if stacking horizontally).\nFor line charts, it is assumed that if a line has an undefined gap (from a\nnull point), then the line above it should have the same gap - insert zeros\ninstead of \"null\" if you want another behaviour. This also holds for the start\nand end of the chart. Note that stacking a mix of positive and negative values\nin most instances doesn't make sense (so it looks weird).\n\nTwo or more series are stacked when their \"stack\" attribute is set to the same\nkey (which can be any number or string or just \"true\"). To specify the default\nstack, you can set the stack option like this:\n\n    series: {\n        stack: null/false, true, or a key (number/string)\n    }\n\nYou can also specify it for a single series, like this:\n\n    $.plot( $(\"#placeholder\"), [{\n        data: [ ... ],\n        stack: true\n    }])\n\nThe stacking order is determined by the order of the data series in the array\n(later series end up on top of the previous).\n\nInternally, the plugin modifies the datapoints in each series, adding an\noffset to the y value. For line series, extra data points are inserted through\ninterpolation. If there's a second y value, it's also adjusted (e.g for bar\ncharts or filled areas).\n\n*/\n\n(function ($) {\n    var options = {\n        series: { stack: null } // or number/string\n    };\n\n    function init(plot) {\n        function findMatchingSeries(s, allseries) {\n            var res = null;\n            for (var i = 0; i < allseries.length; ++i) {\n                if (s === allseries[i]) break;\n\n                if (allseries[i].stack === s.stack) {\n                    res = allseries[i];\n                }\n            }\n\n            return res;\n        }\n\n        function addBottomPoints (s, datapoints) {\n            var formattedPoints = [];\n            for (var i = 0; i < datapoints.points.length; i += 2) {\n                formattedPoints.push(datapoints.points[i]);\n                formattedPoints.push(datapoints.points[i + 1]);\n                formattedPoints.push(0);\n            }\n\n            datapoints.format.push({\n                x: false,\n                y: true,\n                number: true,\n                required: false,\n                computeRange: s.yaxis.options.autoScale !== 'none',\n                defaultValue: 0\n            });\n            datapoints.points = formattedPoints;\n            datapoints.pointsize = 3;\n        }\n\n        function stackData(plot, s, datapoints) {\n            if (s.stack == null || s.stack === false) return;\n\n            var needsBottom = s.bars.show || (s.lines.show && s.lines.fill);\n            var hasBottom = datapoints.pointsize > 2 && (s.bars.horizontal ? datapoints.format[2].x : datapoints.format[2].y);\n            // Series data is missing bottom points - need to format\n            if (needsBottom && !hasBottom) {\n                addBottomPoints(s, datapoints);\n            }\n\n            var other = findMatchingSeries(s, plot.getData());\n            if (!other) return;\n\n            var ps = datapoints.pointsize,\n                points = datapoints.points,\n                otherps = other.datapoints.pointsize,\n                otherpoints = other.datapoints.points,\n                newpoints = [],\n                px, py, intery, qx, qy, bottom,\n                withlines = s.lines.show,\n                horizontal = s.bars.horizontal,\n                withsteps = withlines && s.lines.steps,\n                fromgap = true,\n                keyOffset = horizontal ? 1 : 0,\n                accumulateOffset = horizontal ? 0 : 1,\n                i = 0, j = 0, l, m;\n\n            while (true) {\n                if (i >= points.length) break;\n\n                l = newpoints.length;\n\n                if (points[i] == null) {\n                    // copy gaps\n                    for (m = 0; m < ps; ++m) {\n                        newpoints.push(points[i + m]);\n                    }\n\n                    i += ps;\n                } else if (j >= otherpoints.length) {\n                    // for lines, we can't use the rest of the points\n                    if (!withlines) {\n                        for (m = 0; m < ps; ++m) {\n                            newpoints.push(points[i + m]);\n                        }\n                    }\n\n                    i += ps;\n                } else if (otherpoints[j] == null) {\n                    // oops, got a gap\n                    for (m = 0; m < ps; ++m) {\n                        newpoints.push(null);\n                    }\n\n                    fromgap = true;\n                    j += otherps;\n                } else {\n                    // cases where we actually got two points\n                    px = points[i + keyOffset];\n                    py = points[i + accumulateOffset];\n                    qx = otherpoints[j + keyOffset];\n                    qy = otherpoints[j + accumulateOffset];\n                    bottom = 0;\n\n                    if (px === qx) {\n                        for (m = 0; m < ps; ++m) {\n                            newpoints.push(points[i + m]);\n                        }\n\n                        newpoints[l + accumulateOffset] += qy;\n                        bottom = qy;\n\n                        i += ps;\n                        j += otherps;\n                    } else if (px > qx) {\n                        // we got past point below, might need to\n                        // insert interpolated extra point\n                        if (withlines && i > 0 && points[i - ps] != null) {\n                            intery = py + (points[i - ps + accumulateOffset] - py) * (qx - px) / (points[i - ps + keyOffset] - px);\n                            newpoints.push(qx);\n                            newpoints.push(intery + qy);\n                            for (m = 2; m < ps; ++m) {\n                                newpoints.push(points[i + m]);\n                            }\n\n                            bottom = qy;\n                        }\n\n                        j += otherps;\n                    } else { // px < qx\n                        if (fromgap && withlines) {\n                            // if we come from a gap, we just skip this point\n                            i += ps;\n                            continue;\n                        }\n\n                        for (m = 0; m < ps; ++m) {\n                            newpoints.push(points[i + m]);\n                        }\n\n                        // we might be able to interpolate a point below,\n                        // this can give us a better y\n                        if (withlines && j > 0 && otherpoints[j - otherps] != null) {\n                            bottom = qy + (otherpoints[j - otherps + accumulateOffset] - qy) * (px - qx) / (otherpoints[j - otherps + keyOffset] - qx);\n                        }\n\n                        newpoints[l + accumulateOffset] += bottom;\n\n                        i += ps;\n                    }\n\n                    fromgap = false;\n\n                    if (l !== newpoints.length && needsBottom) {\n                        newpoints[l + 2] += bottom;\n                    }\n                }\n\n                // maintain the line steps invariant\n                if (withsteps && l !== newpoints.length && l > 0 &&\n                    newpoints[l] !== null &&\n                    newpoints[l] !== newpoints[l - ps] &&\n                    newpoints[l + 1] !== newpoints[l - ps + 1]) {\n                    for (m = 0; m < ps; ++m) {\n                        newpoints[l + ps + m] = newpoints[l + m];\n                    }\n\n                    newpoints[l + 1] = newpoints[l - ps + 1];\n                }\n            }\n\n            datapoints.points = newpoints;\n        }\n\n        plot.hooks.processDatapoints.push(stackData);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'stack',\n        version: '1.2'\n    });\n})(jQuery);\n","/* global jQuery */\n\n(function($) {\n    'use strict';\n\n    var options = {\n        zoom: {\n            enableTouch: false\n        },\n        pan: {\n            enableTouch: false,\n            touchMode: 'manual'\n        },\n        recenter: {\n            enableTouch: true\n        }\n    };\n\n    var ZOOM_DISTANCE_MARGIN = $.plot.uiConstants.ZOOM_DISTANCE_MARGIN;\n\n    function init(plot) {\n        plot.hooks.processOptions.push(initTouchNavigation);\n    }\n\n    function initTouchNavigation(plot, options) {\n        var gestureState = {\n                zoomEnable: false,\n                prevDistance: null,\n                prevTapTime: 0,\n                prevPanPosition: { x: 0, y: 0 },\n                prevTapPosition: { x: 0, y: 0 }\n            },\n            navigationState = {\n                prevTouchedAxis: 'none',\n                currentTouchedAxis: 'none',\n                touchedAxis: null,\n                navigationConstraint: 'unconstrained',\n                initialState: null\n            },\n            useManualPan = options.pan.interactive && options.pan.touchMode === 'manual',\n            smartPanLock = options.pan.touchMode === 'smartLock',\n            useSmartPan = options.pan.interactive && (smartPanLock || options.pan.touchMode === 'smart'),\n            pan, pinch, doubleTap;\n\n        function bindEvents(plot, eventHolder) {\n            var o = plot.getOptions();\n\n            if (o.zoom.interactive && o.zoom.enableTouch) {\n                eventHolder[0].addEventListener('pinchstart', pinch.start, false);\n                eventHolder[0].addEventListener('pinchdrag', pinch.drag, false);\n                eventHolder[0].addEventListener('pinchend', pinch.end, false);\n            }\n\n            if (o.pan.interactive && o.pan.enableTouch) {\n                eventHolder[0].addEventListener('panstart', pan.start, false);\n                eventHolder[0].addEventListener('pandrag', pan.drag, false);\n                eventHolder[0].addEventListener('panend', pan.end, false);\n            }\n\n            if ((o.recenter.interactive && o.recenter.enableTouch)) {\n                eventHolder[0].addEventListener('doubletap', doubleTap.recenterPlot, false);\n            }\n        }\n\n        function shutdown(plot, eventHolder) {\n            eventHolder[0].removeEventListener('panstart', pan.start);\n            eventHolder[0].removeEventListener('pandrag', pan.drag);\n            eventHolder[0].removeEventListener('panend', pan.end);\n            eventHolder[0].removeEventListener('pinchstart', pinch.start);\n            eventHolder[0].removeEventListener('pinchdrag', pinch.drag);\n            eventHolder[0].removeEventListener('pinchend', pinch.end);\n            eventHolder[0].removeEventListener('doubletap', doubleTap.recenterPlot);\n        }\n\n        pan = {\n            start: function(e) {\n                presetNavigationState(e, 'pan', gestureState);\n                updateData(e, 'pan', gestureState, navigationState);\n\n                if (useSmartPan) {\n                    var point = getPoint(e, 'pan');\n                    navigationState.initialState = plot.navigationState(point.x, point.y);\n                }\n            },\n\n            drag: function(e) {\n                presetNavigationState(e, 'pan', gestureState);\n\n                if (useSmartPan) {\n                    var point = getPoint(e, 'pan');\n                    plot.smartPan({\n                        x: navigationState.initialState.startPageX - point.x,\n                        y: navigationState.initialState.startPageY - point.y\n                    }, navigationState.initialState, navigationState.touchedAxis, false, smartPanLock);\n                } else if (useManualPan) {\n                    plot.pan({\n                        left: -delta(e, 'pan', gestureState).x,\n                        top: -delta(e, 'pan', gestureState).y,\n                        axes: navigationState.touchedAxis\n                    });\n                    updatePrevPanPosition(e, 'pan', gestureState, navigationState);\n                }\n            },\n\n            end: function(e) {\n                presetNavigationState(e, 'pan', gestureState);\n\n                if (useSmartPan) {\n                    plot.smartPan.end();\n                }\n\n                if (wasPinchEvent(e, gestureState)) {\n                    updateprevPanPosition(e, 'pan', gestureState, navigationState);\n                }\n            }\n        };\n\n        var pinchDragTimeout;\n        pinch = {\n            start: function(e) {\n                if (pinchDragTimeout) {\n                    clearTimeout(pinchDragTimeout);\n                    pinchDragTimeout = null;\n                }\n                presetNavigationState(e, 'pinch', gestureState);\n                setPrevDistance(e, gestureState);\n                updateData(e, 'pinch', gestureState, navigationState);\n            },\n\n            drag: function(e) {\n                if (pinchDragTimeout) {\n                    return;\n                }\n                pinchDragTimeout = setTimeout(function() {\n                    presetNavigationState(e, 'pinch', gestureState);\n                    plot.pan({\n                        left: -delta(e, 'pinch', gestureState).x,\n                        top: -delta(e, 'pinch', gestureState).y,\n                        axes: navigationState.touchedAxis\n                    });\n                    updatePrevPanPosition(e, 'pinch', gestureState, navigationState);\n\n                    var dist = pinchDistance(e);\n\n                    if (gestureState.zoomEnable || Math.abs(dist - gestureState.prevDistance) > ZOOM_DISTANCE_MARGIN) {\n                        zoomPlot(plot, e, gestureState, navigationState);\n\n                        //activate zoom mode\n                        gestureState.zoomEnable = true;\n                    }\n                    pinchDragTimeout = null;\n                }, 1000 / 60);\n            },\n\n            end: function(e) {\n                if (pinchDragTimeout) {\n                    clearTimeout(pinchDragTimeout);\n                    pinchDragTimeout = null;\n                }\n                presetNavigationState(e, 'pinch', gestureState);\n                gestureState.prevDistance = null;\n            }\n        };\n\n        doubleTap = {\n            recenterPlot: function(e) {\n                if (e && e.detail && e.detail.type === 'touchstart') {\n                    // only do not recenter for touch start;\n                    recenterPlotOnDoubleTap(plot, e, gestureState, navigationState);\n                }\n            }\n        };\n\n        if (options.pan.enableTouch === true || options.zoom.enableTouch === true) {\n            plot.hooks.bindEvents.push(bindEvents);\n            plot.hooks.shutdown.push(shutdown);\n        }\n\n        function presetNavigationState(e, gesture, gestureState) {\n            navigationState.touchedAxis = getAxis(plot, e, gesture, navigationState);\n            if (noAxisTouched(navigationState)) {\n                navigationState.navigationConstraint = 'unconstrained';\n            } else {\n                navigationState.navigationConstraint = 'axisConstrained';\n            }\n        }\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'navigateTouch',\n        version: '0.3'\n    });\n\n    function recenterPlotOnDoubleTap(plot, e, gestureState, navigationState) {\n        checkAxesForDoubleTap(plot, e, navigationState);\n        if ((navigationState.currentTouchedAxis === 'x' && navigationState.prevTouchedAxis === 'x') ||\n            (navigationState.currentTouchedAxis === 'y' && navigationState.prevTouchedAxis === 'y') ||\n            (navigationState.currentTouchedAxis === 'none' && navigationState.prevTouchedAxis === 'none')) {\n            var event;\n\n            plot.recenter({ axes: navigationState.touchedAxis });\n\n            if (navigationState.touchedAxis) {\n                event = new $.Event('re-center', { detail: { axisTouched: navigationState.touchedAxis } });\n            } else {\n                event = new $.Event('re-center', { detail: e });\n            }\n            plot.getPlaceholder().trigger(event);\n        }\n    }\n\n    function checkAxesForDoubleTap(plot, e, navigationState) {\n        var axis = plot.getTouchedAxis(e.detail.firstTouch.x, e.detail.firstTouch.y);\n        if (axis[0] !== undefined) {\n            navigationState.prevTouchedAxis = axis[0].direction;\n        }\n\n        axis = plot.getTouchedAxis(e.detail.secondTouch.x, e.detail.secondTouch.y);\n        if (axis[0] !== undefined) {\n            navigationState.touchedAxis = axis;\n            navigationState.currentTouchedAxis = axis[0].direction;\n        }\n\n        if (noAxisTouched(navigationState)) {\n            navigationState.touchedAxis = null;\n            navigationState.prevTouchedAxis = 'none';\n            navigationState.currentTouchedAxis = 'none';\n        }\n    }\n\n    function zoomPlot(plot, e, gestureState, navigationState) {\n        var offset = plot.offset(),\n            center = {\n                left: 0,\n                top: 0\n            },\n            zoomAmount = pinchDistance(e) / gestureState.prevDistance,\n            dist = pinchDistance(e);\n\n        center.left = getPoint(e, 'pinch').x - offset.left;\n        center.top = getPoint(e, 'pinch').y - offset.top;\n\n        // send the computed touched axis to the zoom function so that it only zooms on that one\n        plot.zoom({\n            center: center,\n            amount: zoomAmount,\n            axes: navigationState.touchedAxis\n        });\n        gestureState.prevDistance = dist;\n    }\n\n    function wasPinchEvent(e, gestureState) {\n        return (gestureState.zoomEnable && e.detail.touches.length === 1);\n    }\n\n    function getAxis(plot, e, gesture, navigationState) {\n        if (e.type === 'pinchstart') {\n            var axisTouch1 = plot.getTouchedAxis(e.detail.touches[0].pageX, e.detail.touches[0].pageY);\n            var axisTouch2 = plot.getTouchedAxis(e.detail.touches[1].pageX, e.detail.touches[1].pageY);\n\n            if (axisTouch1.length === axisTouch2.length && axisTouch1.toString() === axisTouch2.toString()) {\n                return axisTouch1;\n            }\n        } else if (e.type === 'panstart') {\n            return plot.getTouchedAxis(e.detail.touches[0].pageX, e.detail.touches[0].pageY);\n        } else if (e.type === 'pinchend') {\n            //update axis since instead on pinch, a pan event is made\n            return plot.getTouchedAxis(e.detail.touches[0].pageX, e.detail.touches[0].pageY);\n        } else {\n            return navigationState.touchedAxis;\n        }\n    }\n\n    function noAxisTouched(navigationState) {\n        return (!navigationState.touchedAxis || navigationState.touchedAxis.length === 0);\n    }\n\n    function setPrevDistance(e, gestureState) {\n        gestureState.prevDistance = pinchDistance(e);\n    }\n\n    function updateData(e, gesture, gestureState, navigationState) {\n        var axisDir,\n            point = getPoint(e, gesture);\n\n        switch (navigationState.navigationConstraint) {\n            case 'unconstrained':\n                navigationState.touchedAxis = null;\n                gestureState.prevTapPosition = {\n                    x: gestureState.prevPanPosition.x,\n                    y: gestureState.prevPanPosition.y\n                };\n                gestureState.prevPanPosition = {\n                    x: point.x,\n                    y: point.y\n                };\n                break;\n            case 'axisConstrained':\n                axisDir = navigationState.touchedAxis[0].direction;\n                navigationState.currentTouchedAxis = axisDir;\n                gestureState.prevTapPosition[axisDir] = gestureState.prevPanPosition[axisDir];\n                gestureState.prevPanPosition[axisDir] = point[axisDir];\n                break;\n            default:\n                break;\n        }\n    }\n\n    function distance(x1, y1, x2, y2) {\n        return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n    }\n\n    function pinchDistance(e) {\n        var t1 = e.detail.touches[0],\n            t2 = e.detail.touches[1];\n        return distance(t1.pageX, t1.pageY, t2.pageX, t2.pageY);\n    }\n\n    function updatePrevPanPosition(e, gesture, gestureState, navigationState) {\n        var point = getPoint(e, gesture);\n\n        switch (navigationState.navigationConstraint) {\n            case 'unconstrained':\n                gestureState.prevPanPosition.x = point.x;\n                gestureState.prevPanPosition.y = point.y;\n                break;\n            case 'axisConstrained':\n                gestureState.prevPanPosition[navigationState.currentTouchedAxis] =\n                point[navigationState.currentTouchedAxis];\n                break;\n            default:\n                break;\n        }\n    }\n\n    function delta(e, gesture, gestureState) {\n        var point = getPoint(e, gesture);\n\n        return {\n            x: point.x - gestureState.prevPanPosition.x,\n            y: point.y - gestureState.prevPanPosition.y\n        }\n    }\n\n    function getPoint(e, gesture) {\n        if (gesture === 'pinch') {\n            return {\n                x: (e.detail.touches[0].pageX + e.detail.touches[1].pageX) / 2,\n                y: (e.detail.touches[0].pageY + e.detail.touches[1].pageY) / 2\n            }\n        } else {\n            return {\n                x: e.detail.touches[0].pageX,\n                y: e.detail.touches[0].pageY\n            }\n        }\n    }\n})(jQuery);\n","/* global jQuery */\n\n/**\n## jquery.flot.hover.js\n\nThis plugin is used for mouse hover and tap on a point of plot series.\nIt supports the following options:\n```js\ngrid: {\n    hoverable: false, //to trigger plothover event on mouse hover or tap on a point\n    clickable: false //to trigger plotclick event on mouse hover\n}\n```\n\nIt listens to native mouse move event or click, as well as artificial generated\ntap and touchevent.\n\nWhen the mouse is over a point or a tap on a point is performed, that point or\nthe correscponding bar will be highlighted and a \"plothover\" event will be generated.\n\nCustom \"touchevent\" is triggered when any touch interaction is made. Hover plugin\nhandles this events by unhighlighting all of the previously highlighted points and generates\n\"plothovercleanup\" event to notify any part that is handling plothover (for exemple to cleanup\nthe tooltip from webcharts).\n*/\n\n(function($) {\n    'use strict';\n\n    var options = {\n        grid: {\n            hoverable: false,\n            clickable: false\n        }\n    };\n\n    var browser = $.plot.browser;\n\n    var eventType = {\n        click: 'click',\n        hover: 'hover'\n    }\n\n    function init(plot) {\n        var lastMouseMoveEvent;\n        var highlights = [];\n\n        function bindEvents(plot, eventHolder) {\n            var o = plot.getOptions();\n\n            if (o.grid.hoverable || o.grid.clickable) {\n                eventHolder[0].addEventListener('touchevent', triggerCleanupEvent, false);\n                eventHolder[0].addEventListener('tap', generatePlothoverEvent, false);\n            }\n\n            if (o.grid.clickable) {\n                eventHolder.bind(\"click\", onClick);\n            }\n\n            if (o.grid.hoverable) {\n                eventHolder.bind(\"mousemove\", onMouseMove);\n\n                // Use bind, rather than .mouseleave, because we officially\n                // still support jQuery 1.2.6, which doesn't define a shortcut\n                // for mouseenter or mouseleave.  This was a bug/oversight that\n                // was fixed somewhere around 1.3.x.  We can return to using\n                // .mouseleave when we drop support for 1.2.6.\n\n                eventHolder.bind(\"mouseleave\", onMouseLeave);\n            }\n        }\n\n        function shutdown(plot, eventHolder) {\n            eventHolder[0].removeEventListener('tap', generatePlothoverEvent);\n            eventHolder[0].removeEventListener('touchevent', triggerCleanupEvent);\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n            eventHolder.unbind(\"mouseleave\", onMouseLeave);\n            eventHolder.unbind(\"click\", onClick);\n            highlights = [];\n        }\n\n        function generatePlothoverEvent(e) {\n            var o = plot.getOptions(),\n                newEvent = new CustomEvent('mouseevent');\n\n            //transform from touch event to mouse event format\n            newEvent.pageX = e.detail.changedTouches[0].pageX;\n            newEvent.pageY = e.detail.changedTouches[0].pageY;\n            newEvent.clientX = e.detail.changedTouches[0].clientX;\n            newEvent.clientY = e.detail.changedTouches[0].clientY;\n\n            if (o.grid.hoverable) {\n                doTriggerClickHoverEvent(newEvent, eventType.hover, 30);\n            }\n            return false;\n        }\n\n        function doTriggerClickHoverEvent(event, eventType, searchDistance) {\n            var series = plot.getData();\n            if (event !== undefined &&\n                series.length > 0 &&\n                series[0].xaxis.c2p !== undefined &&\n                series[0].yaxis.c2p !== undefined) {\n                var eventToTrigger = \"plot\" + eventType;\n                var seriesFlag = eventType + \"able\";\n                triggerClickHoverEvent(eventToTrigger, event,\n                    function(i) {\n                        return series[i][seriesFlag] !== false;\n                    }, searchDistance);\n            }\n        }\n\n        function onMouseMove(e) {\n            lastMouseMoveEvent = e;\n            plot.getPlaceholder()[0].lastMouseMoveEvent = e;\n            doTriggerClickHoverEvent(e, eventType.hover);\n        }\n\n        function onMouseLeave(e) {\n            lastMouseMoveEvent = undefined;\n            plot.getPlaceholder()[0].lastMouseMoveEvent = undefined;\n            triggerClickHoverEvent(\"plothover\", e,\n                function(i) {\n                    return false;\n                });\n        }\n\n        function onClick(e) {\n            doTriggerClickHoverEvent(e, eventType.click);\n        }\n\n        function triggerCleanupEvent() {\n            plot.unhighlight();\n            plot.getPlaceholder().trigger('plothovercleanup');\n        }\n\n        // trigger click or hover event (they send the same parameters\n        // so we share their code)\n        function triggerClickHoverEvent(eventname, event, seriesFilter, searchDistance) {\n            var options = plot.getOptions(),\n                offset = plot.offset(),\n                page = browser.getPageXY(event),\n                canvasX = page.X - offset.left,\n                canvasY = page.Y - offset.top,\n                pos = plot.c2p({\n                    left: canvasX,\n                    top: canvasY\n                }),\n                distance = searchDistance !== undefined ? searchDistance : options.grid.mouseActiveRadius;\n\n            pos.pageX = page.X;\n            pos.pageY = page.Y;\n\n            var items = plot.findNearbyItems(canvasX, canvasY, seriesFilter, distance);\n            var item = items[0];\n\n            for (let i = 1; i < items.length; ++i) {\n                if (item.distance === undefined ||\n                    items[i].distance < item.distance) {\n                    item = items[i];\n                }\n            }\n\n            if (item) {\n                // fill in mouse pos for any listeners out there\n                item.pageX = parseInt(item.series.xaxis.p2c(item.datapoint[0]) + offset.left, 10);\n                item.pageY = parseInt(item.series.yaxis.p2c(item.datapoint[1]) + offset.top, 10);\n            } else {\n                item = null;\n            }\n\n            if (options.grid.autoHighlight) {\n                // clear auto-highlights\n                for (let i = 0; i < highlights.length; ++i) {\n                    var h = highlights[i];\n                    if ((h.auto === eventname &&\n                        !(item && h.series === item.series &&\n                            h.point[0] === item.datapoint[0] &&\n                            h.point[1] === item.datapoint[1])) || !item) {\n                        unhighlight(h.series, h.point);\n                    }\n                }\n\n                if (item) {\n                    highlight(item.series, item.datapoint, eventname);\n                }\n            }\n\n            plot.getPlaceholder().trigger(eventname, [pos, item, items]);\n        }\n\n        function highlight(s, point, auto) {\n            if (typeof s === \"number\") {\n                s = plot.getData()[s];\n            }\n\n            if (typeof point === \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i === -1) {\n                highlights.push({\n                    series: s,\n                    point: point,\n                    auto: auto\n                });\n\n                plot.triggerRedrawOverlay();\n            } else if (!auto) {\n                highlights[i].auto = false;\n            }\n        }\n\n        function unhighlight(s, point) {\n            if (s == null && point == null) {\n                highlights = [];\n                plot.triggerRedrawOverlay();\n                return;\n            }\n\n            if (typeof s === \"number\") {\n                s = plot.getData()[s];\n            }\n\n            if (typeof point === \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i !== -1) {\n                highlights.splice(i, 1);\n\n                plot.triggerRedrawOverlay();\n            }\n        }\n\n        function indexOfHighlight(s, p) {\n            for (var i = 0; i < highlights.length; ++i) {\n                var h = highlights[i];\n                if (h.series === s &&\n                    h.point[0] === p[0] &&\n                    h.point[1] === p[1]) {\n                    return i;\n                }\n            }\n\n            return -1;\n        }\n\n        function processDatapoints() {\n            triggerCleanupEvent();\n            doTriggerClickHoverEvent(lastMouseMoveEvent, eventType.hover);\n        }\n\n        function setupGrid() {\n            doTriggerClickHoverEvent(lastMouseMoveEvent, eventType.hover);\n        }\n\n        function drawOverlay(plot, octx, overlay) {\n            var plotOffset = plot.getPlotOffset(),\n                i, hi;\n\n            octx.save();\n            octx.translate(plotOffset.left, plotOffset.top);\n            for (i = 0; i < highlights.length; ++i) {\n                hi = highlights[i];\n\n                if (hi.series.bars.show) drawBarHighlight(hi.series, hi.point, octx);\n                else drawPointHighlight(hi.series, hi.point, octx, plot);\n            }\n            octx.restore();\n        }\n\n        function drawPointHighlight(series, point, octx, plot) {\n            var x = point[0],\n                y = point[1],\n                axisx = series.xaxis,\n                axisy = series.yaxis,\n                highlightColor = (typeof series.highlightColor === \"string\") ? series.highlightColor : $.color.parse(series.color).scale('a', 0.5).toString();\n\n            if (x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max) {\n                return;\n            }\n\n            var pointRadius = series.points.radius + series.points.lineWidth / 2;\n            octx.lineWidth = pointRadius;\n            octx.strokeStyle = highlightColor;\n            var radius = 1.5 * pointRadius;\n            x = axisx.p2c(x);\n            y = axisy.p2c(y);\n\n            octx.beginPath();\n            var symbol = series.points.symbol;\n            if (symbol === 'circle') {\n                octx.arc(x, y, radius, 0, 2 * Math.PI, false);\n            } else if (typeof symbol === 'string' && plot.drawSymbol && plot.drawSymbol[symbol]) {\n                plot.drawSymbol[symbol](octx, x, y, radius, false);\n            }\n\n            octx.closePath();\n            octx.stroke();\n        }\n\n        function drawBarHighlight(series, point, octx) {\n            var highlightColor = (typeof series.highlightColor === \"string\") ? series.highlightColor : $.color.parse(series.color).scale('a', 0.5).toString(),\n                fillStyle = highlightColor,\n                barLeft;\n\n            var barWidth = series.bars.barWidth[0] || series.bars.barWidth;\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -barWidth;\n                    break;\n                default:\n                    barLeft = -barWidth / 2;\n            }\n\n            octx.lineWidth = series.bars.lineWidth;\n            octx.strokeStyle = highlightColor;\n\n            var fillTowards = series.bars.fillTowards || 0,\n                bottom = fillTowards > series.yaxis.min ? Math.min(series.yaxis.max, fillTowards) : series.yaxis.min;\n\n            $.plot.drawSeries.drawBar(point[0], point[1], point[2] || bottom, barLeft, barLeft + barWidth,\n                function() {\n                    return fillStyle;\n                }, series.xaxis, series.yaxis, octx, series.bars.horizontal, series.bars.lineWidth);\n        }\n\n        function initHover(plot, options) {\n            plot.highlight = highlight;\n            plot.unhighlight = unhighlight;\n            if (options.grid.hoverable || options.grid.clickable) {\n                plot.hooks.drawOverlay.push(drawOverlay);\n                plot.hooks.processDatapoints.push(processDatapoints);\n                plot.hooks.setupGrid.push(setupGrid);\n            }\n\n            lastMouseMoveEvent = plot.getPlaceholder()[0].lastMouseMoveEvent;\n        }\n\n        plot.hooks.bindEvents.push(bindEvents);\n        plot.hooks.shutdown.push(shutdown);\n        plot.hooks.processOptions.push(initHover);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'hover',\n        version: '0.1'\n    });\n})(jQuery);\n","\n/* global jQuery */\n\n(function($) {\n    'use strict';\n\n    var options = {\n        propagateSupportedGesture: false\n    };\n\n    function init(plot) {\n        plot.hooks.processOptions.push(initTouchNavigation);\n    }\n\n    function initTouchNavigation(plot, options) {\n        var gestureState = {\n                twoTouches: false,\n                currentTapStart: { x: 0, y: 0 },\n                currentTapEnd: { x: 0, y: 0 },\n                prevTap: { x: 0, y: 0 },\n                currentTap: { x: 0, y: 0 },\n                interceptedLongTap: false,\n                isUnsupportedGesture: false,\n                prevTapTime: null,\n                tapStartTime: null,\n                longTapTriggerId: null\n            },\n            maxDistanceBetweenTaps = 20,\n            maxIntervalBetweenTaps = 500,\n            maxLongTapDistance = 20,\n            minLongTapDuration = 1500,\n            pressedTapDuration = 125,\n            mainEventHolder;\n\n        function interpretGestures(e) {\n            var o = plot.getOptions();\n\n            if (!o.pan.active && !o.zoom.active) {\n                return;\n            }\n\n            updateOnMultipleTouches(e);\n            mainEventHolder.dispatchEvent(new CustomEvent('touchevent', { detail: e }));\n\n            if (isPinchEvent(e)) {\n                executeAction(e, 'pinch');\n            } else {\n                executeAction(e, 'pan');\n                if (!wasPinchEvent(e)) {\n                    if (isDoubleTap(e)) {\n                        executeAction(e, 'doubleTap');\n                    }\n                    executeAction(e, 'tap');\n                    executeAction(e, 'longTap');\n                }\n            }\n        }\n\n        function executeAction(e, gesture) {\n            switch (gesture) {\n                case 'pan':\n                    pan[e.type](e);\n                    break;\n                case 'pinch':\n                    pinch[e.type](e);\n                    break;\n                case 'doubleTap':\n                    doubleTap.onDoubleTap(e);\n                    break;\n                case 'longTap':\n                    longTap[e.type](e);\n                    break;\n                case 'tap':\n                    tap[e.type](e);\n                    break;\n            }\n        }\n\n        function bindEvents(plot, eventHolder) {\n            mainEventHolder = eventHolder[0];\n            eventHolder[0].addEventListener('touchstart', interpretGestures, false);\n            eventHolder[0].addEventListener('touchmove', interpretGestures, false);\n            eventHolder[0].addEventListener('touchend', interpretGestures, false);\n        }\n\n        function shutdown(plot, eventHolder) {\n            eventHolder[0].removeEventListener('touchstart', interpretGestures);\n            eventHolder[0].removeEventListener('touchmove', interpretGestures);\n            eventHolder[0].removeEventListener('touchend', interpretGestures);\n            if (gestureState.longTapTriggerId) {\n                clearTimeout(gestureState.longTapTriggerId);\n                gestureState.longTapTriggerId = null;\n            }\n        }\n\n        var pan = {\n            touchstart: function(e) {\n                updatePrevForDoubleTap();\n                updateCurrentForDoubleTap(e);\n                updateStateForLongTapStart(e);\n\n                mainEventHolder.dispatchEvent(new CustomEvent('panstart', { detail: e }));\n            },\n\n            touchmove: function(e) {\n                preventEventBehaviors(e);\n\n                updateCurrentForDoubleTap(e);\n                updateStateForLongTapEnd(e);\n\n                if (!gestureState.isUnsupportedGesture) {\n                    mainEventHolder.dispatchEvent(new CustomEvent('pandrag', { detail: e }));\n                }\n            },\n\n            touchend: function(e) {\n                preventEventBehaviors(e);\n\n                if (wasPinchEvent(e)) {\n                    mainEventHolder.dispatchEvent(new CustomEvent('pinchend', { detail: e }));\n                    mainEventHolder.dispatchEvent(new CustomEvent('panstart', { detail: e }));\n                } else if (noTouchActive(e)) {\n                    mainEventHolder.dispatchEvent(new CustomEvent('panend', { detail: e }));\n                }\n            }\n        };\n\n        var pinch = {\n            touchstart: function(e) {\n                mainEventHolder.dispatchEvent(new CustomEvent('pinchstart', { detail: e }));\n            },\n\n            touchmove: function(e) {\n                preventEventBehaviors(e);\n                gestureState.twoTouches = isPinchEvent(e);\n                if (!gestureState.isUnsupportedGesture) {\n                    mainEventHolder.dispatchEvent(new CustomEvent('pinchdrag', { detail: e }));\n                }\n            },\n\n            touchend: function(e) {\n                preventEventBehaviors(e);\n            }\n        };\n\n        var doubleTap = {\n            onDoubleTap: function(e) {\n                preventEventBehaviors(e);\n                mainEventHolder.dispatchEvent(new CustomEvent('doubletap', { detail: e }));\n            }\n        };\n\n        var longTap = {\n            touchstart: function(e) {\n                longTap.waitForLongTap(e);\n            },\n\n            touchmove: function(e) {\n            },\n\n            touchend: function(e) {\n                if (gestureState.longTapTriggerId) {\n                    clearTimeout(gestureState.longTapTriggerId);\n                    gestureState.longTapTriggerId = null;\n                }\n            },\n\n            isLongTap: function(e) {\n                var currentTime = new Date().getTime(),\n                    tapDuration = currentTime - gestureState.tapStartTime;\n                if (tapDuration >= minLongTapDuration && !gestureState.interceptedLongTap) {\n                    if (distance(gestureState.currentTapStart.x, gestureState.currentTapStart.y, gestureState.currentTapEnd.x, gestureState.currentTapEnd.y) < maxLongTapDistance) {\n                        gestureState.interceptedLongTap = true;\n                        return true;\n                    }\n                }\n                return false;\n            },\n\n            waitForLongTap: function(e) {\n                var longTapTrigger = function() {\n                    if (longTap.isLongTap(e)) {\n                        mainEventHolder.dispatchEvent(new CustomEvent('longtap', { detail: e }));\n                    }\n                    gestureState.longTapTriggerId = null;\n                };\n                if (!gestureState.longTapTriggerId) {\n                    gestureState.longTapTriggerId = setTimeout(longTapTrigger, minLongTapDuration);\n                }\n            }\n        };\n\n        var tap = {\n            touchstart: function(e) {\n                gestureState.tapStartTime = new Date().getTime();\n            },\n\n            touchmove: function(e) {\n            },\n\n            touchend: function(e) {\n                if (tap.isTap(e)) {\n                    mainEventHolder.dispatchEvent(new CustomEvent('tap', { detail: e }));\n                    preventEventBehaviors(e);\n                }\n            },\n\n            isTap: function(e) {\n                var currentTime = new Date().getTime(),\n                    tapDuration = currentTime - gestureState.tapStartTime;\n                if (tapDuration <= pressedTapDuration) {\n                    if (distance(gestureState.currentTapStart.x, gestureState.currentTapStart.y, gestureState.currentTapEnd.x, gestureState.currentTapEnd.y) < maxLongTapDistance) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        };\n\n        if (options.pan.enableTouch === true || options.zoom.enableTouch) {\n            plot.hooks.bindEvents.push(bindEvents);\n            plot.hooks.shutdown.push(shutdown);\n        };\n\n        function updatePrevForDoubleTap() {\n            gestureState.prevTap = {\n                x: gestureState.currentTap.x,\n                y: gestureState.currentTap.y\n            };\n        };\n\n        function updateCurrentForDoubleTap(e) {\n            gestureState.currentTap = {\n                x: e.touches[0].pageX,\n                y: e.touches[0].pageY\n            };\n        }\n\n        function updateStateForLongTapStart(e) {\n            gestureState.tapStartTime = new Date().getTime();\n            gestureState.interceptedLongTap = false;\n            gestureState.currentTapStart = {\n                x: e.touches[0].pageX,\n                y: e.touches[0].pageY\n            };\n            gestureState.currentTapEnd = {\n                x: e.touches[0].pageX,\n                y: e.touches[0].pageY\n            };\n        };\n\n        function updateStateForLongTapEnd(e) {\n            gestureState.currentTapEnd = {\n                x: e.touches[0].pageX,\n                y: e.touches[0].pageY\n            };\n        };\n\n        function isDoubleTap(e) {\n            var currentTime = new Date().getTime(),\n                intervalBetweenTaps = currentTime - gestureState.prevTapTime;\n\n            if (intervalBetweenTaps >= 0 && intervalBetweenTaps < maxIntervalBetweenTaps) {\n                if (distance(gestureState.prevTap.x, gestureState.prevTap.y, gestureState.currentTap.x, gestureState.currentTap.y) < maxDistanceBetweenTaps) {\n                    e.firstTouch = gestureState.prevTap;\n                    e.secondTouch = gestureState.currentTap;\n                    return true;\n                }\n            }\n            gestureState.prevTapTime = currentTime;\n            return false;\n        }\n\n        function preventEventBehaviors(e) {\n            if (!gestureState.isUnsupportedGesture) {\n                e.preventDefault();\n                if (!plot.getOptions().propagateSupportedGesture) {\n                    e.stopPropagation();\n                }\n            }\n        }\n\n        function distance(x1, y1, x2, y2) {\n            return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        }\n\n        function noTouchActive(e) {\n            return (e.touches && e.touches.length === 0);\n        }\n\n        function wasPinchEvent(e) {\n            return (gestureState.twoTouches && e.touches.length === 1);\n        }\n\n        function updateOnMultipleTouches(e) {\n            if (e.touches.length >= 3) {\n                gestureState.isUnsupportedGesture = true;\n            } else {\n                gestureState.isUnsupportedGesture = false;\n            }\n        }\n\n        function isPinchEvent(e) {\n            if (e.touches && e.touches.length >= 2) {\n                if (e.touches[0].target === plot.getEventHolder() &&\n                    e.touches[1].target === plot.getEventHolder()) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'navigateTouch',\n        version: '0.3'\n    });\n})(jQuery);\n","/* Pretty handling of time axes.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nSet axis.mode to \"time\" to enable. See the section \"Time series data\" in\nAPI.txt for details.\n*/\n\n(function($) {\n    'use strict';\n\n    var options = {\n        xaxis: {\n            timezone: null, // \"browser\" for local to the client or timezone for timezone-js\n            timeformat: null, // format string to use\n            twelveHourClock: false, // 12 or 24 time in time mode\n            monthNames: null, // list of names of months\n            timeBase: 'seconds' // are the values in given in mircoseconds, milliseconds or seconds\n        },\n        yaxis: {\n            timeBase: 'seconds'\n        }\n    };\n\n    var floorInBase = $.plot.saturated.floorInBase;\n\n    // Method to provide microsecond support to Date like classes.\n    var CreateMicroSecondDate = function(DateType, microEpoch) {\n        var newDate = new DateType(microEpoch);\n\n        var oldSetTime = newDate.setTime.bind(newDate);\n        newDate.update = function(microEpoch) {\n            oldSetTime(microEpoch);\n\n            // Round epoch to 3 decimal accuracy\n            microEpoch = Math.round(microEpoch * 1000) / 1000;\n\n            // Microseconds are stored as integers\n            this.microseconds = 1000 * (microEpoch - Math.floor(microEpoch));\n        };\n\n        var oldGetTime = newDate.getTime.bind(newDate);\n        newDate.getTime = function () {\n            var microEpoch = oldGetTime() + this.microseconds / 1000;\n            return microEpoch;\n        };\n\n        newDate.setTime = function (microEpoch) {\n            this.update(microEpoch);\n        };\n\n        newDate.getMicroseconds = function() {\n            return this.microseconds;\n        };\n\n        newDate.setMicroseconds = function(microseconds) {\n            var epochWithoutMicroseconds = oldGetTime();\n            var newEpoch = epochWithoutMicroseconds + microseconds / 1000;\n            this.update(newEpoch);\n        };\n\n        newDate.setUTCMicroseconds = function(microseconds) { this.setMicroseconds(microseconds); }\n\n        newDate.getUTCMicroseconds = function() { return this.getMicroseconds(); }\n\n        newDate.microseconds = null;\n        newDate.microEpoch = null;\n        newDate.update(microEpoch);\n        return newDate;\n    }\n\n    // Returns a string with the date d formatted according to fmt.\n    // A subset of the Open Group's strftime format is supported.\n\n    function formatDate(d, fmt, monthNames, dayNames) {\n        if (typeof d.strftime === \"function\") {\n            return d.strftime(fmt);\n        }\n\n        var leftPad = function(n, pad) {\n            n = \"\" + n;\n            pad = \"\" + (pad == null ? \"0\" : pad);\n            return n.length === 1 ? pad + n : n;\n        };\n\n        var formatSubSeconds = function(milliseconds, microseconds, numberDecimalPlaces) {\n            var totalMicroseconds = milliseconds * 1000 + microseconds;\n            var formattedString;\n            if (numberDecimalPlaces < 6 && numberDecimalPlaces > 0) {\n                var magnitude = parseFloat('1e' + (numberDecimalPlaces - 6));\n                totalMicroseconds = Math.round(Math.round(totalMicroseconds * magnitude) / magnitude);\n                formattedString = ('00000' + totalMicroseconds).slice(-6, -(6 - numberDecimalPlaces));\n            } else {\n                totalMicroseconds = Math.round(totalMicroseconds)\n                formattedString = ('00000' + totalMicroseconds).slice(-6);\n            }\n            return formattedString;\n        };\n\n        var r = [];\n        var escape = false;\n        var hours = d.getHours();\n        var isAM = hours < 12;\n\n        if (!monthNames) {\n            monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n        }\n\n        if (!dayNames) {\n            dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n        }\n\n        var hours12;\n        if (hours > 12) {\n            hours12 = hours - 12;\n        } else if (hours === 0) {\n            hours12 = 12;\n        } else {\n            hours12 = hours;\n        }\n\n        var decimals = -1;\n        for (var i = 0; i < fmt.length; ++i) {\n            var c = fmt.charAt(i);\n\n            if (!isNaN(Number(c)) && Number(c) > 0) {\n                decimals = Number(c);\n            } else if (escape) {\n                switch (c) {\n                    case 'a': c = \"\" + dayNames[d.getDay()]; break;\n                    case 'b': c = \"\" + monthNames[d.getMonth()]; break;\n                    case 'd': c = leftPad(d.getDate()); break;\n                    case 'e': c = leftPad(d.getDate(), \" \"); break;\n                    case 'h': // For back-compat with 0.7; remove in 1.0\n                    case 'H': c = leftPad(hours); break;\n                    case 'I': c = leftPad(hours12); break;\n                    case 'l': c = leftPad(hours12, \" \"); break;\n                    case 'm': c = leftPad(d.getMonth() + 1); break;\n                    case 'M': c = leftPad(d.getMinutes()); break;\n                    // quarters not in Open Group's strftime specification\n                    case 'q':\n                        c = \"\" + (Math.floor(d.getMonth() / 3) + 1); break;\n                    case 'S': c = leftPad(d.getSeconds()); break;\n                    case 's': c = \"\" + formatSubSeconds(d.getMilliseconds(), d.getMicroseconds(), decimals); break;\n                    case 'y': c = leftPad(d.getFullYear() % 100); break;\n                    case 'Y': c = \"\" + d.getFullYear(); break;\n                    case 'p': c = (isAM) ? (\"\" + \"am\") : (\"\" + \"pm\"); break;\n                    case 'P': c = (isAM) ? (\"\" + \"AM\") : (\"\" + \"PM\"); break;\n                    case 'w': c = \"\" + d.getDay(); break;\n                }\n                r.push(c);\n                escape = false;\n            } else {\n                if (c === \"%\") {\n                    escape = true;\n                } else {\n                    r.push(c);\n                }\n            }\n        }\n\n        return r.join(\"\");\n    }\n\n    // To have a consistent view of time-based data independent of which time\n    // zone the client happens to be in we need a date-like object independent\n    // of time zones.  This is done through a wrapper that only calls the UTC\n    // versions of the accessor methods.\n\n    function makeUtcWrapper(d) {\n        function addProxyMethod(sourceObj, sourceMethod, targetObj, targetMethod) {\n            sourceObj[sourceMethod] = function() {\n                return targetObj[targetMethod].apply(targetObj, arguments);\n            };\n        }\n\n        var utc = {\n            date: d\n        };\n\n        // support strftime, if found\n        if (d.strftime !== undefined) {\n            addProxyMethod(utc, \"strftime\", d, \"strftime\");\n        }\n\n        addProxyMethod(utc, \"getTime\", d, \"getTime\");\n        addProxyMethod(utc, \"setTime\", d, \"setTime\");\n\n        var props = [\"Date\", \"Day\", \"FullYear\", \"Hours\", \"Minutes\", \"Month\", \"Seconds\", \"Milliseconds\", \"Microseconds\"];\n\n        for (var p = 0; p < props.length; p++) {\n            addProxyMethod(utc, \"get\" + props[p], d, \"getUTC\" + props[p]);\n            addProxyMethod(utc, \"set\" + props[p], d, \"setUTC\" + props[p]);\n        }\n\n        return utc;\n    }\n\n    // select time zone strategy.  This returns a date-like object tied to the\n    // desired timezone\n    function dateGenerator(ts, opts) {\n        var maxDateValue = 8640000000000000;\n\n        if (opts && opts.timeBase === 'seconds') {\n            ts *= 1000;\n        } else if (opts.timeBase === 'microseconds') {\n            ts /= 1000;\n        }\n\n        if (ts > maxDateValue) {\n            ts = maxDateValue;\n        } else if (ts < -maxDateValue) {\n            ts = -maxDateValue;\n        }\n\n        if (opts.timezone === \"browser\") {\n            return CreateMicroSecondDate(Date, ts);\n        } else if (!opts.timezone || opts.timezone === \"utc\") {\n            return makeUtcWrapper(CreateMicroSecondDate(Date, ts));\n        } else if (typeof timezoneJS !== \"undefined\" && typeof timezoneJS.Date !== \"undefined\") {\n            var d = CreateMicroSecondDate(timezoneJS.Date, ts);\n            // timezone-js is fickle, so be sure to set the time zone before\n            // setting the time.\n            d.setTimezone(opts.timezone);\n            d.setTime(ts);\n            return d;\n        } else {\n            return makeUtcWrapper(CreateMicroSecondDate(Date, ts));\n        }\n    }\n\n    // map of app. size of time units in seconds\n    var timeUnitSizeSeconds = {\n        \"microsecond\": 0.000001,\n        \"millisecond\": 0.001,\n        \"second\": 1,\n        \"minute\": 60,\n        \"hour\": 60 * 60,\n        \"day\": 24 * 60 * 60,\n        \"month\": 30 * 24 * 60 * 60,\n        \"quarter\": 3 * 30 * 24 * 60 * 60,\n        \"year\": 365.2425 * 24 * 60 * 60\n    };\n\n    // map of app. size of time units in milliseconds\n    var timeUnitSizeMilliseconds = {\n        \"microsecond\": 0.001,\n        \"millisecond\": 1,\n        \"second\": 1000,\n        \"minute\": 60 * 1000,\n        \"hour\": 60 * 60 * 1000,\n        \"day\": 24 * 60 * 60 * 1000,\n        \"month\": 30 * 24 * 60 * 60 * 1000,\n        \"quarter\": 3 * 30 * 24 * 60 * 60 * 1000,\n        \"year\": 365.2425 * 24 * 60 * 60 * 1000\n    };\n\n    // map of app. size of time units in microseconds\n    var timeUnitSizeMicroseconds = {\n        \"microsecond\": 1,\n        \"millisecond\": 1000,\n        \"second\": 1000000,\n        \"minute\": 60 * 1000000,\n        \"hour\": 60 * 60 * 1000000,\n        \"day\": 24 * 60 * 60 * 1000000,\n        \"month\": 30 * 24 * 60 * 60 * 1000000,\n        \"quarter\": 3 * 30 * 24 * 60 * 60 * 1000000,\n        \"year\": 365.2425 * 24 * 60 * 60 * 1000000\n    };\n\n    // the allowed tick sizes, after 1 year we use\n    // an integer algorithm\n\n    var baseSpec = [\n        [1, \"microsecond\"], [2, \"microsecond\"], [5, \"microsecond\"], [10, \"microsecond\"],\n        [25, \"microsecond\"], [50, \"microsecond\"], [100, \"microsecond\"], [250, \"microsecond\"], [500, \"microsecond\"],\n        [1, \"millisecond\"], [2, \"millisecond\"], [5, \"millisecond\"], [10, \"millisecond\"],\n        [25, \"millisecond\"], [50, \"millisecond\"], [100, \"millisecond\"], [250, \"millisecond\"], [500, \"millisecond\"],\n        [1, \"second\"], [2, \"second\"], [5, \"second\"], [10, \"second\"],\n        [30, \"second\"],\n        [1, \"minute\"], [2, \"minute\"], [5, \"minute\"], [10, \"minute\"],\n        [30, \"minute\"],\n        [1, \"hour\"], [2, \"hour\"], [4, \"hour\"],\n        [8, \"hour\"], [12, \"hour\"],\n        [1, \"day\"], [2, \"day\"], [3, \"day\"],\n        [0.25, \"month\"], [0.5, \"month\"], [1, \"month\"],\n        [2, \"month\"]\n    ];\n\n    // we don't know which variant(s) we'll need yet, but generating both is\n    // cheap\n\n    var specMonths = baseSpec.concat([[3, \"month\"], [6, \"month\"],\n        [1, \"year\"]]);\n    var specQuarters = baseSpec.concat([[1, \"quarter\"], [2, \"quarter\"],\n        [1, \"year\"]]);\n\n    function dateTickGenerator(axis) {\n        var opts = axis.options,\n            ticks = [],\n            d = dateGenerator(axis.min, opts),\n            minSize = 0;\n\n        // make quarter use a possibility if quarters are\n        // mentioned in either of these options\n        var spec = (opts.tickSize && opts.tickSize[1] ===\n            \"quarter\") ||\n            (opts.minTickSize && opts.minTickSize[1] ===\n            \"quarter\") ? specQuarters : specMonths;\n\n        var timeUnitSize;\n        if (opts.timeBase === 'seconds') {\n            timeUnitSize = timeUnitSizeSeconds;\n        } else if (opts.timeBase === 'microseconds') {\n            timeUnitSize = timeUnitSizeMicroseconds;\n        } else {\n            timeUnitSize = timeUnitSizeMilliseconds;\n        }\n\n        if (opts.minTickSize !== null && opts.minTickSize !== undefined) {\n            if (typeof opts.tickSize === \"number\") {\n                minSize = opts.tickSize;\n            } else {\n                minSize = opts.minTickSize[0] * timeUnitSize[opts.minTickSize[1]];\n            }\n        }\n\n        for (var i = 0; i < spec.length - 1; ++i) {\n            if (axis.delta < (spec[i][0] * timeUnitSize[spec[i][1]] +\n                spec[i + 1][0] * timeUnitSize[spec[i + 1][1]]) / 2 &&\n                spec[i][0] * timeUnitSize[spec[i][1]] >= minSize) {\n                break;\n            }\n        }\n\n        var size = spec[i][0];\n        var unit = spec[i][1];\n        // special-case the possibility of several years\n        if (unit === \"year\") {\n            // if given a minTickSize in years, just use it,\n            // ensuring that it's an integer\n\n            if (opts.minTickSize !== null && opts.minTickSize !== undefined && opts.minTickSize[1] === \"year\") {\n                size = Math.floor(opts.minTickSize[0]);\n            } else {\n                var magn = parseFloat('1e' + Math.floor(Math.log(axis.delta / timeUnitSize.year) / Math.LN10));\n                var norm = (axis.delta / timeUnitSize.year) / magn;\n\n                if (norm < 1.5) {\n                    size = 1;\n                } else if (norm < 3) {\n                    size = 2;\n                } else if (norm < 7.5) {\n                    size = 5;\n                } else {\n                    size = 10;\n                }\n\n                size *= magn;\n            }\n\n            // minimum size for years is 1\n\n            if (size < 1) {\n                size = 1;\n            }\n        }\n\n        axis.tickSize = opts.tickSize || [size, unit];\n        var tickSize = axis.tickSize[0];\n        unit = axis.tickSize[1];\n\n        var step = tickSize * timeUnitSize[unit];\n\n        if (unit === \"microsecond\") {\n            d.setMicroseconds(floorInBase(d.getMicroseconds(), tickSize));\n        } else if (unit === \"millisecond\") {\n            d.setMilliseconds(floorInBase(d.getMilliseconds(), tickSize));\n        } else if (unit === \"second\") {\n            d.setSeconds(floorInBase(d.getSeconds(), tickSize));\n        } else if (unit === \"minute\") {\n            d.setMinutes(floorInBase(d.getMinutes(), tickSize));\n        } else if (unit === \"hour\") {\n            d.setHours(floorInBase(d.getHours(), tickSize));\n        } else if (unit === \"month\") {\n            d.setMonth(floorInBase(d.getMonth(), tickSize));\n        } else if (unit === \"quarter\") {\n            d.setMonth(3 * floorInBase(d.getMonth() / 3,\n                tickSize));\n        } else if (unit === \"year\") {\n            d.setFullYear(floorInBase(d.getFullYear(), tickSize));\n        }\n\n        // reset smaller components\n\n        if (step >= timeUnitSize.millisecond) {\n            if (step >= timeUnitSize.second) {\n                d.setMicroseconds(0);\n            } else {\n                d.setMicroseconds(d.getMilliseconds() * 1000);\n            }\n        }\n        if (step >= timeUnitSize.minute) {\n            d.setSeconds(0);\n        }\n        if (step >= timeUnitSize.hour) {\n            d.setMinutes(0);\n        }\n        if (step >= timeUnitSize.day) {\n            d.setHours(0);\n        }\n        if (step >= timeUnitSize.day * 4) {\n            d.setDate(1);\n        }\n        if (step >= timeUnitSize.month * 2) {\n            d.setMonth(floorInBase(d.getMonth(), 3));\n        }\n        if (step >= timeUnitSize.quarter * 2) {\n            d.setMonth(floorInBase(d.getMonth(), 6));\n        }\n        if (step >= timeUnitSize.year) {\n            d.setMonth(0);\n        }\n\n        var carry = 0;\n        var v = Number.NaN;\n        var v1000;\n        var prev;\n        do {\n            prev = v;\n            v1000 = d.getTime();\n            if (opts && opts.timeBase === 'seconds') {\n                v = v1000 / 1000;\n            } else if (opts && opts.timeBase === 'microseconds') {\n                v = v1000 * 1000;\n            } else {\n                v = v1000;\n            }\n\n            ticks.push(v);\n\n            if (unit === \"month\" || unit === \"quarter\") {\n                if (tickSize < 1) {\n                    // a bit complicated - we'll divide the\n                    // month/quarter up but we need to take\n                    // care of fractions so we don't end up in\n                    // the middle of a day\n                    d.setDate(1);\n                    var start = d.getTime();\n                    d.setMonth(d.getMonth() +\n                        (unit === \"quarter\" ? 3 : 1));\n                    var end = d.getTime();\n                    d.setTime((v + carry * timeUnitSize.hour + (end - start) * tickSize));\n                    carry = d.getHours();\n                    d.setHours(0);\n                } else {\n                    d.setMonth(d.getMonth() +\n                        tickSize * (unit === \"quarter\" ? 3 : 1));\n                }\n            } else if (unit === \"year\") {\n                d.setFullYear(d.getFullYear() + tickSize);\n            } else {\n                if (opts.timeBase === 'seconds') {\n                    d.setTime((v + step) * 1000);\n                } else if (opts.timeBase === 'microseconds') {\n                    d.setTime((v + step) / 1000);\n                } else {\n                    d.setTime(v + step);\n                }\n            }\n        } while (v < axis.max && v !== prev);\n\n        return ticks;\n    };\n\n    function init(plot) {\n        plot.hooks.processOptions.push(function (plot) {\n            $.each(plot.getAxes(), function(axisName, axis) {\n                var opts = axis.options;\n                if (opts.mode === \"time\") {\n                    axis.tickGenerator = dateTickGenerator;\n\n                    // if a tick formatter is already provided do not overwrite it\n                    if ('tickFormatter' in opts && typeof opts.tickFormatter === 'function') return;\n\n                    axis.tickFormatter = function (v, axis) {\n                        var d = dateGenerator(v, axis.options);\n\n                        // first check global format\n                        if (opts.timeformat != null) {\n                            return formatDate(d, opts.timeformat, opts.monthNames, opts.dayNames);\n                        }\n\n                        // possibly use quarters if quarters are mentioned in\n                        // any of these places\n                        var useQuarters = (axis.options.tickSize &&\n                                axis.options.tickSize[1] === \"quarter\") ||\n                            (axis.options.minTickSize &&\n                                axis.options.minTickSize[1] === \"quarter\");\n\n                        var timeUnitSize;\n                        if (opts.timeBase === 'seconds') {\n                            timeUnitSize = timeUnitSizeSeconds;\n                        } else if (opts.timeBase === 'microseconds') {\n                            timeUnitSize = timeUnitSizeMicroseconds;\n                        } else {\n                            timeUnitSize = timeUnitSizeMilliseconds;\n                        }\n\n                        var t = axis.tickSize[0] * timeUnitSize[axis.tickSize[1]];\n                        var span = axis.max - axis.min;\n                        var suffix = (opts.twelveHourClock) ? \" %p\" : \"\";\n                        var hourCode = (opts.twelveHourClock) ? \"%I\" : \"%H\";\n                        var factor;\n                        var fmt;\n\n                        if (opts.timeBase === 'seconds') {\n                            factor = 1;\n                        } else if (opts.timeBase === 'microseconds') {\n                            factor = 1000000\n                        } else {\n                            factor = 1000;\n                        }\n\n                        if (t < timeUnitSize.second) {\n                            var decimals = -Math.floor(Math.log10(t / factor))\n\n                            // the two-and-halves require an additional decimal\n                            if (String(t).indexOf('25') > -1) {\n                                decimals++;\n                            }\n\n                            fmt = \"%S.%\" + decimals + \"s\";\n                        } else\n                        if (t < timeUnitSize.minute) {\n                            fmt = hourCode + \":%M:%S\" + suffix;\n                        } else if (t < timeUnitSize.day) {\n                            if (span < 2 * timeUnitSize.day) {\n                                fmt = hourCode + \":%M\" + suffix;\n                            } else {\n                                fmt = \"%b %d \" + hourCode + \":%M\" + suffix;\n                            }\n                        } else if (t < timeUnitSize.month) {\n                            fmt = \"%b %d\";\n                        } else if ((useQuarters && t < timeUnitSize.quarter) ||\n                            (!useQuarters && t < timeUnitSize.year)) {\n                            if (span < timeUnitSize.year) {\n                                fmt = \"%b\";\n                            } else {\n                                fmt = \"%b %Y\";\n                            }\n                        } else if (useQuarters && t < timeUnitSize.year) {\n                            if (span < timeUnitSize.year) {\n                                fmt = \"Q%q\";\n                            } else {\n                                fmt = \"Q%q %Y\";\n                            }\n                        } else {\n                            fmt = \"%Y\";\n                        }\n\n                        var rt = formatDate(d, fmt, opts.monthNames, opts.dayNames);\n\n                        return rt;\n                    };\n                }\n            });\n        });\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'time',\n        version: '1.0'\n    });\n\n    // Time-axis support used to be in Flot core, which exposed the\n    // formatDate function on the plot object.  Various plugins depend\n    // on the function, so we need to re-expose it here.\n\n    $.plot.formatDate = formatDate;\n    $.plot.dateGenerator = dateGenerator;\n    $.plot.dateTickGenerator = dateTickGenerator;\n    $.plot.makeUtcWrapper = makeUtcWrapper;\n})(jQuery);\n","/*\nAxis label plugin for flot\n\nDerived from:\nAxis Labels Plugin for flot.\nhttp://github.com/markrcote/flot-axislabels\n\nOriginal code is Copyright (c) 2010 Xuan Luo.\nOriginal code was released under the GPLv3 license by Xuan Luo, September 2010.\nOriginal code was rereleased under the MIT license by Xuan Luo, April 2012.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n(function($) {\n    \"use strict\";\n\n    var options = {\n        axisLabels: {\n            show: true\n        }\n    };\n\n    function AxisLabel(axisName, position, padding, placeholder, axisLabel, surface) {\n        this.axisName = axisName;\n        this.position = position;\n        this.padding = padding;\n        this.placeholder = placeholder;\n        this.axisLabel = axisLabel;\n        this.surface = surface;\n        this.width = 0;\n        this.height = 0;\n        this.elem = null;\n    }\n\n    AxisLabel.prototype.calculateSize = function() {\n        var axisId = this.axisName + 'Label',\n            layerId = axisId + 'Layer',\n            className = axisId + ' axisLabels';\n\n        var info = this.surface.getTextInfo(layerId, this.axisLabel, className);\n        this.labelWidth = info.width;\n        this.labelHeight = info.height;\n\n        if (this.position === 'left' || this.position === 'right') {\n            this.width = this.labelHeight + this.padding;\n            this.height = 0;\n        } else {\n            this.width = 0;\n            this.height = this.labelHeight + this.padding;\n        }\n    };\n\n    AxisLabel.prototype.transforms = function(degrees, x, y, svgLayer) {\n        var transforms = [], translate, rotate;\n        if (x !== 0 || y !== 0) {\n            translate = svgLayer.createSVGTransform();\n            translate.setTranslate(x, y);\n            transforms.push(translate);\n        }\n        if (degrees !== 0) {\n            rotate = svgLayer.createSVGTransform();\n            var centerX = Math.round(this.labelWidth / 2),\n                centerY = 0;\n            rotate.setRotate(degrees, centerX, centerY);\n            transforms.push(rotate);\n        }\n\n        return transforms;\n    };\n\n    AxisLabel.prototype.calculateOffsets = function(box) {\n        var offsets = {\n            x: 0,\n            y: 0,\n            degrees: 0\n        };\n        if (this.position === 'bottom') {\n            offsets.x = box.left + box.width / 2 - this.labelWidth / 2;\n            offsets.y = box.top + box.height - this.labelHeight;\n        } else if (this.position === 'top') {\n            offsets.x = box.left + box.width / 2 - this.labelWidth / 2;\n            offsets.y = box.top;\n        } else if (this.position === 'left') {\n            offsets.degrees = -90;\n            offsets.x = box.left - this.labelWidth / 2;\n            offsets.y = box.height / 2 + box.top;\n        } else if (this.position === 'right') {\n            offsets.degrees = 90;\n            offsets.x = box.left + box.width - this.labelWidth / 2;\n            offsets.y = box.height / 2 + box.top;\n        }\n        offsets.x = Math.round(offsets.x);\n        offsets.y = Math.round(offsets.y);\n\n        return offsets;\n    };\n\n    AxisLabel.prototype.cleanup = function() {\n        var axisId = this.axisName + 'Label',\n            layerId = axisId + 'Layer',\n            className = axisId + ' axisLabels';\n        this.surface.removeText(layerId, 0, 0, this.axisLabel, className);\n    };\n\n    AxisLabel.prototype.draw = function(box) {\n        var axisId = this.axisName + 'Label',\n            layerId = axisId + 'Layer',\n            className = axisId + ' axisLabels',\n            offsets = this.calculateOffsets(box),\n            style = {\n                position: 'absolute',\n                bottom: '',\n                right: '',\n                display: 'inline-block',\n                'white-space': 'nowrap'\n            };\n\n        var layer = this.surface.getSVGLayer(layerId);\n        var transforms = this.transforms(offsets.degrees, offsets.x, offsets.y, layer.parentNode);\n\n        this.surface.addText(layerId, 0, 0, this.axisLabel, className, undefined, undefined, undefined, undefined, transforms);\n        this.surface.render();\n        Object.keys(style).forEach(function(key) {\n            layer.style[key] = style[key];\n        });\n    };\n\n    function init(plot) {\n        plot.hooks.processOptions.push(function(plot, options) {\n            if (!options.axisLabels.show) {\n                return;\n            }\n\n            var axisLabels = {};\n            var defaultPadding = 2; // padding between axis and tick labels\n\n            plot.hooks.axisReserveSpace.push(function(plot, axis) {\n                var opts = axis.options;\n                var axisName = axis.direction + axis.n;\n\n                axis.labelHeight += axis.boxPosition.centerY;\n                axis.labelWidth += axis.boxPosition.centerX;\n\n                if (!opts || !opts.axisLabel || !axis.show) {\n                    return;\n                }\n\n                var padding = opts.axisLabelPadding === undefined\n                    ? defaultPadding\n                    : opts.axisLabelPadding;\n\n                var axisLabel = axisLabels[axisName];\n                if (!axisLabel) {\n                    axisLabel = new AxisLabel(axisName,\n                        opts.position, padding,\n                        plot.getPlaceholder()[0], opts.axisLabel, plot.getSurface());\n                    axisLabels[axisName] = axisLabel;\n                }\n\n                axisLabel.calculateSize();\n\n                // Incrementing the sizes of the tick labels.\n                axis.labelHeight += axisLabel.height;\n                axis.labelWidth += axisLabel.width;\n            });\n\n            // TODO - use the drawAxis hook\n            plot.hooks.draw.push(function(plot, ctx) {\n                $.each(plot.getAxes(), function(flotAxisName, axis) {\n                    var opts = axis.options;\n                    if (!opts || !opts.axisLabel || !axis.show) {\n                        return;\n                    }\n\n                    var axisName = axis.direction + axis.n;\n                    axisLabels[axisName].draw(axis.box);\n                });\n            });\n\n            plot.hooks.shutdown.push(function(plot, eventHolder) {\n                for (var axisName in axisLabels) {\n                    axisLabels[axisName].cleanup();\n                }\n            });\n        });\n    };\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'axisLabels',\n        version: '3.0'\n    });\n})(jQuery);\n","/* Flot plugin for selecting regions of a plot.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\nselection: {\n    mode: null or \"x\" or \"y\" or \"xy\" or \"smart\",\n    color: color,\n    shape: \"round\" or \"miter\" or \"bevel\",\n    visualization: \"fill\" or \"focus\",\n    displaySelectionDecorations: true or false,\n    minSize: number of pixels\n}\n\nSelection support is enabled by setting the mode to one of \"x\", \"y\" or \"xy\".\nIn \"x\" mode, the user will only be able to specify the x range, similarly for\n\"y\" mode. For \"xy\", the selection becomes a rectangle where both ranges can be\nspecified. \"color\" is color of the selection (if you need to change the color\nlater on, you can get to it with plot.getOptions().selection.color). \"shape\"\nis the shape of the corners of the selection.\n\nThe way how the selection is visualized, can be changed by using the option\n\"visualization\". Flot currently supports two modes: \"focus\" and \"fill\". The\noption \"focus\" draws a colored bezel around the selected area while keeping\nthe selected area clear. The option \"fill\" highlights (i.e., fills) the\nselected area with a colored highlight.\n\nThere are optional selection decorations (handles) that are rendered with the\n\"focus\" visualization option. The selection decoration is rendered by default\nbut can be turned off by setting displaySelectionDecorations to false.\n\n\"minSize\" is the minimum size a selection can be in pixels. This value can\nbe customized to determine the smallest size a selection can be and still\nhave the selection rectangle be displayed. When customizing this value, the\nfact that it refers to pixels, not axis units must be taken into account.\nThus, for example, if there is a bar graph in time mode with BarWidth set to 1\nminute, setting \"minSize\" to 1 will not make the minimum selection size 1\nminute, but rather 1 pixel. Note also that setting \"minSize\" to 0 will prevent\n\"plotunselected\" events from being fired when the user clicks the mouse without\ndragging.\n\nWhen selection support is enabled, a \"plotselected\" event will be emitted on\nthe DOM element you passed into the plot function. The event handler gets a\nparameter with the ranges selected on the axes, like this:\n\n    placeholder.bind( \"plotselected\", function( event, ranges ) {\n        alert(\"You selected \" + ranges.xaxis.from + \" to \" + ranges.xaxis.to)\n        // similar for yaxis - with multiple axes, the extra ones are in\n        // x2axis, x3axis, ...\n    });\n\nThe \"plotselected\" event is only fired when the user has finished making the\nselection. A \"plotselecting\" event is fired during the process with the same\nparameters as the \"plotselected\" event, in case you want to know what's\nhappening while it's happening,\n\nA \"plotunselected\" event with no arguments is emitted when the user clicks the\nmouse to remove the selection. As stated above, setting \"minSize\" to 0 will\ndestroy this behavior.\n\nThe plugin allso adds the following methods to the plot object:\n\n- setSelection( ranges, preventEvent )\n\n  Set the selection rectangle. The passed in ranges is on the same form as\n  returned in the \"plotselected\" event. If the selection mode is \"x\", you\n  should put in either an xaxis range, if the mode is \"y\" you need to put in\n  an yaxis range and both xaxis and yaxis if the selection mode is \"xy\", like\n  this:\n\n    setSelection({ xaxis: { from: 0, to: 10 }, yaxis: { from: 40, to: 60 } });\n\n  setSelection will trigger the \"plotselected\" event when called. If you don't\n  want that to happen, e.g. if you're inside a \"plotselected\" handler, pass\n  true as the second parameter. If you are using multiple axes, you can\n  specify the ranges on any of those, e.g. as x2axis/x3axis/... instead of\n  xaxis, the plugin picks the first one it sees.\n\n- clearSelection( preventEvent )\n\n  Clear the selection rectangle. Pass in true to avoid getting a\n  \"plotunselected\" event.\n\n- getSelection()\n\n  Returns the current selection in the same format as the \"plotselected\"\n  event. If there's currently no selection, the function returns null.\n\n*/\n\n(function ($) {\n    function init(plot) {\n        var selection = {\n            first: {x: -1, y: -1},\n            second: {x: -1, y: -1},\n            show: false,\n            currentMode: 'xy',\n            active: false\n        };\n\n        var SNAPPING_CONSTANT = $.plot.uiConstants.SNAPPING_CONSTANT;\n\n        // FIXME: The drag handling implemented here should be\n        // abstracted out, there's some similar code from a library in\n        // the navigation plugin, this should be massaged a bit to fit\n        // the Flot cases here better and reused. Doing this would\n        // make this plugin much slimmer.\n        var savedhandlers = {};\n\n        function onDrag(e) {\n            if (selection.active) {\n                updateSelection(e);\n\n                plot.getPlaceholder().trigger(\"plotselecting\", [ getSelection() ]);\n            }\n        }\n\n        function onDragStart(e) {\n            var o = plot.getOptions();\n            // only accept left-click\n            if (e.which !== 1 || o.selection.mode === null) return;\n\n            // reinitialize currentMode\n            selection.currentMode = 'xy';\n\n            // cancel out any text selections\n            document.body.focus();\n\n            // prevent text selection and drag in old-school browsers\n            if (document.onselectstart !== undefined && savedhandlers.onselectstart == null) {\n                savedhandlers.onselectstart = document.onselectstart;\n                document.onselectstart = function () { return false; };\n            }\n            if (document.ondrag !== undefined && savedhandlers.ondrag == null) {\n                savedhandlers.ondrag = document.ondrag;\n                document.ondrag = function () { return false; };\n            }\n\n            setSelectionPos(selection.first, e);\n\n            selection.active = true;\n        }\n\n        function onDragEnd(e) {\n            // revert drag stuff for old-school browsers\n            if (document.onselectstart !== undefined) {\n                document.onselectstart = savedhandlers.onselectstart;\n            }\n\n            if (document.ondrag !== undefined) {\n                document.ondrag = savedhandlers.ondrag;\n            }\n\n            // no more dragging\n            selection.active = false;\n            updateSelection(e);\n\n            if (selectionIsSane()) {\n                triggerSelectedEvent();\n            } else {\n                // this counts as a clear\n                plot.getPlaceholder().trigger(\"plotunselected\", [ ]);\n                plot.getPlaceholder().trigger(\"plotselecting\", [ null ]);\n            }\n\n            return false;\n        }\n\n        function getSelection() {\n            if (!selectionIsSane()) return null;\n\n            if (!selection.show) return null;\n\n            var r = {},\n                c1 = {x: selection.first.x, y: selection.first.y},\n                c2 = {x: selection.second.x, y: selection.second.y};\n\n            if (selectionDirection(plot) === 'x') {\n                c1.y = 0;\n                c2.y = plot.height();\n            }\n\n            if (selectionDirection(plot) === 'y') {\n                c1.x = 0;\n                c2.x = plot.width();\n            }\n\n            $.each(plot.getAxes(), function (name, axis) {\n                if (axis.used) {\n                    var p1 = axis.c2p(c1[axis.direction]), p2 = axis.c2p(c2[axis.direction]);\n                    r[name] = { from: Math.min(p1, p2), to: Math.max(p1, p2) };\n                }\n            });\n            return r;\n        }\n\n        function triggerSelectedEvent() {\n            var r = getSelection();\n\n            plot.getPlaceholder().trigger(\"plotselected\", [ r ]);\n\n            // backwards-compat stuff, to be removed in future\n            if (r.xaxis && r.yaxis) {\n                plot.getPlaceholder().trigger(\"selected\", [ { x1: r.xaxis.from, y1: r.yaxis.from, x2: r.xaxis.to, y2: r.yaxis.to } ]);\n            }\n        }\n\n        function clamp(min, value, max) {\n            return value < min ? min : (value > max ? max : value);\n        }\n\n        function selectionDirection(plot) {\n            var o = plot.getOptions();\n\n            if (o.selection.mode === 'smart') {\n                return selection.currentMode;\n            } else {\n                return o.selection.mode;\n            }\n        }\n\n        function updateMode(pos) {\n            if (selection.first) {\n                var delta = {\n                    x: pos.x - selection.first.x,\n                    y: pos.y - selection.first.y\n                };\n\n                if (Math.abs(delta.x) < SNAPPING_CONSTANT) {\n                    selection.currentMode = 'y';\n                } else if (Math.abs(delta.y) < SNAPPING_CONSTANT) {\n                    selection.currentMode = 'x';\n                } else {\n                    selection.currentMode = 'xy';\n                }\n            }\n        }\n\n        function setSelectionPos(pos, e) {\n            var offset = plot.getPlaceholder().offset();\n            var plotOffset = plot.getPlotOffset();\n            pos.x = clamp(0, e.pageX - offset.left - plotOffset.left, plot.width());\n            pos.y = clamp(0, e.pageY - offset.top - plotOffset.top, plot.height());\n\n            if (pos !== selection.first) updateMode(pos);\n\n            if (selectionDirection(plot) === \"y\") {\n                pos.x = pos === selection.first ? 0 : plot.width();\n            }\n\n            if (selectionDirection(plot) === \"x\") {\n                pos.y = pos === selection.first ? 0 : plot.height();\n            }\n        }\n\n        function updateSelection(pos) {\n            if (pos.pageX == null) return;\n\n            setSelectionPos(selection.second, pos);\n            if (selectionIsSane()) {\n                selection.show = true;\n                plot.triggerRedrawOverlay();\n            } else clearSelection(true);\n        }\n\n        function clearSelection(preventEvent) {\n            if (selection.show) {\n                selection.show = false;\n                selection.currentMode = '';\n                plot.triggerRedrawOverlay();\n                if (!preventEvent) {\n                    plot.getPlaceholder().trigger(\"plotunselected\", [ ]);\n                }\n            }\n        }\n\n        // function taken from markings support in Flot\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = plot.getAxes();\n\n            for (var k in axes) {\n                axis = axes[k];\n                if (axis.direction === coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n === 1) {\n                        // support x1axis as xaxis\n                        key = coord + \"axis\";\n                    }\n\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord === \"x\" ? plot.getXAxes()[0] : plot.getYAxes()[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n\n            return { from: from, to: to, axis: axis };\n        }\n\n        function setSelection(ranges, preventEvent) {\n            var range;\n\n            if (selectionDirection(plot) === \"y\") {\n                selection.first.x = 0;\n                selection.second.x = plot.width();\n            } else {\n                range = extractRange(ranges, \"x\");\n                selection.first.x = range.axis.p2c(range.from);\n                selection.second.x = range.axis.p2c(range.to);\n            }\n\n            if (selectionDirection(plot) === \"x\") {\n                selection.first.y = 0;\n                selection.second.y = plot.height();\n            } else {\n                range = extractRange(ranges, \"y\");\n                selection.first.y = range.axis.p2c(range.from);\n                selection.second.y = range.axis.p2c(range.to);\n            }\n\n            selection.show = true;\n            plot.triggerRedrawOverlay();\n            if (!preventEvent && selectionIsSane()) {\n                triggerSelectedEvent();\n            }\n        }\n\n        function selectionIsSane() {\n            var minSize = plot.getOptions().selection.minSize;\n            return Math.abs(selection.second.x - selection.first.x) >= minSize &&\n                Math.abs(selection.second.y - selection.first.y) >= minSize;\n        }\n\n        plot.clearSelection = clearSelection;\n        plot.setSelection = setSelection;\n        plot.getSelection = getSelection;\n\n        plot.hooks.bindEvents.push(function(plot, eventHolder) {\n            var o = plot.getOptions();\n            if (o.selection.mode != null) {\n                plot.addEventHandler(\"dragstart\", onDragStart, eventHolder, 0);\n                plot.addEventHandler(\"drag\", onDrag, eventHolder, 0);\n                plot.addEventHandler(\"dragend\", onDragEnd, eventHolder, 0);\n            }\n        });\n\n        function drawSelectionDecorations(ctx, x, y, w, h, oX, oY, mode) {\n            var spacing = 3;\n            var fullEarWidth = 15;\n            var earWidth = Math.max(0, Math.min(fullEarWidth, w / 2 - 2, h / 2 - 2));\n            ctx.fillStyle = '#ffffff';\n\n            if (mode === 'xy') {\n                ctx.beginPath();\n                ctx.moveTo(x, y + earWidth);\n                ctx.lineTo(x - 3, y + earWidth);\n                ctx.lineTo(x - 3, y - 3);\n                ctx.lineTo(x + earWidth, y - 3);\n                ctx.lineTo(x + earWidth, y);\n                ctx.lineTo(x, y);\n                ctx.closePath();\n\n                ctx.moveTo(x, y + h - earWidth);\n                ctx.lineTo(x - 3, y + h - earWidth);\n                ctx.lineTo(x - 3, y + h + 3);\n                ctx.lineTo(x + earWidth, y + h + 3);\n                ctx.lineTo(x + earWidth, y + h);\n                ctx.lineTo(x, y + h);\n                ctx.closePath();\n\n                ctx.moveTo(x + w, y + earWidth);\n                ctx.lineTo(x + w + 3, y + earWidth);\n                ctx.lineTo(x + w + 3, y - 3);\n                ctx.lineTo(x + w - earWidth, y - 3);\n                ctx.lineTo(x + w - earWidth, y);\n                ctx.lineTo(x + w, y);\n                ctx.closePath();\n\n                ctx.moveTo(x + w, y + h - earWidth);\n                ctx.lineTo(x + w + 3, y + h - earWidth);\n                ctx.lineTo(x + w + 3, y + h + 3);\n                ctx.lineTo(x + w - earWidth, y + h + 3);\n                ctx.lineTo(x + w - earWidth, y + h);\n                ctx.lineTo(x + w, y + h);\n                ctx.closePath();\n\n                ctx.stroke();\n                ctx.fill();\n            }\n\n            x = oX;\n            y = oY;\n\n            if (mode === 'x') {\n                ctx.beginPath();\n                ctx.moveTo(x, y + fullEarWidth);\n                ctx.lineTo(x, y - fullEarWidth);\n                ctx.lineTo(x - spacing, y - fullEarWidth);\n                ctx.lineTo(x - spacing, y + fullEarWidth);\n                ctx.closePath();\n\n                ctx.moveTo(x + w, y + fullEarWidth);\n                ctx.lineTo(x + w, y - fullEarWidth);\n                ctx.lineTo(x + w + spacing, y - fullEarWidth);\n                ctx.lineTo(x + w + spacing, y + fullEarWidth);\n                ctx.closePath();\n                ctx.stroke();\n                ctx.fill();\n            }\n\n            if (mode === 'y') {\n                ctx.beginPath();\n\n                ctx.moveTo(x - fullEarWidth, y);\n                ctx.lineTo(x + fullEarWidth, y);\n                ctx.lineTo(x + fullEarWidth, y - spacing);\n                ctx.lineTo(x - fullEarWidth, y - spacing);\n                ctx.closePath();\n\n                ctx.moveTo(x - fullEarWidth, y + h);\n                ctx.lineTo(x + fullEarWidth, y + h);\n                ctx.lineTo(x + fullEarWidth, y + h + spacing);\n                ctx.lineTo(x - fullEarWidth, y + h + spacing);\n                ctx.closePath();\n                ctx.stroke();\n                ctx.fill();\n            }\n        }\n\n        plot.hooks.drawOverlay.push(function (plot, ctx) {\n            // draw selection\n            if (selection.show && selectionIsSane()) {\n                var plotOffset = plot.getPlotOffset();\n                var o = plot.getOptions();\n\n                ctx.save();\n                ctx.translate(plotOffset.left, plotOffset.top);\n\n                var c = $.color.parse(o.selection.color);\n                var visualization = o.selection.visualization;\n                var displaySelectionDecorations = o.selection.displaySelectionDecorations;\n\n                var scalingFactor = 1;\n\n                // use a dimmer scaling factor if visualization is \"fill\"\n                if (visualization === \"fill\") {\n                    scalingFactor = 0.8;\n                }\n\n                ctx.strokeStyle = c.scale('a', scalingFactor).toString();\n                ctx.lineWidth = 1;\n                ctx.lineJoin = o.selection.shape;\n                ctx.fillStyle = c.scale('a', 0.4).toString();\n\n                var x = Math.min(selection.first.x, selection.second.x) + 0.5,\n                    oX = x,\n                    y = Math.min(selection.first.y, selection.second.y) + 0.5,\n                    oY = y,\n                    w = Math.abs(selection.second.x - selection.first.x) - 1,\n                    h = Math.abs(selection.second.y - selection.first.y) - 1;\n\n                if (selectionDirection(plot) === 'x') {\n                    h += y;\n                    y = 0;\n                }\n\n                if (selectionDirection(plot) === 'y') {\n                    w += x;\n                    x = 0;\n                }\n\n                if (visualization === \"fill\") {\n                    ctx.fillRect(x, y, w, h);\n                    ctx.strokeRect(x, y, w, h);\n                } else {\n                    ctx.fillRect(0, 0, plot.width(), plot.height());\n                    ctx.clearRect(x, y, w, h);\n\n                    if (displaySelectionDecorations) {\n                        drawSelectionDecorations(ctx, x, y, w, h, oX, oY, selectionDirection(plot));\n                    }\n                }\n\n                ctx.restore();\n            }\n        });\n\n        plot.hooks.shutdown.push(function (plot, eventHolder) {\n            eventHolder.unbind(\"dragstart\", onDragStart);\n            eventHolder.unbind(\"drag\", onDrag);\n            eventHolder.unbind(\"dragend\", onDragEnd);\n        });\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: {\n            selection: {\n                mode: null, // one of null, \"x\", \"y\" or \"xy\"\n                visualization: \"focus\", // \"focus\" or \"fill\"\n                displaySelectionDecorations: true, // true or false (currently only relevant for the focus visualization)\n                color: \"#888888\",\n                shape: \"round\", // one of \"round\", \"miter\", or \"bevel\"\n                minSize: 5 // minimum number of pixels\n            }\n        },\n        name: 'selection',\n        version: '1.1'\n    });\n})(jQuery);\n","/** ## jquery.flot.composeImages.js\n\nThis plugin is used to expose a function used to overlap several canvases and\nSVGs, for the purpose of creating a snaphot out of them.\n\n### When composeImages is used:\nWhen multiple canvases and SVGs have to be overlapped into a single image\nand their offset on the page, must be preserved.\n\n### Where can be used:\nIn creating a downloadable snapshot of the plots, axes, cursors etc of a graph.\n\n### How it works:\nThe entry point is composeImages function. It expects an array of objects,\nwhich should be either canvases or SVGs (or a mix). It does a prevalidation\nof them, by verifying if they will be usable or not, later in the flow.\nAfter selecting only usable sources, it passes them to getGenerateTempImg\nfunction, which generates temporary images out of them. This function\nexpects that some of the passed sources (canvas or SVG) may still have\nproblems being converted to an image and makes sure the promises system,\nused by composeImages function, moves forward. As an example, SVGs with\nmissing information from header or with unsupported content, may lead to\nfailure in generating the temporary image. Temporary images are required\nmostly on extracting content from SVGs, but this is also where the x/y\noffsets are extracted for each image which will be added. For SVGs in\nparticular, their CSS rules have to be applied.\nAfter all temporary images are generated, they are overlapped using\ngetExecuteImgComposition function. This is where the destination canvas\nis set to the proper dimensions. It is then output by composeImages.\nThis function returns a promise, which can be used to wait for the whole\ncomposition process. It requires to be asynchronous, because this is how\ntemporary images load their data.\n*/\n\n(function($) {\n    \"use strict\";\n    const GENERALFAILURECALLBACKERROR = -100; //simply a negative number\n    const SUCCESSFULIMAGEPREPARATION = 0;\n    const EMPTYARRAYOFIMAGESOURCES = -1;\n    const NEGATIVEIMAGESIZE = -2;\n    var pixelRatio = 1;\n    var browser = $.plot.browser;\n    var getPixelRatio = browser.getPixelRatio;\n\n    function composeImages(canvasOrSvgSources, destinationCanvas) {\n        var validCanvasOrSvgSources = canvasOrSvgSources.filter(isValidSource);\n        pixelRatio = getPixelRatio(destinationCanvas.getContext('2d'));\n\n        var allImgCompositionPromises = validCanvasOrSvgSources.map(function(validCanvasOrSvgSource) {\n            var tempImg = new Image();\n            var currentPromise = new Promise(getGenerateTempImg(tempImg, validCanvasOrSvgSource));\n            return currentPromise;\n        });\n\n        var lastPromise = Promise.all(allImgCompositionPromises).then(getExecuteImgComposition(destinationCanvas), failureCallback);\n        return lastPromise;\n    }\n\n    function isValidSource(canvasOrSvgSource) {\n        var isValidFromCanvas = true;\n        var isValidFromContent = true;\n        if ((canvasOrSvgSource === null) || (canvasOrSvgSource === undefined)) {\n            isValidFromContent = false;\n        } else {\n            if (canvasOrSvgSource.tagName === 'CANVAS') {\n                if ((canvasOrSvgSource.getBoundingClientRect().right === canvasOrSvgSource.getBoundingClientRect().left) ||\n                    (canvasOrSvgSource.getBoundingClientRect().bottom === canvasOrSvgSource.getBoundingClientRect().top)) {\n                    isValidFromCanvas = false;\n                }\n            }\n        }\n        return isValidFromContent && isValidFromCanvas && (window.getComputedStyle(canvasOrSvgSource).visibility === 'visible');\n    }\n\n    function getGenerateTempImg(tempImg, canvasOrSvgSource) {\n        tempImg.sourceDescription = '<info className=\"' + canvasOrSvgSource.className + '\" tagName=\"' + canvasOrSvgSource.tagName + '\" id=\"' + canvasOrSvgSource.id + '\">';\n        tempImg.sourceComponent = canvasOrSvgSource;\n\n        return function doGenerateTempImg(successCallbackFunc, failureCallbackFunc) {\n            tempImg.onload = function(evt) {\n                tempImg.successfullyLoaded = true;\n                successCallbackFunc(tempImg);\n            };\n\n            tempImg.onabort = function(evt) {\n                tempImg.successfullyLoaded = false;\n                console.log('Can\\'t generate temp image from ' + tempImg.sourceDescription + '. It is possible that it is missing some properties or its content is not supported by this browser. Source component:', tempImg.sourceComponent);\n                successCallbackFunc(tempImg); //call successCallback, to allow snapshot of all working images\n            };\n\n            tempImg.onerror = function(evt) {\n                tempImg.successfullyLoaded = false;\n                console.log('Can\\'t generate temp image from ' + tempImg.sourceDescription + '. It is possible that it is missing some properties or its content is not supported by this browser. Source component:', tempImg.sourceComponent);\n                successCallbackFunc(tempImg); //call successCallback, to allow snapshot of all working images\n            };\n\n            generateTempImageFromCanvasOrSvg(canvasOrSvgSource, tempImg);\n        };\n    }\n\n    function getExecuteImgComposition(destinationCanvas) {\n        return function executeImgComposition(tempImgs) {\n            var compositionResult = copyImgsToCanvas(tempImgs, destinationCanvas);\n            return compositionResult;\n        };\n    }\n\n    function copyCanvasToImg(canvas, img) {\n        img.src = canvas.toDataURL('image/png');\n    }\n\n    function getCSSRules(document) {\n        var styleSheets = document.styleSheets,\n            rulesList = [];\n        for (var i = 0; i < styleSheets.length; i++) {\n            // CORS requests for style sheets throw and an exception on Chrome > 64\n            try {\n                // in Chrome, the external CSS files are empty when the page is directly loaded from disk\n                var rules = styleSheets[i].cssRules || [];\n                for (var j = 0; j < rules.length; j++) {\n                    var rule = rules[j];\n                    rulesList.push(rule.cssText);\n                }\n            } catch (e) {\n                console.log('Failed to get some css rules');\n            }\n        }\n        return rulesList;\n    }\n\n    function embedCSSRulesInSVG(rules, svg) {\n        var text = [\n            '<svg class=\"snapshot ' + svg.classList + '\" width=\"' + svg.width.baseVal.value * pixelRatio + '\" height=\"' + svg.height.baseVal.value * pixelRatio + '\" viewBox=\"0 0 ' + svg.width.baseVal.value + ' ' + svg.height.baseVal.value + '\" xmlns=\"http://www.w3.org/2000/svg\">',\n            '<style>',\n            '/* <![CDATA[ */',\n            rules.join('\\n'),\n            '/* ]]> */',\n            '</style>',\n            svg.innerHTML,\n            '</svg>'\n        ].join('\\n');\n        return text;\n    }\n\n    function copySVGToImgMostBrowsers(svg, img) {\n        var rules = getCSSRules(document),\n            source = embedCSSRulesInSVG(rules, svg);\n\n        source = patchSVGSource(source);\n\n        var blob = new Blob([source], {type: \"image/svg+xml;charset=utf-8\"}),\n            domURL = self.URL || self.webkitURL || self,\n            url = domURL.createObjectURL(blob);\n        img.src = url;\n    }\n\n    function copySVGToImgSafari(svg, img) {\n        // Use this method to convert a string buffer array to a binary string.\n        // Do so by breaking up large strings into smaller substrings; this is necessary to avoid the\n        // \"maximum call stack size exceeded\" exception that can happen when calling 'String.fromCharCode.apply'\n        // with a very long array.\n        function buildBinaryString (arrayBuffer) {\n            var binaryString = \"\";\n            const utf8Array = new Uint8Array(arrayBuffer);\n            const blockSize = 16384;\n            for (var i = 0; i < utf8Array.length; i = i + blockSize) {\n                const binarySubString = String.fromCharCode.apply(null, utf8Array.subarray(i, i + blockSize));\n                binaryString = binaryString + binarySubString;\n            }\n            return binaryString;\n        };\n\n        var rules = getCSSRules(document),\n            source = embedCSSRulesInSVG(rules, svg),\n            data,\n            utf8BinaryString;\n\n        source = patchSVGSource(source);\n\n        // Encode the string as UTF-8 and convert it to a binary string. The UTF-8 encoding is required to\n        // capture unicode characters correctly.\n        utf8BinaryString = buildBinaryString(new (TextEncoder || TextEncoderLite)('utf-8').encode(source));\n\n        data = \"data:image/svg+xml;base64,\" + btoa(utf8BinaryString);\n        img.src = data;\n    }\n\n    function patchSVGSource(svgSource) {\n        var source = '';\n        //add name spaces.\n        if (!svgSource.match(/^<svg[^>]+xmlns=\"http:\\/\\/www\\.w3\\.org\\/2000\\/svg\"/)) {\n            source = svgSource.replace(/^<svg/, '<svg xmlns=\"http://www.w3.org/2000/svg\"');\n        }\n        if (!svgSource.match(/^<svg[^>]+\"http:\\/\\/www\\.w3\\.org\\/1999\\/xlink\"/)) {\n            source = svgSource.replace(/^<svg/, '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"');\n        }\n\n        //add xml declaration\n        return '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + source;\n    }\n\n    function copySVGToImg(svg, img) {\n        if (browser.isSafari() || browser.isMobileSafari()) {\n            copySVGToImgSafari(svg, img);\n        } else {\n            copySVGToImgMostBrowsers(svg, img);\n        }\n    }\n\n    function adaptDestSizeToZoom(destinationCanvas, sources) {\n        function containsSVGs(source) {\n            return source.srcImgTagName === 'svg';\n        }\n\n        if (sources.find(containsSVGs) !== undefined) {\n            if (pixelRatio < 1) {\n                destinationCanvas.width = destinationCanvas.width * pixelRatio;\n                destinationCanvas.height = destinationCanvas.height * pixelRatio;\n            }\n        }\n    }\n\n    function prepareImagesToBeComposed(sources, destination) {\n        var result = SUCCESSFULIMAGEPREPARATION;\n        if (sources.length === 0) {\n            result = EMPTYARRAYOFIMAGESOURCES; //nothing to do if called without sources\n        } else {\n            var minX = sources[0].genLeft;\n            var minY = sources[0].genTop;\n            var maxX = sources[0].genRight;\n            var maxY = sources[0].genBottom;\n            var i = 0;\n\n            for (i = 1; i < sources.length; i++) {\n                if (minX > sources[i].genLeft) {\n                    minX = sources[i].genLeft;\n                }\n\n                if (minY > sources[i].genTop) {\n                    minY = sources[i].genTop;\n                }\n            }\n\n            for (i = 1; i < sources.length; i++) {\n                if (maxX < sources[i].genRight) {\n                    maxX = sources[i].genRight;\n                }\n\n                if (maxY < sources[i].genBottom) {\n                    maxY = sources[i].genBottom;\n                }\n            }\n\n            if ((maxX - minX <= 0) || (maxY - minY <= 0)) {\n                result = NEGATIVEIMAGESIZE; //this might occur on hidden images\n            } else {\n                destination.width = Math.round(maxX - minX);\n                destination.height = Math.round(maxY - minY);\n\n                for (i = 0; i < sources.length; i++) {\n                    sources[i].xCompOffset = sources[i].genLeft - minX;\n                    sources[i].yCompOffset = sources[i].genTop - minY;\n                }\n\n                adaptDestSizeToZoom(destination, sources);\n            }\n        }\n        return result;\n    }\n\n    function copyImgsToCanvas(sources, destination) {\n        var prepareImagesResult = prepareImagesToBeComposed(sources, destination);\n        if (prepareImagesResult === SUCCESSFULIMAGEPREPARATION) {\n            var destinationCtx = destination.getContext('2d');\n\n            for (var i = 0; i < sources.length; i++) {\n                if (sources[i].successfullyLoaded === true) {\n                    destinationCtx.drawImage(sources[i], sources[i].xCompOffset * pixelRatio, sources[i].yCompOffset * pixelRatio);\n                }\n            }\n        }\n        return prepareImagesResult;\n    }\n\n    function adnotateDestImgWithBoundingClientRect(srcCanvasOrSvg, destImg) {\n        destImg.genLeft = srcCanvasOrSvg.getBoundingClientRect().left;\n        destImg.genTop = srcCanvasOrSvg.getBoundingClientRect().top;\n\n        if (srcCanvasOrSvg.tagName === 'CANVAS') {\n            destImg.genRight = destImg.genLeft + srcCanvasOrSvg.width;\n            destImg.genBottom = destImg.genTop + srcCanvasOrSvg.height;\n        }\n\n        if (srcCanvasOrSvg.tagName === 'svg') {\n            destImg.genRight = srcCanvasOrSvg.getBoundingClientRect().right;\n            destImg.genBottom = srcCanvasOrSvg.getBoundingClientRect().bottom;\n        }\n    }\n\n    function generateTempImageFromCanvasOrSvg(srcCanvasOrSvg, destImg) {\n        if (srcCanvasOrSvg.tagName === 'CANVAS') {\n            copyCanvasToImg(srcCanvasOrSvg, destImg);\n        }\n\n        if (srcCanvasOrSvg.tagName === 'svg') {\n            copySVGToImg(srcCanvasOrSvg, destImg);\n        }\n\n        destImg.srcImgTagName = srcCanvasOrSvg.tagName;\n        adnotateDestImgWithBoundingClientRect(srcCanvasOrSvg, destImg);\n    }\n\n    function failureCallback() {\n        return GENERALFAILURECALLBACKERROR;\n    }\n\n    // used for testing\n    $.plot.composeImages = composeImages;\n\n    function init(plot) {\n        // used to extend the public API of the plot\n        plot.composeImages = composeImages;\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        name: 'composeImages',\n        version: '1.0'\n    });\n})(jQuery);\n","/* Flot plugin for drawing legends.\n\n*/\n\n(function($) {\n    var defaultOptions = {\n        legend: {\n            show: false,\n            noColumns: 1,\n            labelFormatter: null, // fn: string -> string\n            container: null, // container (as jQuery object) to put legend in, null means default on top of graph\n            position: 'ne', // position of default legend container within plot\n            margin: 5, // distance from grid edge to default legend container within plot\n            sorted: null, // default to no legend sorting\n            backgroundColor: null, \n            backgroundOpacity: 0 // No background shows by default\n        }\n    };\n\n    function insertLegend(plot, options, placeholder, legendEntries) {\n        // clear before redraw\n        if (options.legend.container != null) {\n            $(options.legend.container).html('');\n        } else {\n            placeholder.find('.legend').remove();\n        }\n\n        if (!options.legend.show) {\n            return;\n        }\n\n        // Save the legend entries in legend options\n        var entries = options.legend.legendEntries = legendEntries,\n            plotOffset = options.legend.plotOffset = plot.getPlotOffset(),\n            html = [],\n            entry, labelHtml, iconHtml,\n            j = 0,\n            i,\n            pos = \"\",\n            p = options.legend.position,\n            m = options.legend.margin,\n            shape = {\n                name: '',\n                label: '',\n                xPos: '',\n                yPos: ''\n            };\n\n        html[j++] = '<svg class=\"legendLayer\" style=\"width:inherit;height:inherit;\">';\n        html[j++] = '<rect class=\"background\" width=\"100%\" height=\"100%\"/>';\n        html[j++] = svgShapeDefs;\n\n        var left = 0;\n        var columnWidths = [];\n        var style = window.getComputedStyle(document.querySelector('body'));\n        for (i = 0; i < entries.length; ++i) {\n            let columnIndex = i % options.legend.noColumns;\n            entry = entries[i];\n            shape.label = entry.label;\n            var info = plot.getSurface().getTextInfo('', shape.label, {\n                style: style.fontStyle,\n                variant: style.fontVariant,\n                weight: style.fontWeight,\n                size: parseInt(style.fontSize),\n                lineHeight: parseInt(style.lineHeight),\n                family: style.fontFamily\n            });\n\n            var labelWidth = info.width;\n            // 36px = 1.5em + 6px margin\n            var iconWidth = 48;\n            if (columnWidths[columnIndex]) {\n                if (labelWidth > columnWidths[columnIndex]) {\n                    columnWidths[columnIndex] = labelWidth + iconWidth;\n                }\n            } else {\n                columnWidths[columnIndex] = labelWidth + iconWidth;\n            }\n        }\n\n        // Generate html for icons and labels from a list of entries\n        for (i = 0; i < entries.length; ++i) {\n            let columnIndex = i % options.legend.noColumns;\n            entry = entries[i];\n            iconHtml = '';\n            shape.label = entry.label;\n            shape.xPos = (left + 3) + 'px';\n            left += columnWidths[columnIndex];\n            if ((i + 1) % options.legend.noColumns === 0) {\n                left = 0;\n            }\n            shape.yPos = Math.floor(i / options.legend.noColumns) * 1.5 + 'em';\n            // area\n            if (entry.options.lines.show && entry.options.lines.fill) {\n                shape.name = 'area';\n                shape.fillColor = entry.color;\n                iconHtml += getEntryIconHtml(shape);\n            }\n            // bars\n            if (entry.options.bars.show) {\n                shape.name = 'bar';\n                shape.fillColor = entry.color;\n                iconHtml += getEntryIconHtml(shape);\n            }\n            // lines\n            if (entry.options.lines.show && !entry.options.lines.fill) {\n                shape.name = 'line';\n                shape.strokeColor = entry.color;\n                shape.strokeWidth = entry.options.lines.lineWidth;\n                iconHtml += getEntryIconHtml(shape);\n            }\n            // points\n            if (entry.options.points.show) {\n                shape.name = entry.options.points.symbol;\n                shape.strokeColor = entry.color;\n                shape.fillColor = entry.options.points.fillColor;\n                shape.strokeWidth = entry.options.points.lineWidth;\n                iconHtml += getEntryIconHtml(shape);\n            }\n\n            labelHtml = '<text x=\"' + shape.xPos + '\" y=\"' + shape.yPos + '\" text-anchor=\"start\"><tspan dx=\"2em\" dy=\"1.2em\">' + shape.label + '</tspan></text>'\n            html[j++] = '<g>' + iconHtml + labelHtml + '</g>';\n        }\n\n        html[j++] = '</svg>';\n        if (m[0] == null) {\n            m = [m, m];\n        }\n\n        if (p.charAt(0) === 'n') {\n            pos += 'top:' + (m[1] + plotOffset.top) + 'px;';\n        } else if (p.charAt(0) === 's') {\n            pos += 'bottom:' + (m[1] + plotOffset.bottom) + 'px;';\n        }\n\n        if (p.charAt(1) === 'e') {\n            pos += 'right:' + (m[0] + plotOffset.right) + 'px;';\n        } else if (p.charAt(1) === 'w') {\n            pos += 'left:' + (m[0] + plotOffset.left) + 'px;';\n        }\n\n        var width = 6;\n        for (i = 0; i < columnWidths.length; ++i) {\n            width += columnWidths[i];\n        }\n\n        var legendEl,\n            height = Math.ceil(entries.length / options.legend.noColumns) * 1.6;\n        if (!options.legend.container) {\n            legendEl = $('<div class=\"legend\" style=\"position:absolute;' + pos + '\">' + html.join('') + '</div>').appendTo(placeholder);\n            legendEl.css('width', width + 'px');\n            legendEl.css('height', height + 'em');\n            legendEl.css('pointerEvents', 'none');\n        } else {\n            legendEl = $(html.join('')).appendTo(options.legend.container)[0];\n            options.legend.container.style.width = width + 'px';\n            options.legend.container.style.height = height + 'em';\n        }\n\n        // ----------------------------------------------------------------------------------------\n        // Control backgroundColor\n        // ----------------------------------------------------------------------------------------\n        if(options.legend.backgroundColor){\n            $('.legendLayer rect.background').css({\n                'fill': options.legend.backgroundColor, // New SVG 2.0 spec, uses fill\n                'background': options.legend.backgroundColor, // Back compau with SVG 1.1\n            });            \n        }\n        // ----------------------------------------------------------------------------------------\n        // Control background-opacity\n        // ----------------------------------------------------------------------------------------\n        $('.legendLayer rect.background').css('opacity', options.legend.backgroundOpacity? options.legend.backgroundOpacity : 1);\n    }\n\n    // Generate html for a shape\n    function getEntryIconHtml(shape) {\n        var html = '',\n            name = shape.name,\n            x = shape.xPos,\n            y = shape.yPos,\n            fill = shape.fillColor,\n            stroke = shape.strokeColor,\n            width = shape.strokeWidth;\n        switch (name) {\n            case 'circle':\n                html = '<use xlink:href=\"#circle\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    'fill=\"' + fill + '\" ' +\n                    'stroke=\"' + stroke + '\" ' +\n                    'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n                break;\n            case 'diamond':\n                html = '<use xlink:href=\"#diamond\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    'fill=\"' + fill + '\" ' +\n                    'stroke=\"' + stroke + '\" ' +\n                    'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n                break;\n            case 'cross':\n                html = '<use xlink:href=\"#cross\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    // 'fill=\"' + fill + '\" ' +\n                    'stroke=\"' + stroke + '\" ' +\n                    'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n                break;\n            case 'rectangle':\n                html = '<use xlink:href=\"#rectangle\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    'fill=\"' + fill + '\" ' +\n                    'stroke=\"' + stroke + '\" ' +\n                    'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n                break;\n            case 'plus':\n                html = '<use xlink:href=\"#plus\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    // 'fill=\"' + fill + '\" ' +\n                    'stroke=\"' + stroke + '\" ' +\n                    'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n                break;\n            case 'bar':\n                html = '<use xlink:href=\"#bars\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    'fill=\"' + fill + '\" ' +\n                    // 'stroke=\"' + stroke + '\" ' +\n                    // 'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n                break;\n            case 'area':\n                html = '<use xlink:href=\"#area\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    'fill=\"' + fill + '\" ' +\n                    // 'stroke=\"' + stroke + '\" ' +\n                    // 'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n                break;\n            case 'line':\n                html = '<use xlink:href=\"#line\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    // 'fill=\"' + fill + '\" ' +\n                    'stroke=\"' + stroke + '\" ' +\n                    'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n                break;\n            default:\n                // default is circle\n                html = '<use xlink:href=\"#circle\" class=\"legendIcon\" ' +\n                    'x=\"' + x + '\" ' +\n                    'y=\"' + y + '\" ' +\n                    'fill=\"' + fill + '\" ' +\n                    'stroke=\"' + stroke + '\" ' +\n                    'stroke-width=\"' + width + '\" ' +\n                    'width=\"1.5em\" height=\"1.5em\"' +\n                    '/>';\n        }\n\n        return html;\n    }\n\n    // Define svg symbols for shapes\n    var svgShapeDefs = '' +\n        '<defs>' +\n            '<symbol id=\"line\" fill=\"none\" viewBox=\"-5 -5 25 25\">' +\n                '<polyline points=\"0,15 5,5 10,10 15,0\"/>' +\n            '</symbol>' +\n\n            '<symbol id=\"area\" stroke-width=\"1\" viewBox=\"-5 -5 25 25\">' +\n                '<polyline points=\"0,15 5,5 10,10 15,0, 15,15, 0,15\"/>' +\n            '</symbol>' +\n\n            '<symbol id=\"bars\" stroke-width=\"1\" viewBox=\"-5 -5 25 25\">' +\n                '<polyline points=\"1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5\"/>' +\n            '</symbol>' +\n\n            '<symbol id=\"circle\" viewBox=\"-5 -5 25 25\">' +\n                '<circle cx=\"0\" cy=\"15\" r=\"2.5\"/>' +\n                '<circle cx=\"5\" cy=\"5\" r=\"2.5\"/>' +\n                '<circle cx=\"10\" cy=\"10\" r=\"2.5\"/>' +\n                '<circle cx=\"15\" cy=\"0\" r=\"2.5\"/>' +\n            '</symbol>' +\n\n            '<symbol id=\"rectangle\" viewBox=\"-5 -5 25 25\">' +\n                '<rect x=\"-2.1\" y=\"12.9\" width=\"4.2\" height=\"4.2\"/>' +\n                '<rect x=\"2.9\" y=\"2.9\" width=\"4.2\" height=\"4.2\"/>' +\n                '<rect x=\"7.9\" y=\"7.9\" width=\"4.2\" height=\"4.2\"/>' +\n                '<rect x=\"12.9\" y=\"-2.1\" width=\"4.2\" height=\"4.2\"/>' +\n            '</symbol>' +\n\n            '<symbol id=\"diamond\" viewBox=\"-5 -5 25 25\">' +\n                '<path d=\"M-3,15 L0,12 L3,15, L0,18 Z\"/>' +\n                '<path d=\"M2,5 L5,2 L8,5, L5,8 Z\"/>' +\n                '<path d=\"M7,10 L10,7 L13,10, L10,13 Z\"/>' +\n                '<path d=\"M12,0 L15,-3 L18,0, L15,3 Z\"/>' +\n            '</symbol>' +\n\n            '<symbol id=\"cross\" fill=\"none\" viewBox=\"-5 -5 25 25\">' +\n                '<path d=\"M-2.1,12.9 L2.1,17.1, M2.1,12.9 L-2.1,17.1 Z\"/>' +\n                '<path d=\"M2.9,2.9 L7.1,7.1 M7.1,2.9 L2.9,7.1 Z\"/>' +\n                '<path d=\"M7.9,7.9 L12.1,12.1 M12.1,7.9 L7.9,12.1 Z\"/>' +\n                '<path d=\"M12.9,-2.1 L17.1,2.1 M17.1,-2.1 L12.9,2.1 Z\"/>' +\n            '</symbol>' +\n\n            '<symbol id=\"plus\" fill=\"none\" viewBox=\"-5 -5 25 25\">' +\n                '<path d=\"M0,12 L0,18, M-3,15 L3,15 Z\"/>' +\n                '<path d=\"M5,2 L5,8 M2,5 L8,5 Z\"/>' +\n                '<path d=\"M10,7 L10,13 M7,10 L13,10 Z\"/>' +\n                '<path d=\"M15,-3 L15,3 M12,0 L18,0 Z\"/>' +\n            '</symbol>' +\n        '</defs>';\n\n    // Generate a list of legend entries in their final order\n    function getLegendEntries(series, labelFormatter, sorted) {\n        var lf = labelFormatter,\n            legendEntries = series.reduce(function(validEntries, s, i) {\n                var labelEval = (lf ? lf(s.label, s) : s.label)\n                if (s.hasOwnProperty(\"label\") ? labelEval : true) {\n                    var entry = {\n                        label: labelEval || 'Plot ' + (i + 1),\n                        color: s.color,\n                        options: {\n                            lines: s.lines,\n                            points: s.points,\n                            bars: s.bars\n                        }\n                    }\n                    validEntries.push(entry)\n                }\n                return validEntries;\n            }, []);\n\n        // Sort the legend using either the default or a custom comparator\n        if (sorted) {\n            if ($.isFunction(sorted)) {\n                legendEntries.sort(sorted);\n            } else if (sorted === 'reverse') {\n                legendEntries.reverse();\n            } else {\n                var ascending = (sorted !== 'descending');\n                legendEntries.sort(function(a, b) {\n                    return a.label === b.label\n                        ? 0\n                        : ((a.label < b.label) !== ascending ? 1 : -1 // Logical XOR\n                        );\n                });\n            }\n        }\n\n        return legendEntries;\n    }\n\n    // return false if opts1 same as opts2\n    function checkOptions(opts1, opts2) {\n        for (var prop in opts1) {\n            if (opts1.hasOwnProperty(prop)) {\n                if (opts1[prop] !== opts2[prop]) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    // Compare two lists of legend entries\n    function shouldRedraw(oldEntries, newEntries) {\n        if (!oldEntries || !newEntries) {\n            return true;\n        }\n\n        if (oldEntries.length !== newEntries.length) {\n            return true;\n        }\n        var i, newEntry, oldEntry, newOpts, oldOpts;\n        for (i = 0; i < newEntries.length; i++) {\n            newEntry = newEntries[i];\n            oldEntry = oldEntries[i];\n\n            if (newEntry.label !== oldEntry.label) {\n                return true;\n            }\n\n            if (newEntry.color !== oldEntry.color) {\n                return true;\n            }\n\n            // check for changes in lines options\n            newOpts = newEntry.options.lines;\n            oldOpts = oldEntry.options.lines;\n            if (checkOptions(newOpts, oldOpts)) {\n                return true;\n            }\n\n            // check for changes in points options\n            newOpts = newEntry.options.points;\n            oldOpts = oldEntry.options.points;\n            if (checkOptions(newOpts, oldOpts)) {\n                return true;\n            }\n\n            // check for changes in bars options\n            newOpts = newEntry.options.bars;\n            oldOpts = oldEntry.options.bars;\n            if (checkOptions(newOpts, oldOpts)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    function init(plot) {\n        plot.hooks.setupGrid.push(function (plot) {\n            var options = plot.getOptions();\n            var series = plot.getData(),\n                labelFormatter = options.legend.labelFormatter,\n                oldEntries = options.legend.legendEntries,\n                oldPlotOffset = options.legend.plotOffset,\n                newEntries = getLegendEntries(series, labelFormatter, options.legend.sorted),\n                newPlotOffset = plot.getPlotOffset();\n\n            if (shouldRedraw(oldEntries, newEntries) ||\n                checkOptions(oldPlotOffset, newPlotOffset)) {\n                insertLegend(plot, options, plot.getPlaceholder(), newEntries);\n            }\n        });\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: defaultOptions,\n        name: 'legend',\n        version: '1.0'\n    });\n})(jQuery);\n"]}